(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[378],{37158:(e,t,i)=>{var n={"./af.js":[20179,3063],"./am.js":[61783,3063],"./ar-dz.js":[98136,3063],"./ar-iq.js":[82690,3063],"./ar-kw.js":[62009,3063],"./ar-ly.js":[49408,3063],"./ar-ma.js":[87330,3063],"./ar-sa.js":[66575,3063],"./ar-tn.js":[5742,3063],"./ar.js":[46567,3063],"./az.js":[14319,3063],"./be.js":[41737,3063],"./bg.js":[86835,3063],"./bi.js":[50045,3063],"./bm.js":[65561,3063],"./bn.js":[57602,3063],"./bo.js":[92594,3063],"./br.js":[34467,3063],"./bs.js":[53169,3063],"./ca.js":[97569,3063],"./cs.js":[30625,3063],"./cv.js":[6326,3063],"./cy.js":[49268,3063],"./da.js":[39710,3063],"./de-at.js":[12369,3063],"./de-ch.js":[71107,3063],"./de.js":[24569,3063],"./dv.js":[25427,3063],"./el.js":[32832,3063],"./en-au.js":[29061,3063],"./en-ca.js":[31304,3063],"./en-gb.js":[84252,3063],"./en-ie.js":[48757,3063],"./en-il.js":[98038,3063],"./en-in.js":[7282,3063],"./en-nz.js":[97960,3063],"./en-sg.js":[435,3063],"./en-tt.js":[90954,3063],"./en.js":[22039,3063],"./eo.js":[39399,3063],"./es-do.js":[47688,3063],"./es-mx.js":[81773,3063],"./es-pr.js":[66106,3063],"./es-us.js":[18541,3063],"./es.js":[23607,3063],"./et.js":[29776,3063],"./eu.js":[87939,3063],"./fa.js":[28288,3063],"./fi.js":[88189,3063],"./fo.js":[49697,3063],"./fr-ca.js":[15296,3063],"./fr-ch.js":[53415,3063],"./fr.js":[4938,3063],"./fy.js":[7811,3063],"./ga.js":[3368,3063],"./gd.js":[53560,3063],"./gl.js":[85222,3063],"./gom-latn.js":[38546,3063],"./gu.js":[78309,3063],"./he.js":[41436,3063],"./hi.js":[463,3063],"./hr.js":[27147,3063],"./ht.js":[95139,3063],"./hu.js":[18224,3063],"./hy-am.js":[25976,3063],"./id.js":[74970,3063],"./is.js":[799,3063],"./it-ch.js":[6071,3063],"./it.js":[97727,3063],"./ja.js":[78117,3063],"./jv.js":[22281,3063],"./ka.js":[87931,3063],"./kk.js":[52334,3063],"./km.js":[35155,3063],"./kn.js":[72879,3063],"./ko.js":[62905,3063],"./ku.js":[34078,3063],"./ky.js":[24026,3063],"./lb.js":[62619,3063],"./lo.js":[29979,3063],"./lt.js":[75887,3063],"./lv.js":[35493,3063],"./me.js":[50532,3063],"./mi.js":[73059,3063],"./mk.js":[17450,3063],"./ml.js":[66422,3063],"./mn.js":[16428,3063],"./mr.js":[35778,3063],"./ms-my.js":[40583,3063],"./ms.js":[33650,3063],"./mt.js":[6045,3063],"./my.js":[74361,3063],"./nb.js":[10697,3063],"./ne.js":[16608,3063],"./nl-be.js":[11377,3063],"./nl.js":[6987,3063],"./nn.js":[8758,3063],"./oc-lnc.js":[68064,3063],"./pa-in.js":[16767,3063],"./pl.js":[28012,3063],"./pt-br.js":[19978,3063],"./pt.js":[51357,3063],"./ro.js":[71948,3063],"./ru.js":[3381,3063],"./rw.js":[79914,3063],"./sd.js":[30225,3063],"./se.js":[46319,3063],"./si.js":[99008,3063],"./sk.js":[84600,3063],"./sl.js":[64955,3063],"./sq.js":[74716,3063],"./sr-cyrl.js":[55854,3063],"./sr.js":[23534,3063],"./ss.js":[19239,3063],"./sv-fi.js":[57972,3063],"./sv.js":[43032,3063],"./sw.js":[60125,3063],"./ta.js":[1565,3063],"./te.js":[92516,3063],"./tet.js":[26712,3063],"./tg.js":[39351,3063],"./th.js":[89225,3063],"./tk.js":[48485,3063],"./tl-ph.js":[17517,3063],"./tlh.js":[35984,3063],"./tr.js":[33092,3063],"./tzl.js":[69109,3063],"./tzm-latn.js":[13637,3063],"./tzm.js":[38063,3063],"./ug-cn.js":[98490,3063],"./uk.js":[65589,3063],"./ur.js":[85859,3063],"./uz-latn.js":[96588,3063],"./uz.js":[45589,3063],"./vi.js":[41191,3063],"./x-pseudo.js":[59018,3063],"./yo.js":[14163,3063],"./zh-cn.js":[9073,3063],"./zh-hk.js":[52970,3063],"./zh-tw.js":[78141,3063],"./zh.js":[42882,3063]};function o(e){if(!i.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],o=t[0];return i.e(t[1]).then((()=>i.t(o,23)))}o.keys=()=>Object.keys(n),o.id=37158,e.exports=o},94595:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>$o});var n=i(11040),o=i(9236),a=i(91051),r=i(21041),s=i(77039),l=i(23745),d=i(66599),c=i(32273),u=i(99297),p=i(45949),h=i(97751),g=i(55198),m=i(58863),v=i(22535),f=i(95733),x=i(74820),b=i(33642),j=i(33966),_=i(17133),y=i(38310),C=i(53984),k=i(41928),I=i(4633),w=i(43423),S=i(19235),P=i(8869),T=i(16468),O=i(78986),U=i(13240),L=i(87342),Z=i(46475),E=i(79591),D=i(40481);const B=(0,U.r)("create_video_playlist")((0,a.memo)((()=>{const[{list:e},t]=(0,o.b7)(j.h,{selector:e=>{var t;return null!==(t=e.create_video_playlist)&&void 0!==t?t:{}},dependencies:[]}),{showBrowserMode:i}=(0,a.useContext)(L._),r=(0,a.useCallback)((e=>()=>{i({index:e,itemListKey:"create_video_playlist",playProgress:0,reportTeaParams:{}})}),[i]),s=(0,a.useCallback)((({id:e,index:t})=>(0,n.jsx)(E.mo,{target:"_blank",rel:"opener",needPostDragIcon:!0,id:e,index:t,onClickVideoItem:r(t)},e)),[r]),l=(0,a.useCallback)((i=>{if(!i.destination)return;const n=(0,Z.H)(e,i.source.index,i.destination.index);t.setItemListById({key:"create_video_playlist",list:n})}),[t,e]);return(0,n.jsx)(D.k,{children:(0,n.jsx)(Z.X,{onDragEnd:l,renderItem:s,list:e},void 0)},void 0)})));var F=i(64047),M=i(73566),q=i(48185),N=i(19630),A=i(35167),z=i(53095),R=i(82346),V=i(20948),W=i(35435),H=i(68854),Y=i(10026),G=i(5549),$=i(60595),K=i(66891),J=i(88125),Q=i(75693),X=i(57244),ee=i(90293),te=i(70526),ie=i(18645);let ne=class{constructor(e){this.fetch=e}createPlaylistWithItems(e){var t;return this.fetch.post("/api/playlist/create_with_items/",{baseUrlType:2,headers:{[te.eD]:this.fetch.csrfToken},body:ee.stringify({name:e.name,itemIds:null!==(t=e.itemIds)&&void 0!==t?t:""})})}};ne=(0,F.__decorate)([(0,X.G)(),(0,F.__metadata)("design:paramtypes",[ie.r])],ne);let oe=class extends M.D{constructor(e,t,i,n,o,a){super(),this.service=e,this.videoPlaylistModule=t,this.playlistItemModule=i,this.itemList=n,this.userPage=o,this.t=a,this.defaultState={loading:!1,statusCode:0}}setLoading(e,t){e.loading=t}setStatusCode(e,t){e.statusCode=t}resetCreatePlaylistState(e){return e.pipe((0,z.z)((()=>(0,R.of)(this.getActions().dispose$(),this.getActions().setLoading(!1),this.getActions().setStatusCode(0)))))}createPlaylistWithItems(e){return e.pipe((0,V.M)(this.videoPlaylistModule.state$),(0,W.w)((([{name:e,cover:t,itemIds:i=[],creator:n},o])=>{const a={name:e,cover:t,itemIds:null==i?void 0:i.join(",")};return this.service.createPlaylistWithItems(a).pipe((0,H.K)((()=>(0,R.of)({statusCode:-1,playlistId:"",statusMsg:""}))),(0,z.z)((({statusCode:a,playlistId:r="",statusMsg:s=""})=>{const l=0===a?"1":"0",d=i.length;if(C.I.handlePostCreatingPlaylist({status:l,fail_reason:s,video_cnt:d,playlist_id:r}),C.I.handleAddPlaylistVideo({enter_method:"create_playlist",video_cnt:d,playlist_id:r,video_list:i.join(","),status:l}),206001===a)return g.h.open({content:this.t("playlist_webapp_toast_error_cheatPlaylist"),duration:3,widthType:"half"}),(0,R.of)(this.noop());if(0!==a&&206002!==a)return g.h.open({content:this.t("playlist_webapp_toast_error_tryagain"),duration:3,widthType:"half"}),(0,R.of)(this.noop());const{playList:c=[]}=o,u={id:r,name:e,mixId:r,mixName:e,cover:t,videoCount:d,creator:n};return g.h.open({content:this.t("playlist_webapp_toast_created"),type:"success",duration:3,widthType:"half"}),(0,R.of)(this.getActions().setStatusCode(a),this.videoPlaylistModule.getActions().setPlaylist(Object.assign(Object.assign({},o),{playList:[r,...c]})),this.playlistItemModule.getActions().setPlaylistItem(u),this.itemList.getActions().setItemListById({key:r,list:i}),this.itemList.getActions().resetItemList({key:"create_video_playlist"}),this.itemList.getActions().resetItemList({key:"user-post-public",loading:!1}),this.userPage.getActions().setProfileState("initial"))})),(0,Y.O)(this.getActions().setLoading(!0)),(0,G.l)(this.getActions().setLoading(!1)))})))}};(0,F.__decorate)([(0,q.cQ)(),(0,F.__metadata)("design:type",$.y)],oe.prototype,"dispose$",void 0),(0,F.__decorate)([(0,q.lF)(),(0,F.__metadata)("design:type",Function),(0,F.__metadata)("design:paramtypes",[Object,Boolean]),(0,F.__metadata)("design:returntype",void 0)],oe.prototype,"setLoading",null),(0,F.__decorate)([(0,q.lF)(),(0,F.__metadata)("design:type",Function),(0,F.__metadata)("design:paramtypes",[Object,Number]),(0,F.__metadata)("design:returntype",void 0)],oe.prototype,"setStatusCode",null),(0,F.__decorate)([(0,q.Qm)(),(0,F.__metadata)("design:type",Function),(0,F.__metadata)("design:paramtypes",[$.y]),(0,F.__metadata)("design:returntype",void 0)],oe.prototype,"resetCreatePlaylistState",null),(0,F.__decorate)([(0,q.Qm)(),(0,F.__metadata)("design:type",Function),(0,F.__metadata)("design:paramtypes",[$.y]),(0,F.__metadata)("design:returntype",void 0)],oe.prototype,"createPlaylistWithItems",null),oe=(0,F.__decorate)([(0,N.Y)("CreatePlaylistModule"),(0,F.__param)(5,(0,A.t)(K.s$)),(0,F.__metadata)("design:paramtypes",[ne,J.c,Q.y,j.h,I.t,Function])],oe);const ae=(0,a.memo)((()=>{var e;const t=(0,c.Q)(),{isDark:i}=(0,x.u)(),[{secUid:r=""},s]=(0,o.b7)(I.t),[{loading:l},u]=(0,o.b7)(oe,{selector:e=>({loading:e.loading}),dependencies:[]}),{loading:p=!1,hasMore:h=!0}=(0,b.m7)((0,o.mp)(j.h,{selector:e=>e["user-post-public"],dependencies:[]})),{user:g,abTestVersion:m,language:v}=(0,b.m7)((0,_.Lh)((()=>["user","abTestVersion","language"]),[])),{uid:f}=(0,b.m7)(g),[{list:U=[]},L]=(0,o.b7)(j.h,{selector:e=>{var t;return null!==(t=e.create_video_playlist)&&void 0!==t?t:{}},dependencies:[]}),Z=null!==(e=U[0])&&void 0!==e?e:"",{video:E,author:F=""}=(0,b.m7)((0,o.mp)(y.A,{selector:e=>e[Z],dependencies:[Z]})),M=(0,b.m7)((0,o.mp)(d.z,{selector:e=>e.users[F],dependencies:[F]})),{cover:q}=(0,b.m7)(E),{playlistName:N,checkSuccess:A}=(0,o.mp)(P.T,{selector:e=>({playlistName:e.playlistName,checkSuccess:e.isValid&&e.hasChecked}),dependencies:[]}),z=0===U.length,R=N.length>0&&N.length<=T.D&&A&&!z,[V,W]=(0,a.useState)(!1),H=(0,a.useCallback)((()=>{W(!0),C.I.handleClickAddPlaylistVideo({enter_method:"create_playlist"})}),[]),Y=(0,a.useCallback)((()=>{s.setProfileState("initial")}),[s]);(0,a.useEffect)((()=>()=>L.resetItemList({key:"create_video_playlist"})),[]);const G=(0,a.useCallback)((()=>{!p&&h&&L.getUserVideoListByType({secUid:r,key:"user-post-public",userId:f,abTestVersion:m,language:v,user:g})}),[m,h,L,v,p,r,f,g]),$=(0,a.useCallback)((()=>{l||u.createPlaylistWithItems({name:N,itemIds:U,cover:q,creator:M})}),[q,l,u,M,N,U]);return(0,n.jsxs)(S.bn,{children:[(0,n.jsxs)(S.cW,{children:[(0,n.jsxs)(D.GI,Object.assign({onClick:Y},{children:[(0,n.jsx)(D.vw,{},void 0),t("playlist_webapp_creation_backBtn")]}),void 0),(0,n.jsxs)(D.EN,{children:[(0,n.jsx)(D.WX,{children:t("playlist_webapp_creation_header_create")},void 0),(0,n.jsx)(D.l2,{children:t("playlist_webapp_creation_desc")},void 0),(0,n.jsxs)(D.nI,{children:[(0,n.jsx)(D.$M,{children:t("playlist_webapp_upload_dropdown_nameaplaylist")},void 0),(0,n.jsxs)(D.XL,{children:[(0,n.jsx)(D.ez,Object.assign({isRed:N.length>T.D},{children:`${N.length}`}),void 0),"Â ",(0,n.jsx)(D.ez,{children:` / ${T.D}`},void 0)]},void 0)]},void 0),(0,n.jsx)(T.v,{},void 0),(0,n.jsxs)(D.nI,{children:[(0,n.jsxs)(D.$M,{children:[t("videos")," ",U.length>0?`(${U.length})`:""]},void 0),!z&&(0,n.jsxs)(D.T9,Object.assign({onClick:H},{children:[(0,n.jsx)(D.ou,{},void 0),t("playlist_webapp_upload_addtoplaylist")]}),void 0)]},void 0),z&&(0,n.jsxs)(D.PN,Object.assign({onClick:H},{children:[i?(0,n.jsx)(D.y2,{},void 0):(0,n.jsx)(D.s_,{},void 0),(0,n.jsx)(D.tI,{children:t("playlist_webapp_creation_selectvid_desc")},void 0)]}),void 0),!z&&(0,n.jsx)(B,{},void 0),(0,n.jsxs)(S.v3,{children:[(0,n.jsx)(k.W,Object.assign({style:w.jn,onClick:Y},{children:t("playlist_webapp_creation_btn_cancel")}),void 0),(0,n.jsx)(k.W,Object.assign({style:w.jn,disabled:!R,loading:l,buttonTheme:"primary",loadingFill:i?"#fff":void 0,onClick:$},{children:t("playlist_webapp_creation_btn_create")}),void 0)]},void 0)]},void 0)]},void 0),(0,n.jsx)(O.j,{itemListKey:"user-post-public",drawerActive:V,setDrawerActive:W,onHitBottom:G,selectedVideoListKey:"create_video_playlist"},void 0)]},void 0)}));var re=i(86894);let se=class{constructor(e){this.fetch=e}updateUserProfile(e){return this.fetch.post("/api/update/profile/",{body:(0,ee.stringify)(Object.assign(Object.assign({},e),{tt_csrf_token:this.fetch.csrfToken})),baseUrlType:2,headers:{[te.eD]:this.fetch.csrfToken}})}removeBlueV(e){return this.fetch.post("/tiktok/v1/username/save_async/",{body:(0,ee.stringify)({username:e,process_type:1}),baseUrlType:2,headers:{[te.eD]:this.fetch.csrfToken}})}checkUniqueId(e){return this.fetch.get("/api/uniqueid/check/",{query:{unique_id:e},baseUrlType:2,headers:{[te.eD]:this.fetch.csrfToken}})}uploadImage(e){const t=new FormData;return t.append("file",e),t.append("source","0"),this.fetch.post("/api/upload/image/",{body:t,baseUrlType:2,headers:{[te.eD]:this.fetch.csrfToken},omitContentType:!0})}updateUniqueId(e){return this.fetch.post("/passport/web/login_name/update/",{body:(0,ee.stringify)({login_name:e}),baseUrlType:2,headers:{[te.eD]:this.fetch.csrfToken}})}};se=(0,F.__decorate)([(0,X.G)(),(0,F.__metadata)("design:paramtypes",[ie.r])],se);const le=-1;var de,ce,ue,pe;!function(e){e[e.InitialState=0]="InitialState",e[e.Valid=1]="Valid",e[e.Invalid=2]="Invalid"}(de||(de={})),function(e){e[e.IllegalLetter=1027]="IllegalLetter",e[e.SensitiveWord=1028]="SensitiveWord",e[e.Used=1024]="Used",e[e.OnceIn30day=1330]="OnceIn30day",e[e.ServerUpgrading=1331]="ServerUpgrading",e[e.ProfileUnderCertification=1332]="ProfileUnderCertification",e[e.ProfileUnderReview=1333]="ProfileUnderReview"}(ce||(ce={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.ErrServiceInternal=4]="ErrServiceInternal",e[e.ErrInvalidParam=5]="ErrInvalidParam",e[e.ErrPermissionDenied=7]="ErrPermissionDenied",e[e.ErrHitSharkSlideVerifyCode=3058]="ErrHitSharkSlideVerifyCode",e[e.ErrHitSharkClickVerifyCode=3059]="ErrHitSharkClickVerifyCode",e[e.UserUpdateProfileFailed=2060]="UserUpdateProfileFailed",e[e.UserSignatureTooLong=2080]="UserSignatureTooLong",e[e.UserNicknameTooLong=2079]="UserNicknameTooLong",e[e.ErrNicknameUpdateIllegal=2550]="ErrNicknameUpdateIllegal",e[e.ErrCheckMtUpdateUser=2160]="ErrCheckMtUpdateUser",e[e.MtUpdateProfileIsBan=23]="MtUpdateProfileIsBan",e[e.AccountIsBanned=9]="AccountIsBanned",e[e.UpdateNickNameFailedDueToFrequencyControl=3002265]="UpdateNickNameFailedDueToFrequencyControl",e[e.ECommerceNickNameUpdateFailed=3002328]="ECommerceNickNameUpdateFailed"}(ue||(ue={})),function(e){e[e.NotAvailable=4]="NotAvailable",e[e.InvalidParameters=5]="InvalidParameters",e[e.SUCCESS=0]="SUCCESS",e[e.OtherError=6]="OtherError"}(pe||(pe={}));let he=class extends M.D{constructor(e,t){super(),this.service=e,this.accountService=t,this.defaultState={uploadImgCode:le,uniqueIdValid:0,checkLoading:!1,nickNameValid:0,saveCode:le,avatarInfo:{url:"",uri:""},newUniqueInfo:{uniqueId:""},checkUniqueIdCode:le,uploadingFile:!1,updatingProfile:!1}}setUploadImgCode(e,t){e.uploadImgCode=t}SetSaveCode(e,t){e.saveCode=t}SetCheckUniqueIdCode(e,t){e.checkUniqueIdCode=t}setUniqueIdValid(e,t){e.uniqueIdValid=t}setCheckLoading(e,t){e.checkLoading=t}setAvatarInfo(e,t){e.avatarInfo=t}setNewUniqueId(e,t){e.newUniqueInfo=t}setNickNameValid(e,t){e.nickNameValid=t}setUploadingFile(e,t){e.uploadingFile=t}setUpdatingProfile(e,t){e.updatingProfile=t}updateUserProfile(e){return e.pipe((0,W.w)((e=>{const{uniqueId:t,needUpdateUniqueId:i,needRemoveBlueV:n}=e,o=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i}(e,["uniqueId","needUpdateUniqueId","needRemoveBlueV"]);return i?this.accountService.updateUniqueId(t).pipe((0,H.K)((()=>(0,R.of)({data:{error_code:1331}}))),(0,z.z)((e=>{const{error_code:i}=e,a=[],r=void 0===i,s=1027===i||1028===i||1024===i;return a.push(this.getActions().setUniqueIdValid(s?2:1)),r&&n?this.service.removeBlueV(t).pipe((0,z.z)((()=>this.handleUpdateProfile(o,t))),(0,H.K)((()=>this.handleUpdateProfile(o,t)))):r?this.handleUpdateProfile(o,t):(0,R.of)(this.getActions().SetSaveCode(i),this.getActions().setUpdatingProfile(!1),...a)})),(0,Y.O)(this.getActions().setUpdatingProfile(!0))):n?this.service.removeBlueV(t).pipe((0,z.z)((()=>this.handleUpdateProfile(o,t))),(0,H.K)((()=>this.handleUpdateProfile(o,t)))):this.handleUpdateProfile(o,t)})))}handleUpdateProfile(e,t){return Object.values(e).some((e=>void 0!==e))?this.service.updateUserProfile(e).pipe((0,H.K)((()=>(0,R.of)({status_code:1331,user:{unique_id:"",secUid:""}}))),(0,z.z)((({status_code:e,user:t})=>{const i=[];return 2550===e?i.push(this.getActions().setNickNameValid(2550===e?2:1)):(0===e&&i.push(this.getActions().setNewUniqueId({uniqueId:t.unique_id})),i.push(this.getActions().SetSaveCode(e))),(0,R.of)(...i)})),(0,Y.O)(this.getActions().setUpdatingProfile(!0)),(0,G.l)(this.getActions().setUpdatingProfile(!1))):(0,R.of)(this.getActions().setNewUniqueId({uniqueId:t}),this.getActions().SetSaveCode(0),this.getActions().setUpdatingProfile(!1))}checkUniqueId(e){return e.pipe((0,W.w)((e=>this.service.checkUniqueId(e).pipe((0,H.K)((()=>(0,R.of)({status_code:6,is_valid:!1}))),(0,z.z)((({status_code:e,is_valid:t})=>{const i=[];return t&&4!==e?t&&0===e&&i.push(this.getActions().setUniqueIdValid(1)):i.push(this.getActions().setUniqueIdValid(2)),i.push(this.getActions().SetCheckUniqueIdCode(e)),(0,R.of)(...i)})),(0,Y.O)(this.getActions().setCheckLoading(!0)),(0,G.l)(this.getActions().setCheckLoading(!1))))))}uploadImage(e){return e.pipe((0,W.w)((e=>this.service.uploadImage(e).pipe((0,z.z)((({status_code:e,data:t})=>{const i={url:"",uri:""};return t&&(i.uri=t.uri,i.url=t.url_list[0]),(0,R.of)(this.getActions().setAvatarInfo(i),this.getActions().setUploadImgCode(e))})),(0,Y.O)(this.getActions().setUploadingFile(!0)),(0,G.l)(this.getActions().setUploadingFile(!1))))))}};(0,F.__decorate)([(0,q.lF)(),(0,F.__metadata)("design:type",Function),(0,F.__metadata)("design:paramtypes",[Object,Number]),(0,F.__metadata)("design:returntype",void 0)],he.prototype,"setUploadImgCode",null),(0,F.__decorate)([(0,q.lF)(),(0,F.__metadata)("design:type",Function),(0,F.__metadata)("design:paramtypes",[Object,Number]),(0,F.__metadata)("design:returntype",void 0)],he.prototype,"SetSaveCode",null),(0,F.__decorate)([(0,q.lF)(),(0,F.__metadata)("design:type",Function),(0,F.__metadata)("design:paramtypes",[Object,Number]),(0,F.__metadata)("design:returntype",void 0)],he.prototype,"SetCheckUniqueIdCode",null),(0,F.__decorate)([(0,q.lF)(),(0,F.__metadata)("design:type",Function),(0,F.__metadata)("design:paramtypes",[Object,Number]),(0,F.__metadata)("design:returntype",void 0)],he.prototype,"setUniqueIdValid",null),(0,F.__decorate)([(0,q.lF)(),(0,F.__metadata)("design:type",Function),(0,F.__metadata)("design:paramtypes",[Object,Boolean]),(0,F.__metadata)("design:returntype",void 0)],he.prototype,"setCheckLoading",null),(0,F.__decorate)([(0,q.lF)(),(0,F.__metadata)("design:type",Function),(0,F.__metadata)("design:paramtypes",[Object,Object]),(0,F.__metadata)("design:returntype",void 0)],he.prototype,"setAvatarInfo",null),(0,F.__decorate)([(0,q.lF)(),(0,F.__metadata)("design:type",Function),(0,F.__metadata)("design:paramtypes",[Object,Object]),(0,F.__metadata)("design:returntype",void 0)],he.prototype,"setNewUniqueId",null),(0,F.__decorate)([(0,q.lF)(),(0,F.__metadata)("design:type",Function),(0,F.__metadata)("design:paramtypes",[Object,Number]),(0,F.__metadata)("design:returntype",void 0)],he.prototype,"setNickNameValid",null),(0,F.__decorate)([(0,q.lF)(),(0,F.__metadata)("design:type",Function),(0,F.__metadata)("design:paramtypes",[Object,Boolean]),(0,F.__metadata)("design:returntype",void 0)],he.prototype,"setUploadingFile",null),(0,F.__decorate)([(0,q.lF)(),(0,F.__metadata)("design:type",Function),(0,F.__metadata)("design:paramtypes",[Object,Boolean]),(0,F.__metadata)("design:returntype",void 0)],he.prototype,"setUpdatingProfile",null),(0,F.__decorate)([(0,q.Qm)(),(0,F.__metadata)("design:type",Function),(0,F.__metadata)("design:paramtypes",[$.y]),(0,F.__metadata)("design:returntype",void 0)],he.prototype,"updateUserProfile",null),(0,F.__decorate)([(0,q.Qm)(),(0,F.__metadata)("design:type",Function),(0,F.__metadata)("design:paramtypes",[$.y]),(0,F.__metadata)("design:returntype",void 0)],he.prototype,"checkUniqueId",null),(0,F.__decorate)([(0,q.Qm)(),(0,F.__metadata)("design:type",Function),(0,F.__metadata)("design:paramtypes",[$.y]),(0,F.__metadata)("design:returntype",void 0)],he.prototype,"uploadImage",null),he=(0,F.__decorate)([(0,N.Y)("EditProfileModule"),(0,F.__metadata)("design:paramtypes",[se,re.Q])],he);var ge=i(28327),me=i(4139),ve=i(41830),fe=i(36488);const xe=(0,me.Z)("div",{target:"e1xjit530"})({width:"400px",padding:"32px",boxSizing:"border-box"},"label:DivContainer;"),be=(0,me.Z)("p",{target:"e1xjit531"})((({theme:e})=>[(0,fe.GI)({theme:e,fontWeight:"semiBold",fontFamily:"Proxima",color:"TextPrimary"}),{fontSize:"24px",lineHeight:"36px",textAlign:"center",marginBottom:"16px"}]),"label:PTitle;"),je=(0,me.Z)("p",{target:"e1xjit532"})((({theme:{colors:e}})=>({color:e.TextSecondary,fontSize:"16px",lineHeight:"22px",textAlign:"center",marginBottom:"24px"})),"label:PInfo;"),_e=(0,me.Z)("ul",{target:"e1xjit533"})({paddingInlineStart:"12px"},"label:UlInfo;"),ye=(0,me.Z)("li",{target:"e1xjit534"})((({theme:{colors:e}})=>({color:e.TextSecondary,fontSize:"15px",lineHeight:"18px",marginBottom:"11px",":last-child":{marginBottom:"24px"}})),"label:LiInfo;"),Ce=(0,me.Z)("div",{target:"e1xjit535"})({display:"flex",justifyContent:"space-between"},"label:DivBtnContainer;"),ke=(0,me.Z)(k.W,{target:"e1xjit536"})({minWidth:"164px",height:"48px",fontSize:"16px"},"label:StyledBtn;"),Ie=(0,me.Z)(k.W,{target:"e1xjit537"})({minWidth:"336px",width:"336px",":not(:last-child)":{marginBottom:"12px"}},"label:StyledLargeBtn;"),we=(0,me.Z)("div",{target:"e1xjit538"})((({theme:{colors:e}})=>({width:"336px",color:e.TextPrimary,fontSize:"16px",lineHeight:"24px",height:"48px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"})),"label:DivTextBtn;"),Se=(0,ge.F4)({from:{transform:"rotateZ(0)"},to:{transform:"rotateZ(360deg)"}}),Pe=(0,me.Z)(ve.Z,{target:"e1xjit539"})({animation:`${Se} 1s infinite`},"label:StyledProgressCircle;"),Te="48",Oe=[{info:"blue_v_change_username_review_modal_desc",replaceUserNameTag:"%s"},{info:"blue_v_change_name_review_modal_desc",replaceNameTag:"%s"},{info:"blue_v_webapp_change_name_review_modal_desc",replaceUserNameTag:"%1s",replaceNameTag:"%2s"}],Ue=(0,a.memo)((({onCancel:e,onConfirm:t,changeType:i,username:r,name:s})=>{const l=(0,c.Q)(),{updatingProfile:d}=(0,o.mp)(he),u=(0,a.useCallback)((()=>{e()}),[e]),p=(0,a.useCallback)((()=>{!d&&t(!1)}),[t,d]),h=Oe[i];let g=l(h.info);h.replaceUserNameTag&&(g=g.replace(h.replaceUserNameTag,r).replace("%d",Te)),h.replaceNameTag&&(g=g.replace(h.replaceNameTag,s).replace("%d",Te));const{colors:m}=(0,x.u)();return(0,n.jsxs)(xe,{children:[(0,n.jsx)(be,{children:l("blue_v_change_name_review_modal_title")},void 0),(0,n.jsx)(je,{children:g},void 0),(0,n.jsxs)(Ce,{children:[(0,n.jsx)(ke,Object.assign({disabled:d,onClick:u},{children:l("blue_v_change_name_review_cancel_btn")}),void 0),(0,n.jsx)(ke,Object.assign({buttonTheme:"primary",onClick:p},{children:d?(0,n.jsx)(Pe,{fill:m.ConstTextInverse,width:20,height:20},void 0):l("blue_v_change_name_review_submit_btn")}),void 0)]},void 0)]},void 0)}));var Le=i(16871),Ze=i(79067);const Ee={id:"bookmark-96718fcd",use:"bookmark-96718fcd-usage",viewBox:"0 0 72 72",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 72" id="bookmark-96718fcd"><path fill="currentColor" d="m36.206 48.785 24.891 18.36V7.676c0-1.317-.406-2.162-.884-2.658-.463-.482-1.25-.903-2.563-.903H14.76c-1.312 0-2.1.421-2.563.903-.478.496-.884 1.34-.884 2.657v59.472l24.892-18.36Zm0 3.835L11.944 70.516a2.331 2.331 0 0 1-3.715-1.877V7.674c0-3.934 2.481-6.646 6.533-6.646H57.65c4.051 0 6.533 2.712 6.533 6.646V68.64a2.331 2.331 0 0 1-3.716 1.877L36.206 52.62Z" /></symbol>'};var De=i(82286);const Be=(0,n.jsx)(Le.Z,Object.assign({},f.vj),void 0),Fe=(0,n.jsx)((function(e){const t=(0,a.useContext)(Ze.e);return(0,a.useLayoutEffect)((()=>(t.add(Ee),()=>{t.remove("bookmark-96718fcd")})),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#bookmark-96718fcd"},void 0)}),void 0)}),Object.assign({},f.tC),void 0),Me=(0,a.memo)((function({detailInfo:{statusCode:e}}){const t=(0,o.qj)(I.t),i=(0,De.bT)(),r=(0,u.Sf)("pc_video_playlist"),s=(0,a.useCallback)((()=>{t.setUniqueId(void 0),t.getUserInfo(Object.assign(Object.assign({},i),{isVideoPlaylistOn:r}))}),[t,i,r]);return(0,n.jsx)(f.hl,{statusCode:e,iconElement:Be,onRefresh:s},void 0)})),qe=(0,a.memo)((function({listInfo:{statusCode:e},detailInfo:t,listKey:i}){const r=(0,o.qj)(j.h),s=(0,De.xB)({user:t.user,listKey:i}),l=(0,a.useCallback)((()=>{r.resetItemList({key:i})}),[r,i,s]);return(0,n.jsx)(f.hl,{statusCode:e,iconElement:Be,onRefresh:l},void 0)})),Ne=(0,a.memo)((function({listKey:e,detailInfo:t}){const{uniqueId:i,secUid:o}=(0,b.m7)(t.user),r=(0,c.Q)(),{colors:s}=(0,x.u)(),l=(0,De.JW)({uniqueId:i,secUid:o}),d=(0,a.useMemo)((()=>"favorites"===e?(0,n.jsx)("div",Object.assign({style:{color:s.Primary2}},{children:Fe}),void 0):Be),[e,s]),u=(0,a.useMemo)((()=>"user-post"===e?l?{title:r("profile_personal_no_content_title"),desc:r("profile_personal_no_content_body")}:{title:r("profile_no_content_title"),desc:r("profile_no_content_des")}:"favorites"===e?{title:r("fc_view_empty_videos_title"),desc:r("fc_view_fav_empty_videos_desc")}:"user-liked"===e?l?{title:r("profile_public_nolikes_title"),desc:r("profile_self_public_nolikes")}:{title:r("profile_public_nolikes_title"),desc:r("profile_others_public_nolikes").replace("%s",i)}:{title:"",desc:""}),[l,e,r,i]);return(0,n.jsx)(f.Te,{iconElement:d,emptyTip:u},void 0)}));var Ae=i(69988),ze=i(16883),Re=i(47251),Ve=i(88683),We=i(31601),He=i(45313),Ye=i(63954),Ge=i(65377),$e=i(99084),Ke=i(35199),Je=i(83236),Qe=i(58590);const Xe=(0,a.memo)((e=>{const{isFTC:t,user:i,e2eTag:o}=e,{uniqueId:r,secUid:s}=i,{isShowLive:l,src:d}=(0,Ke.zW)(i),c=(0,Ke.CN)({user:i,enterMethod:"others_photo"}),u=(0,a.useMemo)((()=>({enter_from_merge:c.enter_from_merge,enter_method:c.enter_method})),[c]),p=()=>(0,n.jsx)(Je.k,{isShowLive:l,src:d,size:116,needAnimation:!0,e2eTag:o},void 0);return t?(0,n.jsx)($e.Z,{width:96,height:96,"data-e2e":"user-avatar"},void 0):l?(0,n.jsx)(Qe.G,Object.assign({uniqueId:r,secUid:s,teaParams:c,extraQuery:u},{children:p()}),void 0):p()}));var et=i(16926),tt=i(58854),it=i(57317),nt=i(51722),ot=i.n(nt),at=i(83623),rt=i.n(at);ot().extend(rt());const st={ar:"ar","bn-IN":"bn","ceb-PH":"en","cs-CZ":"cs","de-DE":"de","el-GR":"el",en:"en",es:"es","fi-FI":"fi","fil-PH":"en",fr:"fr","he-IL":"he","hi-IN":"hi","hu-HU":"hu","id-ID":"id","it-IT":"it","ja-JP":"ja","jv-ID":"jv","km-KH":"km","ko-KR":"ko","ms-MY":"ms","my-MM":"my","nl-NL":"nl","pl-PL":"pl","pt-BR":"pt","ro-RO":"ro","ru-RU":"ru","sv-SE":"sv","th-TH":"th","tr-TR":"tr","uk-UA":"uk",ur:"ur","vi-VN":"vi","zh-Hans":"zh","zh-Hant-TW":"zh-tw"};function lt(e,t,i="MM-DD-YYYY HH:mm"){return ot().unix(e).locale(st[t]).format(i)}var dt=i(17919),ct=i(39696);const ut=(0,me.Z)("div",{target:"e162h3pn0"})({padding:"16px",width:"264px",wordBreak:"break-word"},"label:DivTipWrapper;"),pt=(0,me.Z)("h3",{target:"e162h3pn1"})((({theme:e})=>(0,fe.GI)({theme:e,typography:"P2",color:"ConstTextInverse",fontWeight:"semiBold"})),{marginBottom:"4px"},"label:H3TipTitle;"),ht=(0,me.Z)("p",{target:"e162h3pn2"})((({theme:e})=>(0,fe.GI)({theme:e,typography:"P3",color:"ConstTextInverse"})),"label:PTipDesc;"),gt=(0,me.Z)("div",{target:"e162h3pn3"})({display:"flex",justifyContent:"flex-end"},"label:DivButtonWrapper;"),mt=(0,me.Z)("button",{target:"e162h3pn4"})(fe.Ph,(({theme:e})=>(0,fe.GI)({theme:e,typography:"P2",color:"ConstTextInverse",fontWeight:"semiBold"})),{cursor:"pointer"},"label:ButtonOk;"),vt=(0,me.Z)("button",{target:"e162h3pn5"})(fe.Ph,(({theme:e})=>(0,fe.GI)({theme:e,typography:"P2",color:"ConstTextInverse",fontWeight:"semiBold"})),{cursor:"pointer"},"label:ButtonCancel;"),ft=(0,a.memo)((({showPopover:e,title:t,description:i,cancelText:o,okText:r,onOkClick:s,onCancel:l})=>{const{colors:d,direction:c}=(0,x.u)(),u=(0,a.useRef)(!1);(0,a.useEffect)((()=>{let t;return e&&(t=window.setTimeout((()=>{u.current=!0,l("auto_cancel")}),5e3)),()=>clearTimeout(t)}),[l,e]),(0,a.useEffect)((()=>()=>{e&&!u.current&&l("other")}),[e]);const p=(0,a.useCallback)((()=>{s()}),[s]),h=(0,a.useCallback)((()=>{u.current=!0,l("cancel")}),[l]),g="ltr"===c?"bottomLeft":"bottomRight";return(0,n.jsx)(ct.G,Object.assign({active:e,backgroundColor:d.ConstSecondary2,placement:g,arrowMargin:"58px",margin:"0"},{children:(0,n.jsxs)(ut,{children:[(0,n.jsx)(pt,{children:t},void 0),(0,n.jsx)(ht,{children:i},void 0),(0,n.jsxs)(gt,{children:[(0,n.jsx)(vt,Object.assign({onClick:h},{children:o}),void 0),r&&(0,n.jsx)(mt,Object.assign({onClick:p},{children:r}),void 0)]},void 0)]},void 0)}),void 0)}));var xt=i(58641),bt=i(28972),jt=i(26014),_t=i(74136),yt=i(58718),Ct=i(54006);const kt=(0,me.Z)("div",{target:"e1gjao0r0"})((({theme:e})=>[(0,fe.GI)({theme:e,fontWeight:"semiBold",fontFamily:"Proxima"}),{height:"72px",padding:"12px 24px 0 24px",boxSizing:"border-box",fontSize:"24px",color:e.colors.TextPrimary,display:"flex",alignItems:"center",background:e.colors.BGPrimary}]),"label:DivHeaderContainer;"),It=(0,me.Z)("div",{target:"e1gjao0r1"})({lineHeight:"36px"},"label:DivText;"),wt=(0,me.Z)("div",{target:"e1gjao0r2"})((({theme:e})=>[{cursor:"pointer",width:"24px",height:"24px",display:"inline-block",transform:"rtl"===e.direction?"rotateY(180deg)":""},(0,fe.YJ)({direction:e.direction,marginEnd:"8px"})]),"label:DivArrow;"),St=(0,me.Z)("div",{target:"e1gjao0r3"})({background:"#000000",paddingTop:"32px"},"label:DivContentContainer;"),Pt=(0,me.Z)("div",{target:"e1gjao0r4"})({height:"441px",width:"700px",overflow:"hidden",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},"label:DivZoomArea;"),Tt=(0,me.Z)("div",{target:"e1gjao0r5"})({width:"360px",height:"360px",borderRadius:"360px",boxShadow:"0 0 0 250px rgba(0, 0, 0, 0.3)",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"},"label:DivMask;"),Ot=(0,me.Z)("div",{target:"e1gjao0r6"})({fontSize:"14px",lineHeight:"22px",color:"#ffffff",height:"69px",display:"flex",alignItems:"center",justifyContent:"center"},"label:DivSlider;"),Ut=(0,me.Z)("span",{target:"e1gjao0r7"})((({theme:e})=>(0,fe.YJ)({direction:e.direction,marginEnd:"16px"})),"label:SpanLabel;"),Lt=(0,me.Z)("div",{target:"e1gjao0r8"})((({theme:{colors:e}})=>({height:"86px",display:"flex",padding:"0 24px",justifyContent:"flex-end",alignItems:"center",background:e.BGPrimary})),"label:DivFooterContainer;"),Zt=(0,me.Z)(k.W,{target:"e1gjao0r9"})((({theme:e})=>[{lineHeight:"24px",minWidth:"0",padding:"7px 16px"},(0,fe.YJ)({direction:e.direction,marginStart:"16px"})]),"label:StyledBtn;"),Et=(0,me.Z)("div",{target:"e1gjao0r10"})({width:"320px",height:"16px",position:"relative"},"label:DivSliderContainer;"),Dt=(0,me.Z)("div",{target:"e1gjao0r11"})({height:"6px",borderRadius:"3px",background:"#ffffff",position:"absolute",width:"100%",left:"0",top:"5px",cursor:"pointer"},"label:DivSliderBar;"),Bt=(0,me.Z)("div",{target:"e1gjao0r12"})({height:"6px",borderRadius:"3px",width:"100%",position:"absolute",left:"0",top:"5px",cursor:"pointer",overflow:"hidden"},"label:DivSliderProgress;"),Ft=(0,me.Z)("div",{target:"e1gjao0r13"})({width:"100%",background:"#FE2C55",height:"100%",transformOrigin:"left"},"label:DivSliderColor;"),Mt=(0,me.Z)("div",{target:"e1gjao0r14"})((({theme:e})=>[{width:"16px",height:"16px",borderRadius:"16px",background:"#FE2C55",position:"absolute",top:0,left:0,cursor:"pointer"},(0,fe.YJ)({direction:e.direction,marginStart:"-8px"})]),"label:DivSliderDot;"),qt=(0,me.Z)("img",{target:"e1gjao0r15"})({maxWidth:"unset"},"label:Img;"),Nt=(0,a.memo)((({onPercentChange:e,transformScalePercent:t})=>{const i=(0,a.useRef)(null),o=(0,a.useRef)(null),r=(0,a.useRef)(null),s=(0,a.useRef)(null),{direction:l}=(0,x.u)(),d=(0,a.useCallback)((t=>{e(t)}),[e]),{percent:c,bindDrag:u,seek:p,update:h}=(0,Ct.x)({direction:l,progressRef:s,circleRef:r,barRef:o,initialPercent:0,draggingPercentCb:d});(0,a.useEffect)((()=>{h(t)}),[h,t]);const g="ltr"===l?{left:`calc(${100*c}%)`}:{right:`calc(${100*c}%)`},m="ltr"===l?{transform:`scaleX(${c})`}:{transform:`scaleX(${c})`,transformOrigin:"right"};return(0,n.jsxs)(Et,Object.assign({ref:i},{children:[(0,n.jsx)(Dt,{onMouseDown:u,onClick:p,ref:s},void 0),(0,n.jsx)(Bt,Object.assign({ref:o,onClick:p,onMouseDown:u},{children:(0,n.jsx)(Ft,{style:m},void 0)}),void 0),(0,n.jsx)(Mt,{style:g,onMouseDown:u,ref:r},void 0)]}),void 0)}));const At=360,zt=(0,a.memo)((({onClose:e,onSaveAvatar:t,imageInfo:i,style:r={}})=>{const{url:s,width:l,height:d,initScale:u}=i,[p,h]=(0,a.useState)(0),[{uploadImgCode:m,uploadingFile:v},f]=(0,o.b7)(he),x=(0,c.Q)(),b=(0,a.useRef)(null),j=(0,a.useCallback)((()=>{e()}),[e]);(0,a.useEffect)((()=>{0===m?t():m!==le&&g.h.open({content:x("editprofile_editpage_error_photofail_others"),duration:2})}),[m,t,x]);const _=(0,a.useCallback)((()=>{return e=void 0,t=void 0,n=function*(){if(b.current){const{positionX:e,positionY:t,scale:i}=b.current.state;try{const n=yield function(e,t,i,n,o,a,r,s){return new Promise(((o,a)=>{const r=new Image;r.src=e,r.onload=()=>{const e=document.createElement("canvas");e.width=200,e.height=200;const a=e.getContext("2d"),s=0-t/n,l=0-i/n,d=360/n,c=360/n;null==a||a.drawImage(r,s,l,d,c,0,0,200,200),e.toBlob((e=>{e&&o(e)}))},r.onerror=()=>{a()}}))}(s,e,t,i*u);f.uploadImage(n)}catch(e){g.h.open({content:x("editprofile_editpage_error_photofail_others"),duration:2})}}},new((i=void 0)||(i=Promise))((function(o,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,s)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n}),[u,s,f,x]),y=(0,a.useMemo)((()=>({direction:"ltr",height:"360px",width:"360px",overflow:"unset"})),[]),C=(0,a.useMemo)((()=>({cursor:"move"})),[]),k=(0,a.useCallback)((e=>{const{scale:t}=e.state;h(Math.max(t-1,0)/7)}),[]),I=(0,a.useCallback)((e=>{if(b.current){const{setTransform:t,state:{positionX:i,positionY:n,scale:o}}=b.current,a=7*e+1;let r=Math.min(i-l*(a-o)/2,0),s=Math.min(n-d*(a-o)/2,0);s+d*a<At&&(s=At-d*a),r+l*a<At&&(r=At-l*a),t(r,s,a)}}),[d,l]);return(0,n.jsxs)("div",Object.assign({style:r},{children:[(0,n.jsxs)(kt,{children:[(0,n.jsx)(wt,Object.assign({onClick:j},{children:(0,n.jsx)(yt.Z,{width:24,height:24},void 0)}),void 0),(0,n.jsx)(It,{children:x("editprofile_editpage_photo_editphoto")},void 0)]},void 0),(0,n.jsx)(St,{children:(0,n.jsxs)(_t.d$,Object.assign({centerOnInit:!0,ref:b,onZoom:k,maxScale:8,initialScale:1},{children:[(0,n.jsxs)(Pt,{children:[(0,n.jsx)(_t.Uv,Object.assign({wrapperStyle:y,contentStyle:C},{children:(0,n.jsx)(qt,{src:s,width:l,height:d},void 0)}),void 0),(0,n.jsx)(Tt,{},void 0)]},void 0),(0,n.jsxs)(Ot,{children:[(0,n.jsx)(Ut,{children:x("editprofile_editimage_zoom")},void 0),(0,n.jsx)(Nt,{transformScalePercent:p,onPercentChange:I},void 0)]},void 0)]}),void 0)},void 0),(0,n.jsxs)(Lt,{children:[(0,n.jsx)(Zt,Object.assign({size:"tiny",onClick:j},{children:x("editprofile_cancel")}),void 0),(0,n.jsx)(Zt,Object.assign({disabled:v,size:"tiny",buttonTheme:"primary",onClick:_},{children:x("editprofile_editpage_photo_apply")}),void 0)]},void 0)]}),void 0)})),Rt=[{title:"editprofile_editpage_username_confirmtitle",info:"editprofile_editpage_username_confirmtext"},{title:"nickname_change_pop_up_title",info:"nickname_change_pop_up_description",replaceTag:"%d"},{title:"nickname_username_change_pop_up_title",info:"nickname_username_change_pop_up_description",replaceTag:"%d"}],Vt=(0,a.memo)((({onCancel:e,onConfirm:t,active:i,changeType:o,replaceStr:r,isVerified:s,nextStep:l})=>{const d=(0,c.Q)(),u=(0,a.useCallback)((()=>{e()}),[e]),p=(0,a.useCallback)((()=>{s?l((e=>Object.assign(Object.assign({},e),{confirmStep:"blueVConfirm"}))):t(!1)}),[s,l,t]),h=Rt[o];let g=d(h.info);return h.replaceTag&&(g=g.replace(h.replaceTag,r)),(0,n.jsxs)(xe,Object.assign({"data-e2e":"set-username-popup"},{children:[(0,n.jsx)(be,Object.assign({"data-e2e":"set-username-popup-title"},{children:d(h.title)}),void 0),(0,n.jsx)(je,Object.assign({"data-e2e":"set-username-popup-desc"},{children:g}),void 0),(0,n.jsxs)(Ce,{children:[(0,n.jsx)(ke,Object.assign({"data-e2e":"set-username-popup-cancel",onClick:u},{children:d("editprofile_cancel")}),void 0),(0,n.jsx)(ke,Object.assign({"data-e2e":"set-username-popup-confirm",disabled:!i,buttonTheme:"primary",onClick:p},{children:d("nickname_username_change_pop_up_cta_2")}),void 0)]},void 0)]}),void 0)})),Wt=[{title:"blue_v_change_username_modal_title",desc1:"blue_v_change_username_modal_desc",desc2:"blue_v_change_username_modal_desc_2"},{title:"blue_v_change_name_modal_title",desc1:"blue_v_change_name_modal_desc",desc2:"blue_v_change_name_modal_desc_2"},{title:"blue_v_change_username_name_modal_title",desc1:"blue_v_webapp_change_name_modal_desc",desc2:"blue_v_webapp_change_name_modal_desc_2"}],Ht=(0,a.memo)((({onCancel:e,nextStep:t,changeType:i})=>{const o=(0,c.Q)(),r=(0,a.useCallback)((()=>{e()}),[e]),s=(0,a.useCallback)((()=>{t((e=>Object.assign(Object.assign({},e),{confirmStep:"loseVerifyConfirm"})))}),[t]),l=(0,a.useCallback)((()=>{t((e=>Object.assign(Object.assign({},e),{confirmStep:"submitConfirm"})))}),[t]),d=Wt[i];return(0,n.jsxs)(xe,{children:[(0,n.jsx)(be,{children:o(d.title)},void 0),(0,n.jsxs)(_e,{children:[(0,n.jsx)(ye,{children:o(d.desc1)},void 0),(0,n.jsx)(ye,{children:o(d.desc2)},void 0)]},void 0),(0,n.jsxs)("div",{children:[(0,n.jsx)(Ie,Object.assign({buttonTheme:"primary",onClick:l},{children:o("blue_v_change_name_modal_submit_request_btn")}),void 0),(0,n.jsx)(Ie,Object.assign({onClick:s},{children:o("blue_v_change_name_modal_change_btn")}),void 0),(0,n.jsx)(we,Object.assign({buttonTheme:"default",onClick:r},{children:o("blue_v_change_name_review_cancel_btn")}),void 0)]},void 0)]},void 0)})),Yt=[{info:"blue_v_change_username_lose_badge_modal_title",replaceUserNameTag:"%s"},{info:"blue_v_change_name_lose_badge_modal_title",replaceNameTag:"%s"},{info:"blue_v_webapp_change_name_lose_badge_modal_title",replaceUserNameTag:"%1s",replaceNameTag:"%2s"}],Gt=(0,a.memo)((({onCancel:e,onConfirm:t,changeType:i,username:r,name:s})=>{const{updatingProfile:l}=(0,o.mp)(he),d=(0,c.Q)(),u=(0,a.useCallback)((()=>{e()}),[e]),p=(0,a.useCallback)((()=>{!l&&t(!0)}),[t,l]),h=Yt[i];let g=d(h.info);h.replaceUserNameTag&&(g=g.replace(h.replaceUserNameTag,r)),h.replaceNameTag&&(g=g.replace(h.replaceNameTag,s));const{colors:m}=(0,x.u)();return(0,n.jsxs)(xe,{children:[(0,n.jsx)(be,{children:g},void 0),(0,n.jsx)(je,{children:d("blue_v_change_name_lose_badge_modal_desc")},void 0),(0,n.jsxs)(Ce,{children:[(0,n.jsx)(ke,Object.assign({disabled:l,onClick:u},{children:d("blue_v_change_name_review_cancel_btn")}),void 0),(0,n.jsx)(ke,Object.assign({buttonTheme:"primary",onClick:p},{children:l?(0,n.jsx)(Pe,{fill:m.ConstTextInverse,width:20,height:20},void 0):d("blue_v_change_name_lose_badge_confirm_btn")}),void 0)]},void 0)]},void 0)}));var $t=i(41573);const Kt=(0,me.Z)("div",{target:"e13yu7jj0"})((({showVerified:e})=>({height:e?"754px":"700px"})),"label:DivModalContainer;"),Jt=(0,me.Z)("div",{target:"e13yu7jj1"})((({theme:e})=>[(0,fe.GI)({theme:e,fontWeight:"semiBold",fontFamily:"Proxima"}),{fontSize:"24px",padding:"24px 24px 12px 24px",lineHeight:"36px",color:e.colors.TextPrimary,borderBottom:`0.5px solid ${e.colors.LinePrimary2}`,display:"flex",justifyContent:"space-between"}]),"label:DivHeaderContainer;"),Qt=(0,me.Z)("div",{target:"e13yu7jj2"})((({theme:e})=>[{width:"24px",height:"24px",cursor:"pointer"},(0,fe.YJ)({direction:e.direction,marginEnd:"12px"})]),"label:DivCloseContainer;"),Xt=(0,me.Z)("div",{target:"e13yu7jj3"})((({theme:{colors:e}})=>({height:"86px",display:"flex",padding:"0 24px",justifyContent:"flex-end",borderTop:`0.5px solid ${e.LinePrimary2}`,alignItems:"center",position:"absolute",width:"100%",bottom:0})),"label:DivFooterContainer;"),ei=(0,me.Z)(k.W,{target:"e13yu7jj4"})((({theme:e})=>[{lineHeight:"24px",padding:"7px 16px",minWidth:"96px",height:"36px"},(0,fe.YJ)({direction:e.direction,marginStart:"16px"})]),"label:StyledBtn;"),ti=(0,me.Z)("div",{target:"e13yu7jj5"})({width:"700px",padding:"8px 24px 0 24px"},"label:DivContentContainer;"),ii=(0,me.Z)("div",{target:"e13yu7jj6"})({padding:"16px 0",display:"flex"},"label:DivItemContainer;"),ni=(0,me.Z)(ii,{target:"e13yu7jj9"})((({theme:{colors:e}})=>({borderBottom:`0.5px solid ${e.TUXLineSecondary3}`})),"label:StyledItemContainerWithLine;"),oi=(0,me.Z)("div",{target:"e13yu7jj10"})((({theme:e})=>[(0,fe.GI)({theme:e,fontWeight:"semiBold",fontFamily:"Proxima"}),{lineHeight:"24px",fontSize:"16px",width:"120px",marginRight:"24px"}]),"label:DivLabel;"),ai=(0,me.Z)("div",{target:"e13yu7jj11"})({position:"relative",height:"96px"},"label:DivAvatarContent;"),ri=(0,me.Z)("div",{target:"e13yu7jj12"})({position:"relative"},"label:DivEditAreaContainer;"),si=(0,me.Z)("input",{target:"e13yu7jj13"})((({theme:{colors:e}})=>({width:"360px",height:"38px",borderRadius:"4px",background:e.BGInput,caretColor:"#fe2c55",fontSize:"16px",color:e.TextPrimary,lineHeight:"24px",outline:"none",border:"none",padding:"7px 12px",boxSizing:"border-box","&:focus":{background:e.BGInput2,outline:"1.5px solid rgba(22, 24, 35, 0.2)"}})),"label:InputText;"),li=(0,me.Z)("div",{target:"e13yu7jj14"})((({theme:{colors:e}})=>({fontSize:"16px",lineHeight:"24px",color:e.TextPrimary,marginBottom:"16px"})),"label:DivReadOnlyText;"),di=si.withComponent("textarea"),ci=(0,me.Z)(di,{target:"e13yu7jj15"})({height:"100px",padding:"12px",resize:"none"},"label:StyledInputTextArea;"),ui=(0,me.Z)("p",{target:"e13yu7jj16"})((({theme:{colors:e}})=>({fontSize:"12px",color:e.TextSecondary,lineHeight:"18px",marginTop:"16px",maxWidth:"460px",overflow:"hidden"})),"label:PProfileSite;"),pi=(0,me.Z)(ui,{target:"e13yu7jj17"})({marginTop:"8px",width:"360px"},"label:StyledTip;"),hi=(0,me.Z)("div",{target:"e13yu7jj18"})((({theme:{colors:e}})=>({color:e.TextSecondary,fontSize:"12px",lineHeight:"18px"})),"label:DivTextCount;"),gi=(0,me.Z)("div",{target:"e13yu7jj19"})((({theme:e})=>[{width:"32px",height:"32px",borderRadius:"16px",background:e.colors.BGTertiary,border:"1px solid #D0D0D3",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",position:"absolute",bottom:"0"},(0,fe.YJ)({direction:e.direction,marginStart:"192px"})]),"label:DivAvatarEditIcon;"),mi=(0,me.Z)(Je.k,{target:"e13yu7jj20"})((({theme:e})=>(0,fe.YJ)({direction:e.direction,marginStart:"128px"})),"label:StyledAvatar;"),vi=(0,me.Z)("input",{target:"e13yu7jj21"})({width:"1px",height:"1px",position:"absolute",top:0,left:0,opacity:0},"label:InputUpload;"),fi=(0,me.Z)("p",{target:"e13yu7jj22"})({height:"18px",lineHeight:"18px",color:"#FF4C3A",fontSize:"12px",marginTop:"6px"},"label:PInputError;"),xi=(0,me.Z)($t.Z,{target:"e13yu7jj23"})((({theme:e})=>[(0,fe.YJ)({direction:e.direction,start:"328px"}),{position:"absolute",top:"11px"}]),"label:StyledTickBold;"),bi=(0,ge.F4)({from:{transform:"rotateZ(0)"},to:{transform:"rotateZ(360deg)"}}),ji=(0,me.Z)(ve.Z,{target:"e13yu7jj24"})((({theme:e})=>[(0,fe.YJ)({direction:e.direction,end:"12px"}),{position:"absolute",top:"7px",animation:`${bi} 1s infinite`}]),"label:StyledProgressCircle;"),_i=e=>{const{onBioChange:t,bio:i,bioValid:o,onBioValidChange:r}=e,s=(0,c.Q)(),l=(0,a.useCallback)((e=>{const{value:i}=e.target;i.split("\n").length<=5?(r("bioValid",i.length<=80),t("bio",i)):g.h.open({content:s("editprofile_editpage_error_row"),duration:2})}),[t,r,s]);return(0,n.jsxs)(ri,{children:[(0,n.jsx)(ci,{"data-e2e":"edit-profile-bio-input",style:{outline:o?"":"1.5px solid #FF4C3A"},placeholder:s("editprofile_editpage_bio"),onChange:l,value:i},void 0),(0,n.jsxs)(hi,{children:[(0,n.jsxs)("span",Object.assign({style:{color:o?"":"#FF4C3A"}},{children:[i.length,"/"]}),void 0),80]},void 0)]},void 0)};var yi=i(33696);const Ci=["jpg","jpeg","png","tiff","heic","webp"],ki=Ci.map((e=>`.${e}`)).join(","),Ii=({fileUploadRef:e,processCallback:t,errorCallback:i})=>{const n=(0,a.useRef)({url:"",width:0,height:0,initScale:1}),o=(0,a.useCallback)((()=>{e.current.value="",e.current.click()}),[e]),r=(0,a.useCallback)((e=>{return o=void 0,a=void 0,s=function*(){const o=e.target.files[0];if(o.size>10485760)return void i(0);try{const e=yield(e=>new Promise(((t,i)=>{const n=new FileReader;n.onload=function(e){var n,o,a;const r=null===(n=e.target)||void 0===n?void 0:n.result;if(r&&"string"!=typeof r){const e=null!==(o=(0,yi.filetypeinfo)(new Uint8Array(r)))&&void 0!==o?o:[{typename:""}];t(null===(a=e[0])||void 0===a?void 0:a.typename)}else i()},n.onerror=()=>{i()},n.readAsArrayBuffer(e)})))(o);if(!Ci.includes(e))return void i(1)}catch(e){return void i(1)}const a=URL.createObjectURL(o),{width:r,height:s}=yield function(e){return new Promise(((t,i)=>{const n=new Image;n.src=e,n.onload=()=>{t({width:n.width,height:n.height})},n.onerror=()=>{i()}}))}(a);let l=At,d=At;r>s?l=d*r/s:d=l*s/r,n.current={url:a,width:l,height:d,initScale:l/r},t()},new((r=void 0)||(r=Promise))((function(e,t){function i(e){try{l(s.next(e))}catch(e){t(e)}}function n(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof r?o:new r((function(e){e(o)}))).then(i,n)}l((s=s.apply(o,a||[])).next())}));var o,a,r,s}),[t,i]);return{handleFileChange:r,imageInfoRef:n,handleAvatarEditIconClick:o}},wi=e=>{const{onNameChange:t,onNameErrorChange:i,name:r,nameErrMsg:s,nameChangeInfo:l,nickNameControlDay:d}=e,u=(0,c.Q)(),{nickNameValid:p}=(0,o.mp)(he);(0,a.useEffect)((()=>{1===p?i("nameErrMsg",""):2===p&&i("nameErrMsg",u("editprofile_editpage_error_namenotavail"))}),[p,i,u]);const h=(0,a.useCallback)((e=>{const{value:n}=e.target;n.length>30?i("nameErrMsg",u("editprofile_editpage_error_max")):i("nameErrMsg",""),t("name",n)}),[t,i,u]);return(0,n.jsx)(ri,Object.assign({"data-e2e":"edit-profile-name-input"},{children:l.changeable?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(si,{style:{outline:s?"1.5px solid #FF4C3A":""},placeholder:u("editprofile_editpage_name"),value:r,onChange:h},void 0),s?(0,n.jsx)(fi,{children:s},void 0):(0,n.jsx)(pi,{children:u("nickname_change_1st_time_description").replace("%d",d)},void 0)]},void 0):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(li,{children:r},void 0),(0,n.jsx)(pi,{children:u("nickname_change_description").replace("%d",d).replace("%s",l.nextTimeStr)},void 0)]},void 0)}),void 0)};var Si=i(68457);const Pi=/^[0-9a-z._A-Z]{2,24}$/,Ti=e=>{const{username:t,onUsernameChange:i,onUsernameErrorChange:r,uniqueIdChangeInfo:s,usernameErrMsg:l}=e,[{checkLoading:d,uniqueIdValid:u,checkUniqueIdCode:p},h]=(0,o.b7)(he),m=(0,c.Q)(),{colors:v}=(0,x.u)(),f=(0,Si.Nr)((e=>{h.checkUniqueId(e.toLowerCase())}),[h],1e3);(0,a.useEffect)((()=>{1===u&&Pi.test(t)?r("usernameErrMsg",""):2===u&&r("usernameErrMsg",m("editprofile_editpage_error_notavailable"))}),[u,t]),(0,a.useEffect)((()=>{6===p&&g.h.open({content:m("editprofile_editpage_error_tryagain"),duration:2})}),[p]);const b=(0,a.useCallback)((e=>{const{value:t}=e.target;t.length<2?r("usernameErrMsg",m("editprofile_editpage_error_min2char")):t.length>24?r("usernameErrMsg",m("editprofile_editpage_error_username_max")):Pi.test(t)?f(t):r("usernameErrMsg",m("editprofile_editpage_error_notavailable")),i("userName",t)}),[f,i,r,m]);return(0,n.jsx)(ri,Object.assign({"data-e2e":"edit-profile-username-input"},{children:s.changeable?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(si,{style:{outline:l?"1.5px solid #FF4C3A":""},placeholder:m("editprofile_editpage_username"),value:t,onChange:b},void 0),(()=>{const e=l,t=u;return e?(0,n.jsx)(fi,{children:e},void 0):d?(0,n.jsx)(ji,{fill:v.LineInput,width:24,height:24},void 0):t?(0,n.jsx)(xi,{fill:"#0BE09B",width:16,height:16},void 0):void 0})(),(0,n.jsxs)(ui,Object.assign({"data-e2e":"edit-profile-username-link"},{children:["www.tiktok.com/@",t]}),void 0),(0,n.jsx)(pi,Object.assign({"data-e2e":"edit-profile-username-tip"},{children:m("editprofile_editpage_username_subtext1")}),void 0)]},void 0):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(li,{children:t},void 0),(0,n.jsxs)(ui,{children:["www.tiktok.com/@",t]},void 0),(0,n.jsx)(pi,{children:m("editprofile_editpage_username_subtext2").replace("%s",s.nextTimeStr)},void 0)]},void 0)}),void 0)},Oi="reset",Ui="report",Li=(0,a.memo)((({visible:e=!1,user:t,onCloseModal:i,onUpdated:r,uniqueIdChangeInfo:s,editProfileFrom:l,nameChangeInfo:d,nickNameControlDay:u})=>{const{signature:p,nickname:h,avatarThumb:m,uniqueId:v}=t,[f,b]=(0,a.useState)(!1),[{confirmStep:j,changeType:_},y]=(0,a.useState)({changeType:3,confirmStep:"none"}),C=(0,a.useRef)(null),[{checkLoading:k,avatarInfo:I,saveCode:w,updatingProfile:S},P]=(0,o.b7)(he),T=(0,c.Q)(),O=Boolean(t.verified),U=(0,a.useCallback)(((e,i)=>{if(i.type===Ui){const n=i.playload?2:1;return dt.p.handleSaveReport(Object.assign(Object.assign({},((e,t,i)=>({username_updated:e.userName===t.uniqueId?0:i,photo_updated:e.avatar===t.avatarThumb?0:i,bio_updated:e.bio===t.signature?0:i,name_updated:e.name===t.nickname?0:i}))(e,t,n)),{enter_from:l})),e}return i.type===Oi?Object.assign(Object.assign({},e),i.playload):Object.assign(Object.assign({},e),{[i.type]:i.playload})}),[t,l]),[L,Z]=(0,a.useReducer)(U,{userName:v,name:h,bio:p,avatar:m,nameErrMsg:"",usernameErrMsg:"",bioValid:!0}),E=(0,a.useMemo)((()=>((e,t,i,n,o)=>{const{name:a,userName:r,bio:s,nameErrMsg:l,usernameErrMsg:d,bioValid:c,avatar:u}=e,{nickname:p,signature:h,uniqueId:g,avatarThumb:m}=i,v=Boolean(a)&&a!==p,f=Boolean(r)&&r!==g,x=s!==h,b=Boolean(o.uri&&u!==m);return(v||f||x||b)&&!l&&!d&&!n&&c&&!t})(L,S,t,k,I)),[L,S,k,t,I]),D=(0,a.useCallback)((()=>{b(!0)}),[]),B=(0,a.useCallback)((e=>{const t=((e,t)=>{let i="";return 0===e?i=t("editprofile_editpage_error_photofail_max"):1===e&&(i=t("editprofile_editpage_error_image_cantuse")),i})(e,T);g.h.open({content:t,duration:2})}),[T]),{imageInfoRef:F,handleAvatarEditIconClick:M,handleFileChange:q}=Ii({fileUploadRef:C,processCallback:D,errorCallback:B}),N=(0,a.useCallback)((e=>{q(e)}),[q]);(0,a.useEffect)((()=>{I.url&&Z({type:"avatar",playload:I.url})}),[I]),(0,a.useEffect)((()=>{if(!S){if(0===w)return Z({type:Ui}),void r("submitConfirm"===j);const e=((e,t,i)=>{let n="";switch(e){case 1332:n=t("editprofile_editpage_error_cantmodify_others");break;case 1333:n=t("editprofile_editpage_error_cantmodify_review");break;case 1330:n=t("editprofile_editpage_error_username_cantchange");break;case 23:n=t("alert_user_update_profile_limited_toast");break;case 9:n=t("account_status_banned");break;case 3002265:n=t("nickname_change_fail_toast").replace("%d",i);break;case 3002328:n=t("ecom_changename_web");break;default:e!==le&&(n=t("editprofile_editpage_error_tryagain"))}return n})(w,T,u);e&&Z({type:Ui,playload:" "}),e&&g.h.open({content:e,duration:2})}}),[w,S,j]);const A=(0,a.useCallback)((()=>{Z({type:Oi,playload:{userName:v,name:h,bio:p,avatar:m,nameErrMsg:"",usernameErrMsg:"",bioValid:!0}}),P.setUpdatingProfile(!1),P.setAvatarInfo({uri:"",url:""}),P.SetSaveCode(le),P.setNickNameValid(0),P.setUploadImgCode(le),P.setUniqueIdValid(0)}),[m,P,h,p,v]);(0,a.useEffect)((()=>{Z({type:Oi,playload:{userName:v,name:h,bio:p,avatar:m,nameErrMsg:"",usernameErrMsg:"",bioValid:!0}})}),[m,h,p,v]);const z=(0,a.useCallback)((()=>{i(),dt.p.handleCancelEditProfile({enter_from:l}),A()}),[l,i,A]),R=(0,a.useCallback)((()=>{L.userName!==v&&L.name!==h?y({changeType:2,confirmStep:"frequencyConfirm"}):L.userName!==v?y({changeType:0,confirmStep:"frequencyConfirm"}):L.name!==h?y({changeType:1,confirmStep:"frequencyConfirm"}):P.updateUserProfile({signature:L.bio!==p?L.bio:void 0,nickname:L.name!==h?L.name:void 0,avatar_uri:I.uri?I.uri:void 0,uniqueId:L.userName.toLowerCase(),needUpdateUniqueId:L.userName.toLowerCase()!==v,needRemoveBlueV:!1})}),[L.userName,L.name,L.bio,v,h,P,p,I.uri]),V=(0,a.useCallback)((()=>{y({changeType:3,confirmStep:"none"}),A()}),[A]),W=(0,a.useCallback)((e=>{P.updateUserProfile({signature:L.bio!==p?L.bio:void 0,nickname:L.name!==h?L.name:void 0,avatar_uri:I.uri?I.uri:void 0,uniqueId:L.userName.toLowerCase(),needUpdateUniqueId:L.userName.toLowerCase()!==v,needRemoveBlueV:e})}),[P,L.bio,L.name,L.userName,p,h,I.uri,v]),H=(0,a.useCallback)(((e,t)=>{Z({type:e,playload:t})}),[]),Y=(0,a.useCallback)((()=>{b(!1),P.setUploadImgCode(le)}),[P]),{colors:G}=(0,x.u)();return(0,n.jsx)(xt.AR,Object.assign({style:{background:G.BGSecondary},compact:!0,isOpen:e},{children:"none"!==j?(()=>{const e={isVerified:O,replaceStr:u,changeType:_,active:!S,onCancel:V,onConfirm:W,username:L.userName,name:L.name,nextStep:y};switch(j){case"frequencyConfirm":return(0,n.jsx)(Vt,Object.assign({},e),void 0);case"blueVConfirm":return(0,n.jsx)(Ht,Object.assign({},e),void 0);case"loseVerifyConfirm":return(0,n.jsx)(Gt,Object.assign({},e),void 0);case"submitConfirm":return(0,n.jsx)(Ue,Object.assign({},e),void 0);default:return null}})():(0,n.jsxs)(Kt,Object.assign({"data-e2e":"edit-profile-popup",showVerified:O&&!f},{children:[(0,n.jsxs)(Jt,Object.assign({"data-e2e":"edit-profile-header"},{children:[T("editprofile_editprofile"),(0,n.jsx)(Qt,Object.assign({onClick:z,"data-e2e":"edit-profile-close"},{children:(0,n.jsx)(bt.Z,{width:"24",height:"24",fill:G.TextSecondary},void 0)}),void 0)]}),void 0),(0,n.jsxs)(ti,{children:[(0,n.jsxs)(ni,{children:[(0,n.jsx)(oi,Object.assign({"data-e2e":"edit-profile-photo"},{children:T("editprofile_editpage_photo")}),void 0),(0,n.jsxs)(ai,Object.assign({"data-e2e":"edit-profile-avatar"},{children:[(0,n.jsx)(mi,{onClick:M,src:L.avatar,isShowLive:!1,isShowLiveTag:!1,needAnimation:!1,size:96},void 0),(0,n.jsxs)(gi,Object.assign({"data-e2e":"edit-profile-avatar-edit-icon",onClick:M},{children:[(0,n.jsx)(jt.Z,{width:16,height:16},void 0),(0,n.jsx)(vi,{ref:C,type:"file",accept:ki,onChange:N},void 0)]}),void 0)]}),void 0)]},void 0),(0,n.jsxs)(ni,{children:[(0,n.jsx)(oi,Object.assign({"data-e2e":"edit-profile-username"},{children:T("editprofile_editpage_username")}),void 0),(0,n.jsx)(Ti,{username:L.userName,usernameErrMsg:L.usernameErrMsg,uniqueIdChangeInfo:s,onUsernameErrorChange:H,onUsernameChange:H},void 0)]},void 0),(0,n.jsxs)(ni,{children:[(0,n.jsx)(oi,Object.assign({"data-e2e":"edit-profile-name"},{children:T("editprofile_editpage_name")}),void 0),(0,n.jsx)(wi,{name:L.name,nameErrMsg:L.nameErrMsg,onNameChange:H,onNameErrorChange:H,nameChangeInfo:d,nickNameControlDay:u},void 0)]},void 0),(0,n.jsxs)(ii,{children:[(0,n.jsx)(oi,Object.assign({"data-e2e":"edit-profile-bio"},{children:T("editprofile_editpage_bio")}),void 0),(0,n.jsx)(_i,{bio:L.bio,bioValid:L.bioValid,onBioChange:H,onBioValidChange:H},void 0)]},void 0)]},void 0),(0,n.jsxs)(Xt,{children:[(0,n.jsx)(ei,Object.assign({"data-e2e":"edit-profile-cancel",size:"tiny",onClick:z},{children:T("editprofile_cancel")}),void 0),(0,n.jsx)(ei,Object.assign({"data-e2e":"edit-profile-save",size:"tiny",buttonTheme:"primary",onClick:R,disabled:!E},{children:T("editprofile_save")}),void 0)]},void 0),f&&(0,n.jsx)(zt,{style:{position:"absolute",left:0,top:0,background:"#fff",borderRadius:"8px"},imageInfo:F.current,onClose:Y,onSaveAvatar:Y},void 0)]}),void 0)}),void 0)})),Zi={id:"edit-5f4d9ed9",use:"edit-5f4d9ed9-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="edit-5f4d9ed9"><path fill="currentColor" fill-rule="evenodd" d="M15.393 2.226a.842.842 0 0 0-1.17.02L8.142 8.33a.842.842 0 0 0-.247.595v2.34c0 .464.377.841.842.841h2.183a.842.842 0 0 0 .596-.246l6.237-6.238a.843.843 0 0 0-.02-1.211l-2.34-2.184ZM9.58 9.273l5.26-5.26 1.107 1.033-5.374 5.375H9.58V9.273ZM9.58 2a.42.42 0 0 1 .42.421v.842a.421.421 0 0 1-.42.421H4.526a.842.842 0 0 0-.842.842v10.948c0 .465.377.842.842.842h10.947a.842.842 0 0 0 .842-.842V10.42c0-.232.189-.421.421-.421h.842c.233 0 .422.188.422.421v5.053A2.526 2.526 0 0 1 15.473 18H4.526A2.526 2.526 0 0 1 2 15.474V4.526A2.526 2.526 0 0 1 4.526 2H9.58Z" clip-rule="evenodd" /></symbol>'};function Ei(e){const t=(0,a.useContext)(Ze.e);return(0,a.useLayoutEffect)((()=>(t.add(Zi),()=>{t.remove("edit-5f4d9ed9")})),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#edit-5f4d9ed9"},void 0)}),void 0)}const Di=(0,me.Z)("div",{target:"e33dl3i0"})({position:"relative",width:"136px",height:"36px",padding:0,margin:0,marginTop:"16px"},"label:DivEditContainer;"),Bi=(0,me.Z)(k.W,{target:"e33dl3i1"})((({theme:{direction:e}})=>[{height:"36px",fontSize:"16px",display:"flex",alignItems:"center",padding:"0 16px",minWidth:"136px",lineHeight:"24px","> span":{whiteSpace:"nowrap"}},(0,fe.YJ)({direction:e,marginEnd:8})]),"label:StyledEditButton;"),Fi=(0,me.Z)(Ei,{target:"e33dl3i2"})((({theme:{direction:e,colors:t}})=>[{width:"20px",height:"20px",color:t.Primary2},(0,fe.YJ)({direction:e,marginEnd:6})]),"label:StyledEditIcon;");function Mi(e,t){const i=e+24*t*60*60,n=Date.now();return e&&i>Math.ceil(n/1e3)?{changeable:!1,nextTime:i}:{changeable:!0,nextTime:0}}var qi;!function(e){e.VerifyTip="1",e.ProfileUpdateTip="2"}(qi||(qi={}));const Ni=(0,a.memo)((function({user:e}){var t,i,r;const[s,l]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),{uniqueIdModifyTime:g,nickNameModifyTime:m}=e,[v,f]=(0,a.useState)({changeable:!0,nextTimeStr:""}),[x,b]=(0,a.useState)({changeable:!0,nextTimeStr:""}),{language:j}=null!==(t=(0,_.Lh)((()=>["language"]),[]))&&void 0!==t?t:{},{config:y}=null!==(i=(0,tt.h)((()=>["config"]),[]))&&void 0!==i?i:{},C=null!==(r=null==y?void 0:y.nickNameControlDay)&&void 0!==r?r:"7",k=null!=j?j:"en",[{newUniqueInfo:I},w]=(0,o.b7)(he),S=(0,it.ot)({pathname:(0,He.yl)({uniqueId:I.uniqueId}),search:{}}),P=(0,c.Q)(),[T,O]=(0,a.useState)(""),U=(0,_.bp)(),L=(0,tt.T)(),Z=(0,et.fz)(re.Q);(0,a.useEffect)((()=>{U.appContext&&L.bizContext&&Z.setContext(U.appContext,L.bizContext)}),[U.appContext,Z,L.bizContext]),(0,a.useEffect)((()=>{if(g){const{changeable:e,nextTime:t}=Mi(Number(g),30),i=lt(Number(t),k,"MMM D, YYYY");f({changeable:e,nextTimeStr:i})}}),[k,g]),(0,a.useEffect)((()=>{if(m){const{changeable:e,nextTime:t}=Mi(Number(m),Number(C)),i=lt(Number(t),k,"MMM D, YYYY");b((t=>Object.assign(Object.assign({},t),{changeable:e,nextTimeStr:i})))}}),[k,m,C]),(0,a.useEffect)((()=>{const e=!(0,p.le)(h.S0);e&&(dt.p.handleShowProfileTooltip({enter_from:"personal_homepage"}),(0,p.D$)(h.S0,"1")),u(e)}),[]),(0,a.useEffect)((()=>{const e=(0,p.St)(h.OB);e&&(O(e),l(!0),(0,p.lD)(h.OB))}),[]);const E=(0,a.useCallback)((()=>{dt.p.handleClickEditProfile({enter_from:"personal_homepage"}),O("personal_homepage"),l(!0)}),[]),D=(0,a.useCallback)((()=>{l(!1)}),[]),B=(0,a.useCallback)((e=>{dt.p.handleCloseProfileTooltip({enter_from:"personal_homepage",close_method:e}),u(!1)}),[]),F=(0,a.useCallback)((e=>{(0,p.D9)(h.b7,e?"1":"2"),w.SetSaveCode(le),l(!1),setTimeout((()=>{window.location.href=S}),3e3)}),[S,w]);return(0,n.jsxs)(Di,Object.assign({"data-e2e":"edit-profile-entrance"},{children:[(0,n.jsxs)(Bi,Object.assign({onClick:E,size:"medium"},{children:[(0,n.jsx)(Fi,{},void 0),(0,n.jsx)("span",{children:P("editprofile_editprofile")},void 0)]}),void 0),(0,n.jsx)(Li,{editProfileFrom:T,uniqueIdChangeInfo:v,nameChangeInfo:x,onUpdated:F,onCloseModal:D,visible:s,user:e,nickNameControlDay:C},void 0),(0,n.jsx)(ft,{onCancel:B,showPopover:d,cancelText:P("editprofile_close"),title:P("editprofile_tooltip_title"),description:P("editprofile_tooltip_subtitle")},void 0)]}),void 0)}));var Ai=i(94582),zi=i(64504),Ri=i(92988),Vi=i(50894),Wi=i(71300),Hi=i(97186),Yi=i(46580),Gi=i(90012),$i=i(19470),Ki=i(64176),Ji=i(40013);const Qi=(0,me.Z)("div",{target:"e18e4obn0"})((({theme:e})=>[(0,fe.GI)({theme:e,fontFamily:"Sofia",fontWeight:"semiBold",typography:"P1"}),{position:"relative",width:"208px",height:"36px",padding:"0",margin:"0",marginTop:"16px"}]),"label:DivShareFollowContainer;"),Xi=(0,me.Z)("div",{target:"e18e4obn1"})((({hide:e,status:t})=>{const i=t===Ai.d0||t===Ai.cn,n=t===Ai.d0||t===Ai.Ix;return[{display:"flex",position:"absolute",left:"0",top:"0",opacity:Number(i),zIndex:e?-1:"unset"},n?{transition:"opacity 0.5s"}:null]}),"label:DivMessageContainer;"),en=(0,me.Z)(Ji.Z,{target:"e18e4obn2"})((({theme:{direction:e}})=>(0,fe.YJ)({direction:e,marginEnd:8})),"label:StyledArrowLeftRight;"),tn=(0,me.Z)(k.W,{target:"e18e4obn3"})((({theme:{direction:e}})=>[{height:"36px",lineHeight:"22px"},(0,fe.YJ)({direction:e,marginEnd:8})]),"label:StyledMessageButton;"),nn=(0,me.Z)("div",{target:"e18e4obn4"})((({hide:e,status:t})=>{const i=t===Ai.d0||t===Ai.cn,n=t===Ai.d0||t===Ai.Ix;return[{position:"absolute",left:"0",top:"0",minWidth:"208px",height:"36px",lineHeight:"22px",zIndex:e?-1:"unset",opacity:Number(i)},n?{transition:"opacity 0.5s"}:null]}),"label:DivFollowButtonWrapper;"),on=(0,me.Z)(k.W,{target:"e18e4obn5"})({minWidth:"208px",lineHeight:"22px"},"label:StyledFollowButton;"),an=(0,me.Z)("div",{target:"e18e4obn6"})((({theme:{direction:e,colors:t}})=>[{display:"flex",justifyContent:"center",alignItems:"center",boxSizing:"border-box",width:"36px",height:"36px",border:"1px solid rgba(22, 24, 35, .12)",borderRadius:"4px",cursor:"pointer",position:"relative",backgroundColor:t.BGSecondary2,float:(0,fe.$K)(e,"end"),":hover":{backgroundColor:t.BGView}}]),"label:DivFollowIconContainer;"),rn=(0,a.memo)((function({user:e,style:t={}}){var i,o;const r=(0,c.Q)(),{user:s,language:l="en"}=null!==(i=(0,_.Lh)((()=>["user","language"]),[]))&&void 0!==i?i:{},d=(0,a.useRef)(null),u=(0,a.useRef)(null),{relation:p,uniqueId:h}=e,g=!!s&&h===s.uniqueId,m=(0,Vi.Q)({query:{enter_method:"click_follow"}}),{handleFollow:v,text:f,isFollowing:x,relation:b}=(0,Ve.w)({uniqueId:null!==(o=null==e?void 0:e.uniqueId)&&void 0!==o?o:"",onNeedLogin:m}),[j,y]=(0,a.useState)(!1),C=3===b,k=4===b,I=x&&!(null==s?void 0:s.hasIMPermission),w=k||C||I,S=(0,a.useCallback)((()=>Gi.R.handleEnterChatList()),[]);(0,a.useEffect)((()=>{k&&$i.g.handleBlockShow(!k)}),[k]);const P=(0,a.useCallback)((()=>{y(!0)}),[]),T=(0,a.useCallback)((()=>{y(!1)}),[]),O=(0,a.useCallback)((e=>{k?P():v(e)}),[k,P,v]),U=(0,Wi.qO)(l);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(Qi,Object.assign({style:t},{children:[!g&&(0,n.jsx)(Ai.ZP,Object.assign({timeout:300,in:!x||!(null==s?void 0:s.hasIMPermission),nodeRef:d},{children:i=>(0,n.jsx)(nn,Object.assign({ref:d,status:i,style:t},{children:(0,n.jsxs)(on,Object.assign({size:"medium",buttonTheme:w?"default":"primary",hide:x&&(null==s?void 0:s.hasIMPermission),"data-e2e":"follow-button",onClick:O,style:t,"aria-label":`${f} ${null==e?void 0:e.nickname}`},{children:[2===p?(0,n.jsx)(en,{},void 0):null,f]}),void 0)}),void 0)}),void 0),!g&&(null==s?void 0:s.hasIMPermission)&&(0,n.jsx)(Ai.ZP,Object.assign({timeout:300,in:x,nodeRef:u},{children:t=>(0,n.jsxs)(Xi,Object.assign({hide:!x,status:t,ref:u},{children:[(0,n.jsx)(Hi.v,Object.assign({forceSSR:!1,to:`${U}&u=${null==e?void 0:e.id}`,onClick:S,style:{textDecoration:"none"}},{children:(0,n.jsx)(tn,Object.assign({size:"medium",buttonTheme:"line"},{children:r("webdm_message_button")}),void 0)}),void 0),(0,n.jsx)(Ki.u,Object.assign({overlay:r("user_action_unfollow"),placement:"bottom"},{children:(0,n.jsx)(an,Object.assign({onClick:v},{children:2===p?(0,n.jsx)(zi.Z,{width:20,height:20},void 0):(0,n.jsx)(Ri.Z,{width:20,height:20},void 0)}),void 0)}),void 0)]}),void 0)}),void 0)]}),void 0),(0,n.jsx)(Yi.y,{visible:j,uniqueId:h,onClose:T},void 0)]},void 0)}));var sn=i(48999),ln=i(2412),dn=i(15377);const cn=(0,me.Z)("div",{target:"eht0fek0"})((({theme:e})=>(0,fe.GI)({theme:e,fontFamily:"Sofia",fontWeight:"semiBold",typography:"P2"})),{display:"flex",alignItems:"flex-end",flexWrap:"wrap",marginTop:"5px"},"label:DivShareLinks;"),un=(0,me.Z)("span",{target:"eht0fek1"})((({theme:{colors:e}})=>({display:"inline-block",border:`.5px solid ${e.LineSecondary}`,height:"16px",margin:"0 12px"})),"label:SpanShareLinksSpliter;"),pn=(0,me.Z)("span",{target:"eht0fek2"})((({theme:{direction:e}})=>(0,fe.YJ)({direction:e,paddingStart:2})),{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},"label:SpanLink;"),hn=({theme:e,red:t})=>[(0,fe.GI)({theme:e,fontFamily:"Sofia",fontWeight:"semiBold",lineHeight:"18px",typography:"P2",color:t?"Primary":"TextPrimary",isLink:!0}),{display:"flex",alignItems:"flex-end",fontStyle:"normal",height:"22px",maxWidth:"256px"}],gn=(0,me.Z)("p",{target:"eht0fek3"})(hn,"label:PShareError;"),mn=(0,me.Z)("a",{target:"eht0fek4"})(hn,"label:ABioLink;"),vn=(0,a.memo)((function({user:e}){var t,i;const o=(0,c.Q)(),{user:r}=null!==(t=(0,_.Lh)((()=>["user","language"]),[]))&&void 0!==t?t:{},{bioLink:s={},commerceUserInfo:l={},uniqueId:d}=e,u=!!r&&d===r.uniqueId,{shouldShowDownloadLink:p,shouldShowBioLink:h,secDownloadLink:g,secBioLink:m,showDownloadLink:v}=function({isProfile:e,user:t}){var i,n,o;const{language:a="en"}=null!==(i=(0,_.Lh)((()=>["language"]),[]))&&void 0!==i?i:{},{secret:r,relation:s,bioLink:l,commerceUserInfo:d}=t,c=[],u=[];let p=!1,h=!1,g=null==l?void 0:l.link;function m(e){return`https://www.tiktok.com/link/v2?aid=1988&lang=${a}&scene=bio_url&target=${encodeURIComponent(e)}`}(null==l?void 0:l.link)&&(p=!0,g=m(l.link),r&&(p=!1,e&&(p=!0),1===s&&(p=!0)),5===s&&(p=!1),9===l.risk&&(p=!1,e&&(p=!0)));const v=null===(n=null==d?void 0:d.downLoadLink)||void 0===n?void 0:n.ios,f=null===(o=null==d?void 0:d.downLoadLink)||void 0===o?void 0:o.android;return(null==d?void 0:d.commerceUser)&&(v||f)&&(h=!0,f&&(u.push(f),c.push(m(f))),v&&(u.push(v),c.push(m(v)))),{shouldShowDownloadLink:h,shouldShowBioLink:p,secDownloadLink:c,secBioLink:g,showDownloadLink:u}}({isProfile:u,user:e});function f(e){return e.split(/[\s\n\r\t]+/)[0].replace(/^https?:\/\//,"")}const x=(0,a.useMemo)((()=>{var e;return(0,n.jsx)(cn,{children:(0,n.jsxs)(mn,Object.assign({target:"_blank",rel:"noindex nofollow noreferrer noopener",red:!0,href:g[0]},{children:[(0,n.jsx)(sn.Z,{width:18,height:18,style:{flexShrink:0}},void 0),(0,n.jsx)(pn,{children:f(null!==(e=v[0])&&void 0!==e?e:"")},void 0)]}),void 0)},void 0)}),[v,g]);return h?(0,n.jsxs)(cn,{children:[9!==(null==s?void 0:s.risk)?(0,n.jsxs)(mn,Object.assign({red:null==l?void 0:l.commerceUser,target:"_blank",rel:"noindex nofollow noreferrer noopener",href:null!=m?m:"","data-e2e":"user-link"},{children:[(0,n.jsx)(ln.Z,{fill:(null==l?void 0:l.commerceUser)?"#fe2c55":"currentColor",width:18,height:18,style:{flexShrink:0}},void 0),(0,n.jsx)(pn,{children:f(null!==(i=null==s?void 0:s.link)&&void 0!==i?i:"")},void 0)]}),void 0):(0,n.jsxs)(gn,Object.assign({red:!0},{children:[(0,n.jsx)(dn.Z,{width:18,height:18,fill:"#ff4c3a",style:{flexShrink:0}},void 0),(0,n.jsx)(pn,{children:o("profile_self_link_unavailable")},void 0)]}),void 0),p&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(un,{},void 0),x]},void 0)]},void 0):p?x:null}));var fn=i(94215);const xn=(0,me.Z)("h3",{target:"e1457k4r0"})({display:"flex",alignItems:"center",marginTop:"22px",color:"rgba(18, 18, 18, .75)"},"label:H3CountInfos;"),bn=(0,me.Z)("div",{target:"e1457k4r1"})((({theme:e,theme:{direction:t}})=>[(0,fe.GI)({theme:e,fontFamily:"Sofia",fontWeight:"semiBold",typography:"P1",color:"TextPrimary"}),{display:"flex",direction:"ltr",alignItems:"baseline",":not(:last-child)":[(0,fe.YJ)({direction:t,marginEnd:20})]}]),"label:DivNumber;"),jn=(0,me.Z)("span",{target:"e1457k4r2"})((({theme:e})=>[(0,fe.GI)({theme:e,fontFamily:"Proxima",fontWeight:"normal",typography:"P2",color:"TextSecondary"}),{display:"inline-block",marginLeft:"6px"}]),"label:SpanUnit;"),_n=(0,me.Z)("h2",{target:"e1457k4r3"})((({theme:e,theme:{direction:t}})=>[(0,fe.YJ)({direction:t,textAlign:"start"}),(0,fe.GI)({theme:e,fontFamily:"Proxima",fontWeight:"normal",typography:"P2",color:"TextPrimary"}),{whiteSpace:"pre-line",marginTop:"10px"}]),"label:H2ShareDesc;"),yn=(0,me.Z)(Ge.Lp,{target:"e1457k4r4"})({marginBottom:"25px"},"label:StyledSkeletonContainer;"),Cn=(0,me.Z)(fn.Od.Avatar,{target:"e1457k4r5"})((({theme:e})=>(0,Ge.nH)(e)),"label:StyledSkeletonAvatar;"),kn=(0,me.Z)("span",{target:"e1457k4r6"})((({theme:e,theme:{direction:t}})=>[(0,fe.YJ)({direction:t,marginStart:"8px"}),(0,fe.GI)({theme:e,fontFamily:"Proxima",fontWeight:"normal",typography:"P2",color:"TextTertiary"}),{overflow:"hidden",textOverflow:"ellipsis"}]),"label:SpanBAInfo;");function In(){return(0,n.jsx)(f.Y5,Object.assign({hideActions:!0},{children:(0,n.jsxs)(yn,{children:[(0,n.jsx)(Cn,{},void 0),(0,n.jsxs)(Ge.Kd,{children:[(0,n.jsx)(Ge.Mj,{},void 0),(0,n.jsx)(Ge.zk,{},void 0)]},void 0)]},void 0)}),void 0)}const wn=(0,a.memo)((function({detailInfo:e}){var t;const i=(0,c.Q)(),{language:r="en",user:s}=(0,b.m7)((0,_.Lh)((()=>["language","user"]),[])),{user:l,stats:u}=e,{uniqueId:p,secUid:h,stateControlledMedia:g}=(0,b.m7)(l),m=(0,Re.gL)(p),v=null==s?void 0:s.ftcUser,{getUserDetail:x}=(0,o.qj)(d.z);(0,a.useEffect)((()=>{u&&!u.needFix||!(null==l?void 0:l.uniqueId)||x({uniqueId:null==l?void 0:l.uniqueId,secUid:null==l?void 0:l.secUid,language:r})}),[x,u,null==l?void 0:l.uniqueId,null==l?void 0:l.secUid,r]),(0,a.useEffect)((()=>{!(null==l?void 0:l.uniqueIdModifyTime)&&(null==l?void 0:l.uniqueId)&&x({uniqueId:null==l?void 0:l.uniqueId,secUid:null==l?void 0:l.secUid,language:r})}),[x,null==l?void 0:l.uniqueId,null==l?void 0:l.secUid,r,null==l?void 0:l.uniqueIdModifyTime]);const{isFollowing:j}=(0,Ve.w)({uniqueId:null!==(t=null==l?void 0:l.uniqueId)&&void 0!==t?t:""}),y=(0,De.JW)({uniqueId:p,secUid:h}),C=(0,a.useMemo)((()=>{var e;return y?null:{report_type:"user",object_id:null!==(e=null==l?void 0:l.id)&&void 0!==e?e:"",owner_id:null==l?void 0:l.id,secUid:null==l?void 0:l.secUid,nickname:null==l?void 0:l.nickname,lang:r}}),[r,y,null==l?void 0:l.id,null==l?void 0:l.secUid,null==l?void 0:l.nickname]),k=(0,a.useMemo)((()=>({marginTop:"8px"})),[]);if(!l)return(0,n.jsx)(In,{},void 0);const{verified:I,nickname:w,signature:S,secret:P,commerceUserInfo:T={},isUnderAge18:O,id:U,isEmbedBanned:L=!1,profileEmbedPermission:Z}=l,{category:E,categoryButton:D=!1}=null!=T?T:{},B=S||i("No bio yet."),F=(0,We.c)(`https://www.tiktok.com${(0,He.yl)({uniqueId:p,secUid:h})}`,{sender_device:"pc"}),M=Boolean(P)||3===Z||O,q=2===Z||L;return(0,n.jsxs)(f.Y5,Object.assign({embedType:1,embedCode:m,hideActions:y,isProfile:y,isFollowing:j,isEmbedDisabled:M,isEmbedBanned:q,uniqueId:p,itemListKey:"user",report:C,shareUrl:F,uid:U},{children:[(0,n.jsxs)(Ge.en,{children:[(0,n.jsx)(Xe,{user:l,e2eTag:"user-avatar"},void 0),(0,n.jsxs)(Ge.bU,{children:[(0,n.jsxs)(Ge.KG,Object.assign({verified:I,private:P,"data-e2e":"user-title"},{children:[p," ",I&&(0,n.jsx)(Ae.Z,{width:20,height:20,"data-e2e":"user-bluev"},void 0)," ",P&&(0,n.jsx)(ze.Z,{width:20,height:20},void 0)]}),void 0),(0,n.jsxs)(Ge.Xs,Object.assign({"data-e2e":"user-subtitle"},{children:[w,D&&E&&(0,n.jsx)(kn,{children:E},void 0)]}),void 0),(0,n.jsx)(Ye.i,{style:k,stateControlledMedia:g,labelType:0,isUserPage:!0},void 0),!y&&(0,n.jsx)(rn,{user:l},void 0),y&&!v&&(0,n.jsx)(Ni,{user:l},void 0)]},void 0)]},void 0),(0,n.jsxs)(xn,{children:[(0,n.jsxs)(bn,{children:[(0,n.jsx)("strong",Object.assign({title:i("Following"),"data-e2e":"following-count"},{children:u?(0,b.BT)(u.followingCount):"--"}),void 0),(0,n.jsx)(jn,Object.assign({"data-e2e":"following"},{children:i("Following")}),void 0)]},void 0),(0,n.jsxs)(bn,{children:[(0,n.jsx)("strong",Object.assign({title:i("Followers"),"data-e2e":"followers-count"},{children:u?(0,b.BT)(u.followerCount):"--"}),void 0),(0,n.jsx)(jn,Object.assign({"data-e2e":"followers"},{children:i("Followers")}),void 0)]},void 0),(0,n.jsxs)(bn,{children:[(0,n.jsx)("strong",Object.assign({title:i("Likes"),"data-e2e":"likes-count"},{children:u?(0,b.BT)(Number(u.heart)||u.heartCount):"--"}),void 0),(0,n.jsx)(jn,Object.assign({"data-e2e":"likes"},{children:i("Likes")}),void 0)]},void 0)]},void 0),(0,n.jsx)(_n,Object.assign({"data-e2e":"user-bio"},{children:B}),void 0),(0,n.jsx)(vn,{user:l},void 0)]}),void 0)}));var Sn=i(2606),Pn=i(63175),Tn=i(29025),On=i(31222),Un=i(78662),Ln=i(30505),Zn=i(45725),En=i(85640),Dn=i(24673),Bn=i(6943),Fn=i(92384);const Mn=(0,me.Z)("div",{target:"ejxl5ua0"})((({theme:e})=>({width:"100%",display:"flex",alignItems:"center",padding:"12px 0",paddingInlineEnd:"24px",boxSizing:"border-box",borderRadius:"8px",cursor:"pointer",userSelect:"none",":hover":{background:e.colors.BGView}})),"label:DivPlaylistCardContainer;"),qn=(0,me.Z)("p",{target:"ejxl5ua1"})((({theme:e})=>[(0,fe.GI)({theme:e,fontFamily:"Proxima",fontWeight:"semiBold",typography:"P2",color:"TextSecondary"}),{minWidth:"36px",justifyContent:"center",marginInlineEnd:"12px",textAlign:"center",alignItems:"center",fontSize:"16px",lineHeight:"20px"}]),"label:PIndex;"),Nn=(0,me.Z)("img",{target:"ejxl5ua2"})({width:"80px",height:"80px",objectFit:"cover",flexShrink:0,borderRadius:"2px"},"label:ImgVideoCover;"),An=(0,me.Z)("div",{target:"ejxl5ua3"})({width:"80px",height:"80px",flexShrink:0,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"2px"},"label:DivCoverContainer;"),zn=(0,me.Z)("div",{target:"ejxl5ua4"})({display:"flex",flexDirection:"column",justifyContent:"space-between",marginInlineStart:"20px",flexGrow:1,height:"80px",padding:"10px 0",boxSizing:"border-box"},"label:DivPlaylistInfoContainer;"),Rn=(0,me.Z)("p",{target:"ejxl5ua5"})((({theme:e})=>[(0,fe.GI)({theme:e,fontFamily:"Proxima",fontWeight:"bold",typography:"P3",color:"TextPrimary"}),(0,fe.FC)(1),{wordBreak:"break-word",fontSize:"16px",lineHeight:"24px"}]),"label:PTitle;"),Vn=(0,me.Z)("p",{target:"ejxl5ua6"})((({theme:e})=>[(0,fe.GI)({theme:e,fontFamily:"Proxima",fontWeight:"normal",typography:"P4",color:"TextTertiaryAlt"}),{fontSize:"14px",lineHeight:"22px"}]),"label:PDesc;"),Wn=(0,me.Z)("div",{target:"ejxl5ua7"})((({theme:e})=>({width:"36px",height:"28px",display:"flex",justifyContent:"center",alignItems:"center","*":{fill:e.colors.TextSecondary}})),"label:DivIconWrapper;"),Hn=(0,a.memo)((({id:e,index:t})=>{const i=(0,c.Q)(),{name:a="",cover:r,videoCount:s}=(0,b.m7)((0,o.mp)(Q.y,{selector:t=>t[e],dependencies:[e]})),l=i("playlist_webapp_profileview_playlists_numbervid",{num:s,number:(0,b.BT)(s)}),d=(0,Fn.xx)(a);return(0,n.jsxs)(Mn,{children:[(0,n.jsx)(qn,{children:t<9?`0${t+1}`:t+1},void 0),r?(0,n.jsx)(Nn,{src:r},void 0):(0,n.jsx)(An,{children:(0,n.jsx)(Dn._,{size:40},void 0)},void 0),(0,n.jsxs)(zn,{children:[(0,n.jsxs)(Rn,{children:[d,a]},void 0),(0,n.jsx)(Vn,{children:l},void 0)]},void 0),(0,n.jsx)(Wn,{children:(0,n.jsx)(Bn.S,{size:28},void 0)},void 0)]},void 0)})),Yn=(0,me.Z)("div",{target:"eo04fh20"})({width:"100%",display:"flex",flexDirection:"column"},"label:DivPlaylistContainer;"),Gn=(0,me.Z)("p",{target:"eo04fh21"})((({theme:e})=>[(0,fe.GI)({theme:e,fontFamily:"Proxima",fontWeight:"semiBold",typography:"P3",color:"TextPrimary"}),{fontSize:"16px",lineHeight:"20px",margin:"24px 0 16px"}]),"label:PPlaylistTitle;"),$n=(0,me.Z)("div",{target:"eo04fh22"})({width:"100%",height:"94px",overflowX:"visible",position:"relative"},"label:DivListContainer;"),Kn=(0,me.Z)("div",{target:"eo04fh23"})({width:"100%",height:"94px",overflowX:"auto",overflowY:"hidden",display:"flex",paddingBottom:"6px",position:"relative",scrollbarHeight:"none","::-webkit-scrollbar":{height:0}},"label:DivListInnerContainer;"),Jn=(0,me.Z)("div",{target:"eo04fh24"})((({theme:{colors:e,direction:t,isDark:i}})=>[{position:"absolute",width:"32px",height:"32px",borderRadius:"32px",display:"flex",justifyContent:"center",alignItems:"center",border:`0.5px solid ${e.LinePrimary}`,top:"50%",transform:`translateY(-50%) rotateZ(${"rtl"===t?"180deg":0})`,background:i?e.BGInput2:e.BGPrimary,cursor:"pointer"},(0,fe.YJ)({direction:t,start:"-16px"})]),"label:DivSwitchLeft;"),Qn=(0,me.Z)("div",{target:"eo04fh25"})((({theme:{colors:e,direction:t}})=>[{background:"rtl"===t?`linear-gradient(0.25turn, ${e.BGPrimary}, 50%, rgba(255,0,0,0))`:`linear-gradient(0.25turn, rgba(255,0,0,0), 50%, ${e.BGPrimary})`,position:"absolute",width:"86px",height:"94px",transform:"translateY(-100%)",pointerEvents:"none"},(0,fe.YJ)({direction:t,end:"0px"})]),"label:DivStyledShadow;"),Xn=(0,me.Z)(Jn,{target:"eo04fh26"})((({theme:{direction:e}})=>(0,fe.YJ)({direction:e,start:"unset",end:"-16px"})),"label:StyledSwitchRight;"),eo={width:"calc(33% - 4px)",height:"94px"},to=(0,me.Z)(fn.Xu,{target:"eo04fh27"})(Object.assign(Object.assign({},eo),{marginInlineEnd:"16px",flexShrink:0,borderRadius:"4px","@media screen and (max-width: 1072px)":{minWidth:"230px"}}),"label:StyledSkeleton;"),io=(0,me.Z)(Hi.v,{target:"eo04fh28"})((({theme:{isDark:e,colors:t},hideMarginEnd:i=!1})=>Object.assign(Object.assign({},eo),{padding:"12px",boxSizing:"border-box",marginInlineEnd:i?0:"16px",display:"flex",alignItems:"center",flexShrink:0,borderRadius:"4px",cursor:"pointer",background:e?t.BGInput2:t.BGView,"@media screen and (max-width: 1072px)":{minWidth:"230px"}})),"label:StyledLink;"),no=(0,me.Z)("div",{target:"eo04fh29"})({width:"100%",height:"100%",display:"flex",alignItems:"center",flexShrink:0,borderRadius:"4px",cursor:"pointer"},"label:DivPlaylistCardContainer;"),oo=(0,me.Z)("div",{target:"eo04fh210"})((({theme:{colors:e},needBorder:t})=>({width:"72px",height:"72px",borderRadius:"2px",marginInlineEnd:"12px",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexShrink:0,border:t?`1px solid ${e.LineSecondary}`:"none"})),"label:DivPlaylistCardCover;"),ao=(0,me.Z)("img",{target:"eo04fh211"})({width:"72px",height:"72px",borderRadius:"2px",objectFit:"cover"},"label:ImgCover;"),ro=(0,me.Z)("div",{target:"eo04fh212"})({display:"flex",flexDirection:"column",height:"100%",padding:"4px 0",boxSizing:"border-box",justifyContent:"space-between"},"label:DivPlaylistInfoContainer;"),so=(0,me.Z)("p",{target:"eo04fh213"})((({theme:e})=>[(0,fe.GI)({theme:e,fontFamily:"Proxima",fontWeight:"bold",typography:"P3",color:"TextPrimary"}),(0,fe.FC)(1),{wordBreak:"break-word",fontSize:"16px",lineHeight:"24px"}]),"label:PPlaylistName;"),lo=(0,me.Z)("p",{target:"eo04fh214"})((({theme:e})=>[(0,fe.GI)({theme:e,fontFamily:"Proxima",fontWeight:"normal",typography:"P4",color:"TextTertiaryAlt"}),{fontSize:"14px",lineHeight:"22px"}]),"label:PDesc;"),co=(0,me.Z)("div",{target:"eo04fh215"})((({paddingBottom:e="0px",theme:{colors:t}})=>({width:"692px",height:"calc(100vh - 288px)",maxHeight:"736px",display:"flex",flexDirection:"column",alignItems:"center",paddingBottom:e,background:t.BGTertiary,borderRadius:"8px"})),"label:DivModalContainer;"),uo=(0,me.Z)("div",{target:"eo04fh216"})((({theme:e})=>[(0,fe.GI)({theme:e,fontFamily:"Proxima",fontWeight:"bold",typography:"P0",color:"TextPrimary"}),{display:"flex",justifyContent:"center",alignItems:"center",height:"80px",borderBottom:`0.5px solid ${e.colors.LinePrimary2}`,width:"100%",flexShrink:0}]),"label:DivModalTitle;"),po=(0,me.Z)("div",{target:"eo04fh217"})({display:"flex",flexDirection:"column",alignItems:"center",width:"100%",height:"100%",padding:"8px 16px",boxSizing:"border-box",overflowY:"auto"},"label:DivModalContentContainer;"),ho=(0,me.Z)("div",{target:"es7r6k70"})((({theme:e,translateY:t})=>[(0,fe.YJ)({direction:e.direction,end:"12px"}),{position:"absolute",display:"flex",alignItems:"center",justifyContent:"flex-end",top:"10px",transform:`translateY(${t})`}]),"label:DivPlaylistManageContainer;"),go=(0,me.Z)("div",{target:"es7r6k71"})((({theme:e})=>[(0,fe.GI)({theme:e,fontFamily:"Proxima",fontWeight:"semiBold",typography:"P3",color:"TextSecondary"}),{display:"flex",alignItems:"center",marginInlineStart:"16px",cursor:"pointer",fontSize:"16px",lineHeight:"24px"}]),"label:DivManageItem;"),mo=(0,me.Z)(go,{target:"es7r6k72"})((({theme:e})=>({color:e.colors.Primary})),"label:StyledDivManageItem;"),vo=(0,me.Z)("div",{target:"es7r6k73"})({width:"20px",height:"20px",marginInlineEnd:"2px",display:"flex",justifyContent:"center",alignItems:"center"},"label:DivPlusContainer;"),fo=(0,me.Z)(vo,{target:"es7r6k74"})({transform:"rotateZ(90deg)",marginInlineEnd:"unset",marginTop:"2px"},"label:StyledReorderContainer;"),xo=(0,a.memo)((({showPlaylistCards:e=!1})=>{const t=(0,c.Q)(),{isDark:i}=(0,x.u)(),[{playlist:r,changeOrderLoading:s,loading:l},d]=(0,o.b7)(J.c,{selector:e=>{var t;return{playlist:null!==(t=e.playList)&&void 0!==t?t:[],changeOrderLoading:e.changeOrderLoading,loading:e.loading}},dependencies:[]}),u=(0,o.qj)(I.t),[p,h]=(0,a.useState)(!1),[g,m]=(0,a.useState)(r);(0,a.useEffect)((()=>{m(r)}),[r,p]);const[v,f]=(0,a.useState)(-1),b=(0,a.useCallback)((()=>{h(!1)}),[]),j=(0,a.useCallback)((()=>{u.setProfileState("create_playlist"),C.I.handleCreatePlaylist()}),[u]),_=(0,a.useCallback)((()=>{h(!0),C.I.handleClickChangePlaylistOrder()}),[]),y=(0,a.useCallback)((()=>{v<=0||d.changePlaylistOrder({playlist:g,endIndex:v,successCallback:b})}),[d,v,b,g]),P=(0,a.useCallback)((e=>{if(!e.destination)return;const t=(0,Z.H)(g,e.source.index,e.destination.index);m(t),f(Math.max(v,e.source.index,e.destination.index))}),[v,g]),T=(0,a.useCallback)((({id:e,index:t})=>(0,n.jsx)(Hn,{id:e,index:t},e)),[]),O=e&&r.length>0?"64px":"0px";return 0===r.length&&l?null:(0,n.jsxs)(ho,Object.assign({translateY:O},{children:[r.length>=2&&(0,n.jsxs)(go,Object.assign({onClick:_},{children:[(0,n.jsx)(fo,{children:(0,n.jsx)(Ln.C,{size:16},void 0)},void 0),t("playlist_webapp_profileview_btn_changeorder")]}),void 0),(0,n.jsxs)(mo,Object.assign({onClick:j},{children:[(0,n.jsx)(vo,{children:(0,n.jsx)(Zn.L,{size:16},void 0)},void 0),t("playlist_webapp_profile_entry_create")]}),void 0),(0,n.jsx)(En.u_,Object.assign({visible:p,closeStyle:3,onClose:b,zIndex:1e3},{children:(0,n.jsxs)(co,Object.assign({paddingBottom:"92px"},{children:[(0,n.jsx)(uo,{children:t("playlist_webapp_changeorder_header")},void 0),(0,n.jsx)(po,{children:(0,n.jsx)(Z.X,{onDragEnd:P,list:g,renderItem:T},void 0)},void 0),(0,n.jsx)(S.v3,Object.assign({onClick:y},{children:(0,n.jsx)(k.W,Object.assign({style:w.jn,buttonTheme:"primary",disabled:v<=0,loading:s,loadingFill:i?"#fff":void 0},{children:t("playlist_webapp_upload_nameplaylist_btn")}),void 0)}),void 0)]}),void 0)}),void 0)]}),void 0)}));var bo=i(99192),jo=i(91829),_o=i(33693),yo=i(99116),Co=i(42531),ko=i(4776);const Io=e=>{var t,i;return null!==(i=null===(t=null==e?void 0:e.current)||void 0===t?void 0:t.scrollLeft)&&void 0!==i?i:0},wo=e=>{var t,i;return null!==(i=null===(t=null==e?void 0:e.current)||void 0===t?void 0:t.clientWidth)&&void 0!==i?i:0},So=(e,t,i)=>{if(i<=0)return;const n=(t-e.scrollLeft)/i*10;setTimeout((function(){e.scrollTo({left:e.scrollLeft+n,behavior:"instant"}),e.scrollLeft!==t&&So(e,t,i-10)}),10)};var Po=i(75896);const To=(0,a.memo)((0,a.forwardRef)((({id:e,onClickPlaylistCard:t,hideMarginEnd:i},r)=>{const s=(0,c.Q)(),{name:l="",cover:d="",videoCount:u=0,creator:p}=(0,b.m7)((0,o.mp)(Q.y,{selector:t=>t[e],dependencies:[e]})),h=s("playlist_webapp_profileview_playlists_numbervid",{num:u,number:(0,b.BT)(u)}),{uniqueId:g}=(0,b.m7)(p),m=(0,a.useMemo)((()=>g&&e?_o.SN.videoPlaylist({uniqueId:g,content:l,id:e}):""),[g,l,e]),v=(0,a.useCallback)((e=>e.preventDefault()),[]),f=(0,Fn.xx)(l);return(0,n.jsx)(io,Object.assign({forceSSR:!1,to:m,onClick:v,style:{textDecoration:"none"},ref:r,hideMarginEnd:i},{children:(0,n.jsxs)(no,Object.assign({onClick:t({id:e,name:l,uniqueId:g})},{children:[(0,n.jsx)(oo,Object.assign({needBorder:!d},{children:d?(0,n.jsx)(ao,{src:d},void 0):(0,n.jsx)(Po.w,{size:28,color:"TextQuaternary"},void 0)}),void 0),(0,n.jsxs)(ro,{children:[(0,n.jsxs)(so,{children:[f,l]},void 0),(0,n.jsx)(lo,{children:h},void 0)]},void 0)]}),e)}),void 0)}))),Oo=(0,a.memo)((()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(to,{},void 0),(0,n.jsx)(to,{},void 0),(0,n.jsx)(to,{},void 0),(0,n.jsx)(to,{},void 0),(0,n.jsx)(to,{},void 0)]},void 0))),Uo=(0,a.memo)((({isSelf:e})=>{const t=(0,c.Q)(),i=(0,r.k6)(),{playlist:s=[],loading:u}=(0,o.mp)(J.c,{selector:e=>({playlist:e.playList,loading:e.loading}),dependencies:[]}),[h,g]=(0,a.useState)(""),[m,v]=(0,a.useState)(""),{language:f="en"}=(0,b.m7)((0,_.Lh)((()=>["language"]),[])),{rootRef:x}=(({mixId:e})=>{const[t,i]=(0,o.b7)(j.h,{selector:t=>{var i;return null!==(i=t[e])&&void 0!==i?i:{}},dependencies:[e]}),{loading:n=!1,hasMore:r=!0}=(0,b.m7)(t),{language:s}=(0,b.m7)((0,_.Lh)((()=>["language"]),[])),l=(0,a.useCallback)((()=>{!n&&r&&e&&i.getPlaylistVideoList({mixId:e,language:s})}),[r,i,s,n,e]);(0,Co.AS)(e,l);const d=(0,a.useRef)(null);return(0,ko.s)({onHitBottom:l,elemRef:d}),{rootRef:d}})({mixId:h}),[y,k]=(0,o.b7)(j.h,{selector:e=>{var t;return null!==(t=e[h])&&void 0!==t?t:{}},dependencies:[h]}),{videoCount:w}=(0,b.m7)((0,o.mp)(Q.y,{selector:e=>e[h],dependencies:[h]})),{loading:S=!1,hasMore:P=!0,list:T=[]}=(0,b.m7)(y),[O,U]=(0,a.useState)(!1),Z=(0,a.useCallback)((({id:t,name:n,uniqueId:o})=>()=>{if(C.I.handleClickPlaylistEntrance({playlist_id:t}),e){const e=t&&o&&n?_o.SN.videoPlaylist({id:t,uniqueId:o,content:n}):"";e&&i.push(e)}else U(!0),g(t),v(n)}),[i,e]),D=(0,a.useCallback)((()=>{U(!1)}),[]),{showBrowserMode:B,isBrowserModeShowing:F}=(0,a.useContext)(L._),[{itemListKey:M},{setItemListKey:q}]=(0,o.b7)(l.O,{selector:e=>({itemListKey:e.itemListKey}),dependencies:[]}),N=(0,a.useRef)(M);(0,a.useEffect)((()=>{!N.current&&M&&(N.current=M)}),[M]),(0,a.useEffect)((()=>{F||q(N.current)}),[F,q]);const A=(0,a.useMemo)((()=>({playlist_id:h,popup_type:"playlist"})),[h]),z=(0,a.useCallback)((e=>()=>{q(h),B({index:e,itemListKey:h,teaParams:A,playProgress:0,reportTeaParams:A})}),[h,q,B,A]),R=(0,a.useMemo)((()=>F?{display:"none"}:void 0),[F]),{listCardRef:V,listRef:W,showSwitchLeft:H,hideSwitchRight:Y,handleClickSwitchLeft:G,handleClickSwitchRight:$,handleScroll:K}=(()=>{const e=(0,a.useRef)(null),t=(0,a.useRef)(null),{isRTL:i}=(0,Pn.Y)(),[{playlist:n,hasMore:r},s]=(0,o.b7)(J.c,{selector:e=>{var t;return{playlist:null!==(t=e.playList)&&void 0!==t?t:[],hasMore:e.hasMore}},dependencies:[]}),l=n.length,[c,u]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),m=wo(e),v=e=>(m+16)*e,f=v(3),x=i?-1*f:f,{secUid:j="",uniqueId:_=""}=(0,o.mp)(I.t,{selector:e=>({secUid:e.secUid,uniqueId:e.uniqueId}),dependencies:[]}),{id:y}=(0,b.m7)((0,o.mp)(d.z,{selector:e=>{var t;return null===(t=e.users)||void 0===t?void 0:t[_]},dependencies:[_]})),C=(0,a.useCallback)((n=>{if((0,p.NS)(n),!t.current||!e.current)return;const o=Io(t),a=i?Math.min(o-x,0):Math.max(o-x,0);So(t.current,a,200)}),[i,x]),k=(0,a.useCallback)((i=>{if((0,p.NS)(i),!t.current||!e.current)return;const n=Io(t);So(t.current,n+x,200)}),[x]),w=l*m+16*(l-1),S=(0,Si.fB)((()=>{var e;if(!t.current)return;const i=Math.abs(Io(t)),n=(null===(e=null==t?void 0:t.current)||void 0===e?void 0:e.scrollWidth)-i-wo(t);w-i<=v(4)&&s.getVideoPlaylistData({secUid:j,uid:y}),g(!r&&n<5),u(0!==i)}),[l,m],200);return{listRef:t,listCardRef:e,showSwitchLeft:c,hideSwitchRight:h,handleClickSwitchLeft:C,handleClickSwitchRight:k,handleScroll:S}})();return(0,a.useEffect)((()=>{!S&&0===T.length&&P&&h&&k.getPlaylistVideoList({mixId:h,language:f})}),[P,k,f,T.length,h,S]),(0,n.jsxs)(Yn,{children:[(u||s.length>0)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Gn,{children:t("playlist_webapp_profileview_playlists")},void 0),(0,n.jsxs)($n,{children:[(0,n.jsxs)(Kn,Object.assign({ref:W,onScroll:K},{children:[s.map(((e,t)=>(0,n.jsx)(To,{id:e,onClickPlaylistCard:Z,ref:0===t?V:void 0,hideMarginEnd:t===s.length-1},e))),u&&(0,n.jsx)(Oo,{},void 0)]}),void 0),H&&(0,n.jsx)(Jn,Object.assign({onClick:G},{children:(0,n.jsx)(bo.d,{size:16},void 0)}),void 0),s.length>3&&!Y&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Qn,{},void 0),(0,n.jsx)(Xn,Object.assign({onClick:$},{children:(0,n.jsx)(jo.c,{size:16},void 0)}),void 0)]},void 0)]},void 0),(0,n.jsx)(Gn,{children:t("Videos")},void 0)]},void 0),(0,n.jsx)(En.u_,Object.assign({visible:O,containerStyle:R,maskCloseable:!0,onClose:D,zIndex:1e3,closeStyle:3},{children:(0,n.jsxs)(co,{children:[(0,n.jsxs)(uo,{children:[m,"Â (",w,")"]},void 0),(0,n.jsxs)(po,Object.assign({ref:x},{children:[T.map(((e,t)=>(0,n.jsx)(E.mo,{id:e,index:t,onClickVideoItem:z(t),extraTeaParams:A},e))),S&&(0,n.jsx)(yo.g,{size:48},void 0)]}),void 0)]},void 0)}),void 0)]},void 0)})),Lo=(0,me.Z)("div",{target:"e1jjp0pq0"})((({theme:{direction:e,colors:t}})=>[{position:"relative",display:"flex",flexDirection:"row",alignItems:"stretch",justifyContent:"stretch",width:"100%",height:"44px",marginBottom:"8px","::after":{position:"absolute",bottom:0,left:0,content:'""',width:"100%",height:"1px",backgroundColor:t.ShadowPrimary,transform:"scaleY(50%)"}},(0,fe.YJ)({direction:e})]),"label:DivVideoFeedTab;"),Zo=({theme:e,theme:{colors:t},active:i})=>[(0,fe.GI)({theme:e,fontFamily:"Sofia",fontWeight:"semiBold",typography:"P1"}),{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,height:"44px",padding:"0 32px",cursor:"pointer",textAlign:"center",color:i?t.Primary2:t.TextTertiary}],Eo=(0,me.Z)("p",{target:"e1jjp0pq1"})(Zo,"label:PPost;"),Do=(0,me.Z)("p",{target:"e1jjp0pq2"})(Zo,"label:PFavorite;"),Bo=(0,me.Z)("p",{target:"e1jjp0pq3"})(Zo,"label:PLike;"),Fo=(0,me.Z)("span",{target:"e1jjp0pq4"})((({theme:{direction:e}})=>(0,fe.YJ)({direction:e,marginStart:6})),"label:SpanLiked;"),Mo=(0,me.Z)("div",{target:"e1jjp0pq5"})((({theme:{colors:e,direction:t}})=>[{position:"absolute",height:"2px",background:e.TextPrimary,bottom:"0",transition:"transform .3s"},(0,fe.YJ)({direction:t,start:0})]),"label:DivBottomLine;");var qo=i(86048),No=i(38149),Ao=i(19959),zo=i(17198);const Ro=(0,a.memo)((function({detailInfo:e,listKey:t}){var i;const{user:r}=e,s=null!==(i=null==r?void 0:r.uniqueId)&&void 0!==i?i:"",l=(0,o.mp)(j.h,{selector:e=>{var i;return null!==(i=e[t])&&void 0!==i?i:j.n},dependencies:[t,s]}),{hasMore:d,list:u,statusCode:p,preloadList:h}=l,g=(0,De.xB)({user:r,listKey:t}),m=function({user:e,listKey:t}){const i=(0,c.Q)(),{relation:o,openFavorite:a,uniqueId:r="",privateAccount:s,secret:l,secUid:d}=(0,b.m7)(e),u=null!=s?s:l,p=(0,De.JW)({uniqueId:r,secUid:d});return 4===o?{title:i("profile_no_content_title"),desc:i("profile_others_blocked_post_body"),icon:(0,n.jsx)(Le.Z,Object.assign({},f.vj),void 0)}:5===o?{title:i("profile_no_content_title"),desc:i("profile_others_block_post_body"),icon:(0,n.jsx)(Le.Z,Object.assign({},f.vj),void 0)}:u&&!p&&1!==o&&2!==o?{title:i("This account is private"),desc:i("profile_others_private_body"),icon:(0,n.jsx)(Le.Z,Object.assign({},f.vj),void 0)}:"user-liked"!==t||a||p?null:{title:i("profile_others_like_private_title"),desc:i("profile_others_like_private_body").replace("%s",r),icon:(0,n.jsx)("div",Object.assign({"data-e2e":"like-lock-icon",style:{display:"flex"}},{children:(0,n.jsx)(ze.Z,Object.assign({},f.vj),void 0)}),void 0),isLikePrivate:!0}}({user:r,listKey:t});if((0,qo.s)(null!=h?h:[]),(0,a.useEffect)((()=>{!m&&0===p&&0===u.length&&d&&(null==r?void 0:r.secUid)&&g()}),[d,u.length,g,m,p,null==r?void 0:r.secUid]),m){const{title:e,desc:t,icon:i,isLikePrivate:o}=m;let a="",r="";return o&&(a="like-title",r="like-desc"),(0,n.jsx)(No.T,{isFullScreen:!0,title:e,desc:t,iconElem:i,e2eTitle:a,e2eDesc:r},void 0)}return(0,n.jsx)(v.LX,{Error:qe,Empty:Ne,List:Wo,Skeleton:Vo,detailInfo:e,listInfo:l,listKey:t},void 0)}));function Vo(){return(0,n.jsx)(Ao.I,{cardWidth:"196px",cardHeight:"260px",radius:"2px",gap:"2px"},void 0)}const Wo=(0,a.memo)((function({detailInfo:e,listInfo:t,listKey:i}){const{list:o,loading:r,hasMore:s}=t,{user:l}=e,d=(0,De.xB)({user:l,listKey:i}),{isGoogleBot:c}=(0,b.m7)((0,tt.h)((()=>["isGoogleBot"]),[])),u=(0,a.useCallback)((()=>{!r&&s&&0!==o.length&&d()}),[s,d,r,o.length]);(0,Co.AS)(i,u);const p=(0,a.useMemo)((()=>({tab_name:"favorites"===i?"favourite_video":void 0})),[i]);return(0,n.jsx)(zo.X,{pageType:1,itemList:o,itemListKey:i,loading:r,onHitBottom:u,ssrLimit:16,ssrLimitDisable:c,teaParams:p},void 0)})),Ho=(0,a.memo)((function({detailInfo:e}){const{isRTL:t}=(0,Pn.Y)(),{isFavoriteV1:i}=(0,Tn.iS)(),s=(0,c.Q)(),{user:d}=(0,b.m7)(e),{secUid:p="",openFavorite:h,profileTab:g,canExpPlaylist:m=!1,privateAccount:v=!1}=(0,b.m7)(d),{uniqueId:x}=(0,r.UO)(),{showPlayListTab:_=!1}=(0,b.m7)(g),y=(0,De.JW)({secUid:p,uniqueId:x}),{state:{isJumpToFavorite:C=!1}={}}=(0,r.TH)(),k=(0,a.useRef)(null),I=(0,a.useRef)(null),w=(0,a.useRef)(null),S=(0,a.useRef)(x),P=(0,a.useRef)(C),[T,O]=(0,a.useState)("user-post"),[U,L]=(0,a.useState)({left:0,width:0}),Z=(0,o.qj)(j.h),E=(0,et.fz)(On.KF),D=(0,a.useMemo)((()=>({"user-post":k,favorites:I,"user-liked":w})),[]);(0,a.useEffect)((()=>{var e,t;S.current!==x&&(O("user-post"),L({left:0,width:null!==(t=null===(e=k.current)||void 0===e?void 0:e.offsetWidth)&&void 0!==t?t:0}),Z.setLoading({key:"user-liked",loading:!1}),S.current=x)}),[Z,x]);const B=(0,o.qj)(l.O);(0,a.useEffect)((()=>{B.setItemListKey(T)}),[B,T]),(0,a.useEffect)((()=>{var e,t;L({left:0,width:null!==(t=null===(e=k.current)||void 0===e?void 0:e.offsetWidth)&&void 0!==t?t:0})}),[]);const F=(0,a.useCallback)((e=>{const{offsetWidth:i}=(0,b.m7)(e.parentNode),{offsetLeft:n,offsetWidth:o}=e;return t?n+o-i:n}),[t]),M=(0,a.useCallback)((e=>t=>{if(T===e)return;"favorites"!==e||P.current||Un.d.handleEnterFavourite("click_favourite_tab"),Z.dispose$(),Z.setLoading({key:T,loading:!1}),B.setItemListKey(e);const i=F(t.currentTarget),n=t.currentTarget.offsetWidth;L({left:i,width:n}),O(e),E.handleUserChangeVideoOrPlayMode()}),[T,Z,B,F,E]),q=(0,a.useCallback)((e=>{const t=F(e.currentTarget),i=e.currentTarget.offsetWidth;L({left:t,width:i})}),[F]),N=(0,a.useCallback)((()=>{var e;const t=F(D[T].current);L({left:t,width:null===(e=D[T].current)||void 0===e?void 0:e.offsetWidth})}),[F,T,D]);(0,a.useEffect)((()=>{P.current=C}),[C]),(0,a.useEffect)((()=>{if(P.current){M("favorites")({currentTarget:D.favorites.current}),P.current=!1;const e=Object.assign(Object.assign({},window.history.state),{state:{isJumpToFavorite:!1}});window.history.replaceState(e,document.title)}}),[M,D,C]);const A=(0,u.Sf)("pc_video_playlist"),z=!(v&&!y)&&_,R=y&&m;return(0,n.jsxs)(f.j$,{children:[(0,n.jsxs)(Lo,Object.assign({onMouseLeave:N},{children:[(0,n.jsx)(Eo,Object.assign({active:"user-post"===T,ref:k,"data-e2e":"videos-tab",onMouseEnter:q,onClickCapture:M("user-post")},{children:(0,n.jsx)("span",{children:s("Videos")},void 0)}),void 0),(0,n.jsxs)(Do,Object.assign({active:"favorites"===T,onMouseEnter:q,onClickCapture:M("favorites"),style:{display:y&&!i?void 0:"none"},ref:I},{children:[(0,n.jsx)(Sn.Z,{style:{transform:"translateY(2px)"}},void 0),(0,n.jsx)(Fo,{children:s("sortbyvv_profile_tab_text_favorites")},void 0)]}),void 0),(0,n.jsxs)(Bo,Object.assign({active:"user-liked"===T,ref:w,"data-e2e":"liked-tab",onMouseEnter:q,onClickCapture:M("user-liked")},{children:[!h&&(0,n.jsx)(Sn.Z,{style:{transform:"translateY(2px)"}},void 0),(0,n.jsx)(Fo,{children:s("liked")},void 0)]}),void 0),(0,n.jsx)(Mo,{style:{transform:`translateX(${U.left}px)`,width:U.width}},void 0)]}),void 0),A&&"user-post"===T&&(0,n.jsxs)(n.Fragment,{children:[R&&(0,n.jsx)(xo,{showPlaylistCards:z},void 0),z&&(0,n.jsx)(Uo,{isSelf:y},void 0)]},void 0),(0,n.jsx)(Ro,{detailInfo:e,listKey:T},void 0)]},void 0)})),Yo=[0,10222],Go=(0,v.Pn)("user-post")((0,s.Z)("others_homepage")((function({containerID:e,tabIndex:t}){const{jumpSamePageTime:i}=(0,o.mp)(l.O),[{uniqueId:s,statusCode:x=0,profileState:b},j]=(0,o.b7)(I.t),_=(0,o.mp)(d.z,{selector:e=>{var t;const i=e.users[null!=s?s:""];return"number"!=typeof(null===(t=null==i?void 0:i.extraInfo)||void 0===t?void 0:t.statusCode)?{statusCode:x}:{statusCode:x,user:i,stats:e.stats[null!=s?s:""]}},dependencies:[x,s]}),y=(0,c.Q)(),{uniqueId:C}=(0,r.UO)(),k=C.toLowerCase(),w=(0,De.JW)({uniqueId:k,secUid:C}),S=(0,a.useMemo)((()=>w?"personal_homepage":"others_homepage"),[w]);(0,m.a)(S,i);const P=(0,De.bT)(),T=(0,u.Sf)("pc_video_playlist");return(0,a.useEffect)((()=>{j.getUserInfo(Object.assign(Object.assign({},P),{isVideoPlaylistOn:T}))}),[T,j,P]),(0,a.useEffect)((()=>{const e=(0,p.St)(h.b7);if(e){let t=y("editprofile_toast");e===String("1")&&(t=y("blue_v_change_name_toast_request_submitted").replace("%d",Te)),g.h.open({content:t,duration:2}),(0,p.lD)(h.b7)}}),[y]),(0,a.useEffect)((()=>j.resetUserPage),[j,C]),!T||"create_playlist"!==b&&"create_playlist_ready"!==b?(0,n.jsx)(f.Ae,Object.assign({"data-e2e":"user-page",id:e,tabIndex:t},{children:(0,n.jsx)(v.sR,{id:null!=s?s:"",detailInfo:_,successStatusCodeList:Yo,List:Ho,Header:wn,Error:Me},void 0)}),void 0):(0,n.jsx)(ae,{},void 0)}))),$o=Go}}]);