"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6978],{81126:(e,t,i)=>{i(77173);var o=i(11362),n=i(60998),a=i(90293),s=i(11467),r=i(51917),l=i(2844),c=i(97751),d=i(1668),u=i(11477),p=i(22597),m=i(28188),h=i(16594),v=i(19571),f=i(95872);const g="__prefetch_item_list",_=n.n.getInstance(s.n),b=e=>{var t,i,o;const n=(0,a.parse)(location.search),s=(0,h.s)(e.language);let l,u=!1;try{const e=null!==(t=window.localStorage.getItem(g))&&void 0!==t?t:"{}",a=JSON.parse(e),r=null!==(i=null==a?void 0:a.query)&&void 0!==i?i:{};if(n.item_id===r.insertedItemID&&s===r.language){const e=a.res;let t=null===(o=e.itemList)||void 0===o?void 0:o.filter((e=>{var t;const i=null===(t=e.video)||void 0===t?void 0:t.cover,o=/x-expires=(\d+)/.exec(i);return o&&Date.now()<1e3*Number(o[1])}));if(null==t?void 0:t.length){let i=!1;Object.defineProperty(e,"itemList",{get(){if(!i&&(i=!0,!u))try{window.localStorage.setItem(g,JSON.stringify({res:Object.assign(Object.assign({},e),{itemList:null==t?void 0:t.slice(1)}),query:r}))}catch(e){}return t},set(e){t=e},enumerable:!0,configurable:!0}),l=e}}}catch(e){}var p;p=Boolean(l),f.W.event("data_prefetch_fyp_feed_hit",{hit:p?1:0}),_.context({use_data_prefetched:l?1:0});const m={language:s,insertedItemID:n.item_id,aid:c.CO,count:6},v=()=>{return e=void 0,t=void 0,o=function*(){var e,t,i,o,n;const a=yield d.h.get("/api/recommend/item_list/",{query:Object.assign(Object.assign({},m),{csr_prefetch:1}),baseUrlType:2});a.itemList=null===(e=a.itemList)||void 0===e?void 0:e.filter((e=>!(e=>!!(0,r.c9)(e))(e)));try{window.localStorage.setItem(g,JSON.stringify({res:a,query:m})),u=!0,_.emitEvent("data_prefetch_fyp_success",{count:1},{hit:l?"1":"0"});const e=null===(n=null===(o=null===(i=null===(t=a.itemList)||void 0===t?void 0:t[0])||void 0===i?void 0:i.video)||void 0===o?void 0:o.zoomCover)||void 0===n?void 0:n[720];if(e){const t=document.createElement("link");t.rel="prefetch",t.href=e,document.head.appendChild(t)}}catch(e){}},new((i=void 0)||(i=Promise))((function(n,a){function s(e){try{l(o.next(e))}catch(e){a(e)}}function r(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,r)}l((o=o.apply(e,t||[])).next())}));var e,t,i,o};l?(window.__preload_item_list=Promise.resolve(l),v()):window.__preload_item_list=d.h.get("/api/recommend/item_list/",{query:Object.assign(Object.assign({},m),{csr_preload:1}),baseUrlType:2}).then((e=>(v(),e)))};try{const e=(()=>{let e=(0,v.bX)(m.Hx);if(!e)try{const t=document.getElementById("__$_CONTEXT__");t&&(e=JSON.parse(t.innerHTML),(0,v.JT)(m.Hx,e))}catch(e){}return e})(),t=(()=>{var e;let t;const i=null===(e=document.getElementById(o.ho))||void 0===e?void 0:e.textContent;if(i)try{t=JSON.parse(i)}catch(e){}let a=null==t?void 0:t.BizContext.bizContext;if(!a)try{const e=document.getElementById("__$_B_CONTEXT__");if(e){a=JSON.parse(e.innerHTML);const t=n.n.getInstance(l.r);t.store.dispatch(t.getActions().setBizContext(Object.assign({statusCode:0},a))),t.store.dispatch(t.getActions().setInitialized(!0))}}catch(e){}return a})();e&&t&&(_.sendCustomPerfMetric("js_preload"),(0,u.ui)()&&b(e),(0,u.yw)()&&(0,p.cQ)(location.pathname)&&(e=>{const t=/\/(\d+)$/.exec(location.pathname);if(!t)return;const[i,o]=t,n=(0,h.s)(e.language);window.__preload_item_detail=d.h.get("/api/item/detail/",{query:{aid:c.CO,itemId:o,language:n,csr_preload:1},baseUrlType:2})})(e))}catch(e){}},58099:(e,t,i)=>{i.d(t,{Vh:()=>p,Jc:()=>u});var o,n,a=i(22612),s=i.n(a),r=i(3890),l=i(24021);!function(e){e.video="video",e.user="user",e.music="music",e.challenge="challenge",e.home="home",e.foryouWithLang="foryouWithLang",e.foryou="foryou",e.following="following",e.topics="topics",e.expansion="expansion",e.profile="profile",e.searchHome="searchHome",e.searchUser="searchUser",e.searchVideo="searchVideo",e.discover="discover",e.discovery="discovery",e.channel="channel",e.feedback="feedback",e.feedbackHistory="feedbackHistory",e.feedbackReport="feedbackReport",e.messages="messages",e.inbox="inbox",e.explore="explore",e.report="report",e.reportInbox="reportInbox",e.setting="setting"}(o||(o={})),(0,l.o)({video:"/@:uniqueId(.*)/video/:id",user:"/@:uniqueId",music:"/music/:title(.*)-:id",challenge:"/tag/:name",home:"/",foryouWithLang:["/ar","/bn-IN","/ceb-PH","/cs-CZ","/de-DE","/el-GR","/en","/es","/fi-FI","/fil-PH","/fr","/he-IL","/hi-IN","/hu-HU","/id-ID","/it-IT","/ja-JP","/jv-ID","/km-KH","/ko-KR","/ms-MY","/my-MM","/nl-NL","/pl-PL","/pt-BR","/ro-RO","/ru-RU","/sv-SE","/th-TH","/tr-TR","/uk-UA","/ur","/vi-VN","/zh-Hans","/zh-Hant-TW"],foryou:"/foryou",following:"/following",topics:"/topics/:name",expansion:"/discover/:name",profile:"/profile",searchHome:"/search",searchUser:"/search/user",searchVideo:"/search/video",discover:"/discover",discovery:"/discovery/:name",channel:"/channel/:name",feedback:"/feedback",feedbackHistory:"/feedback/history",feedbackReport:"/feedback/report",messages:"/messages",inbox:"/inbox",explore:"/explore",report:"/report/:type",reportInbox:"/report/inbox",setting:"/setting"}),function(e){e.video="video",e.user="user",e.music="music",e.challenge="challenge",e.home="home",e.foryouWithLang="foryouWithLang",e.foryou="foryou",e.following="following",e.topics="topics",e.expansion="expansion",e.profile="profile",e.searchHome="searchHome",e.searchUser="searchUser",e.searchVideo="searchVideo",e.discover="discover",e.discovery="discovery",e.channel="channel",e.feedback="feedback",e.feedbackHistory="feedbackHistory",e.feedbackReport="feedbackReport",e.messages="messages",e.inbox="inbox",e.explore="explore",e.report="report",e.reportInbox="reportInbox",e.setting="setting"}(n||(n={}));const c={video:"/@:uniqueId(.*)/video/:id",user:"/@:uniqueId",music:"/music/:title(.*)-:id",challenge:"/tag/:name",home:"/",foryouWithLang:["/ar","/bn-IN","/ceb-PH","/cs-CZ","/de-DE","/el-GR","/en","/es","/fi-FI","/fil-PH","/fr","/he-IL","/hi-IN","/hu-HU","/id-ID","/it-IT","/ja-JP","/jv-ID","/km-KH","/ko-KR","/ms-MY","/my-MM","/nl-NL","/pl-PL","/pt-BR","/ro-RO","/ru-RU","/sv-SE","/th-TH","/tr-TR","/uk-UA","/ur","/vi-VN","/zh-Hans","/zh-Hant-TW"],foryou:"/foryou",following:"/following",topics:"/topics/:name",expansion:"/discover/:name",profile:"/profile",searchHome:"/search",searchUser:"/search/user",searchVideo:"/search/video",discover:"/discover",discovery:"/discovery/:name",channel:"/channel/:name",feedback:"/feedback",feedbackHistory:"/feedback/history",feedbackReport:"/feedback/report",messages:"/messages",inbox:"/inbox",explore:"/explore",report:"/report/:type",reportInbox:"/report/inbox",setting:"/setting"};(0,r.t)(c),(0,l.o)(c);var d=i(33693);const u=["/en","/ar","/de-DE","/es","/fi-FI","/fr","/id-ID","/ja-JP","/ko-KR","/ms-MY","/ru-RU","/th-TH","/tr-TR","/vi-VN","/zh-Hans","/zh-Hant-TW","/he-IL","/jv-ID","/ceb-PH","/cs-CZ","/it-IT","/hu-HU","/nl-NL","/pl-PL","/pt-BR","/ro-RO","/sv-SE","/fil-PH","/el-GR","/uk-UA","/ur","/hi-IN","/bn-IN","/my-MM","/km-KH"],p=[d.nT.home,d.nT.foryou,...u],m=[c.expansion,c.report,c.reportInbox];var h;s()(Object.values(c)).filter((e=>!m.includes(e))),function(e){e.Video="video",e.User="user",e.Challenge="hashtag",e.Trending="fyp",e.Live="live",e.Message="message",e.Setting="setting",e.Music="music",e.SearchResults="search",e.Discover="discover",e.Following="following",e.Topics="topics",e.Profile="profile",e.Expansion="expansion",e.Inbox="inbox",e.Report="report",e.Feedback="feedback"}(h||(h={}))},95304:(e,t,i)=>{i.d(t,{Bi:()=>r});var o=i(90293),n=i(28188),a=i(19571);let s;function r(e){const t=(0,a.bX)(n.Hx);return t?Promise.resolve(t):s||(s=fetch((0,o.stringifyUrl)({url:"/node-webapp/api/common-app-context",query:{lang:e}})).then((e=>e.json())),s)}},22240:(e,t,i)=>{i.d(t,{L:()=>o});const o=i(91051).useLayoutEffect},22597:(e,t,i)=>{i.d(t,{Hg:()=>s,oC:()=>r,Xq:()=>l,Io:()=>c,FZ:()=>d,cQ:()=>u,TO:()=>p,ws:()=>m,Dj:()=>h,Qu:()=>v,bf:()=>f,BL:()=>g,TX:()=>_,Gc:()=>b,at:()=>w,jb:()=>y,$4:()=>k,u7:()=>x,ll:()=>L,I8:()=>P,Ho:()=>C,wy:()=>E,T7:()=>T,PX:()=>S,Gk:()=>I,dD:()=>O,O2:()=>N,C2:()=>V});var o=i(21041),n=i(33693),a=i(58099);function s(e){const t=e.replace(/\/$/,"");return e===n.nT.home||a.Jc.includes(t)}function r(e){return e.replace(/\/$/,"")===n.nT.foryou||s(e)}function l(e){if(r(e))return"fyp";if(e.match("/following"))return"following";if(e.match("/setting"))return"setting";if(e.match("/search"))return"search";if(e.match("/message"))return"message";if(e.match("/video"))return"video";if(e.match("/@"))return"user";if(e.match("/report"))return"report";if(e.match("/music"))return"music";if(e.match("/tag"))return"hashtag";if(e.match(/\/discover\/.+/))return"expansion";if(e.match("/discover"))return"discover";if(e.match("/live"))return"live";if(c(e)){const t=(0,o.LX)(e,{path:n.nT.topics,exact:!0});return`topics_${null==t?void 0:t.params.name}`}return e.match("/profile")?"profile":e.match("/inbox")?"inbox":e.match("/feedback")?"feedback":""}function c(e){return Boolean((0,o.LX)(e,{path:n.nT.topics,exact:!0}))}function d(e){return e===n.nT.following}function u(e){return/^\/@[^/]*\/video\/\d+/.test(e)}function p(e){return/^\/@.+\/playlist\/.+/.test(e)}function m(e){return/^\/music\/.+/.test(e)}function h(e){return/^\/tag\/.+/.test(e)}function v(e){return/^\/@.*\/collection\/.+/.test(e)}function f(e){return!/^\/@.+\/live/.test(e)&&!/^\/@.*\/video\/\d+/.test(e)&&/^\/@.+/.test(e)&&!/^\/@.*\/collection\/.+/.test(e)}function g(e){return/^\/discover\/.+/.test(e)||/^\/discovery\/.+/.test(e)}function _(e){return e===n.nT.searchHome}function b(e){return e===n.nT.searchUser}function w(e){return e===n.nT.searchVideo}function y(e){return e===n.nT.searchLive}function k(e){return e===n.nT.searchReminder}function x(e){return/^\/question\/.+/.test(e)}function L(e){return/^\/messages/.test(e)}function P(e){return Boolean((0,o.LX)(e,{path:n.nT.discover,exact:!0}))}function C(e){return Boolean((0,o.LX)(e,{path:n.nT.explore,exact:!0}))}function E(e){return/^\/place\/.+/.test(e)}function T(e){var t;return(null===(t=(0,n.OJ)(e))||void 0===t?void 0:t.name)===n.Ur.channel}function S(e){var t;return(null===(t=(0,n.OJ)(e))||void 0===t?void 0:t.name)===n.Ur.videoPlaylist}function I(e){return e.startsWith("/404")}function O(e){return e.startsWith("/feedback")}function N(e){return e.startsWith(n.nT.setting)}const R={5:r,11:d,0:u,4:m,3:h,121:v,1:f,106:b,107:w,123:y,105:_,16:x,113:c,13:L,103:P,104:g};function V(e){var t;return null!==(t=Object.keys(R).find((t=>R[t](e))))&&void 0!==t?t:5}},1668:(e,t,i)=>{i.d(t,{h:()=>I});var o=i(64047),n=i(60998),a=i(67929),s=i.n(a),r=i(59245),l=i.n(r),c=i(90293),d=i(77966),u=i(72679),p=i(11467),m=i(74199),h=i(95304),v=i(22597),f=i(45949),g=i(73078),_=i(16594),b=i(18791),w=i(71024);class y{constructor(){this.initialized=!1}load(){if(this.initialized)return Promise.resolve();if(this.promise)return this.promise;const{promise:e,cleanup:t}=function(){let e;return{promise:new Promise((t=>{e=window.setTimeout((()=>{t(null)}),1e4)})),cleanup:()=>{clearTimeout(e)}}}();return this.promise=Promise.race([e.then((()=>{this.promise=void 0})),this.loadSDK()]).then((()=>{t()})).catch((()=>{t(),this.promise=void 0})),this.promise}getAppContext(){return(0,o.__awaiter)(this,void 0,void 0,(function*(){return this.appContext?this.appContext:(0,h.Bi)((0,_.G3)()).then((e=>(0===e.statusCode&&(this.appContext=e),e)))}))}}const k={sdks:[new class extends y{loadSDK(){return Promise.all([this.getAppContext(),b.Q8.get({moduleId:"acrawler"})]).then((([e])=>{var t;if(this.initialized)return;this.initialized=!0;const{appId:i,user:o,clusterRegion:n}=e,a=1233===i;let s=a?"va-tiktok":"sg-tiktok";s="TTP"===n?"ttp":s,window.byted_acrawler.init({aid:1988,dfp:!1,boe:!1,intercept:!0,enablePathList:w.rJ,region:s,mode:(0,b.M1)({isVA:a,isLogin:Boolean(o),isFTC:null!==(t=null==o?void 0:o.ftcUser)&&void 0!==t&&t,isHighRisk:!1}),isSDK:!1})}))}},new class extends y{loadSDK(){return this.getAppContext().then((e=>{const{clusterRegion:t}=e;let i="secsdk_sg";switch(t){case"MALI_VA":i="secsdk_va";break;case"TTP":i="secsdk_ttp";break;default:i="secsdk_sg"}return b.qF.get({moduleId:i})})).then((()=>{this.initialized||(this.initialized=!0,window.secsdk.csrf.setProtectedHost(w.Yf))}))}}],load:()=>Promise.all(k.sdks.map((e=>e.load()))),get loaded(){return this.sdks.reduce(((e,{initialized:t})=>e&&t),!0)}};var x=i(88701);const L="webapp-session-referer",P="content-type",C=["application/pdf"],E={m:"va",t:"sg",us:"ttp",boe:"boe"},T="bdturing-verify",S=(0,u.N)(),I=new class{constructor(){this.verify=new x.Z,this.slardar=n.n.getInstance(p.n),this.isPageVisible=!0,this.isFocus=!0,this.handleSDK=e=>(0,o.__awaiter)(this,void 0,void 0,(function*(){const{url:t,method:i}=e;return t.startsWith("/")&&!t.startsWith("//")&&"GET"===i&&!w.rJ.some((e=>Boolean(t.match(new RegExp(e)))))||k.loaded||(yield k.load()),e})),this.handleAppContext=e=>(0,o.__awaiter)(this,void 0,void 0,(function*(){return this.appContext||(this.appContext=yield(0,h.Bi)()),e})),this.handleBizContext=e=>(0,o.__awaiter)(this,void 0,void 0,(function*(){return this.bizContext||e.ignoreBizContext||(this.bizContext=yield(0,m.$)()),l()(e,"ignoreBizContext")})),this.handleQuery=e=>{var t,i,o,n,a,s,r;const l=this.getRiskParams(null!==(t=e.riskParamsType)&&void 0!==t?t:0);let c;(null===(o=null===(i=this.bizContext)||void 0===i?void 0:i.liveCommonConfig)||void 0===o?void 0:o.regionEntry)&&[4,5,9].includes(null!==(n=e.baseUrlType)&&void 0!==n?n:0)&&(c={channel:"local_test",carrier_region:null!==(a=localStorage.getItem("LIVE_OFFICE_REGION"))&&void 0!==a?a:"TW"});const d={};if(null===(s=this.bizContext)||void 0===s?void 0:s.canUseQuery){const e=new URLSearchParams(window.location.search);d.device_id=null!==(r=e.get("device_id"))&&void 0!==r?r:void 0}const u=function(){var e,t;try{const i=JSON.parse(null!==(t=null===(e=window.document.getElementById("__SCHEDULE_INFO__"))||void 0===e?void 0:e.textContent)&&void 0!==t?t:"{}");if(i.to)return i}catch(e){console.warn(e)}return{from:"",to:"",dispatchParams:{}}}(),p=u.to?u.dispatchParams:{};return e.query=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},l),e.query),c),p),d),e},this.handleURL=e=>{var t;let{url:i}=e;const o=null!==(t=e.query)&&void 0!==t?t:{};return i.startsWith("http:")||i.startsWith("https:")||(i=`${function(e=0){var t,i,o,n,a,s,r,l;switch(e){case 9:{let e="https://webcast.tiktok.com";return"us"===S.kind&&(e="https://webcast.us.tiktok.com"),e}case 1:return null!==(t=S.aweme)&&void 0!==t?t:"https://api.tiktok.com";case 2:return null!==(i=S.rootApi)&&void 0!==i?i:"https://www.tiktok.com";case 3:return null!==(o=S.mTApi)&&void 0!==o?o:"";case 6:return null!==(n=S.rootApi)&&void 0!==n?n:"";case 4:return null!==(a=S.webcastRootApi)&&void 0!==a?a:"https://webcast.tiktok.com";case 5:return null!==(s=S.webcastApi)&&void 0!==s?s:"";case 0:return null!==(r=S.rootApi)&&void 0!==r?r:"";case 8:return null!==(l=S.rootApi)&&void 0!==l?l:"";case 10:return"https://now.tiktok.com";case 11:return"https://t.tiktok.com";default:return""}}(e.baseUrlType)}${i}`),i=(0,c.stringifyUrl)({url:i,query:o}),e.url=i,e},"undefined"!=typeof window&&((0,f.Y8)(this.handleVisibilityChange.bind(this,!1),this.handleVisibilityChange.bind(this,!0)),this.bindFocusChange())}init(e){return(0,o.__awaiter)(this,void 0,void 0,(function*(){const t=yield(0,h.Bi)(e);this.appContext=t}))}get csrfToken(){var e,t;return this.appContext,null!==(t=null===(e=this.appContext)||void 0===e?void 0:e.csrfToken)&&void 0!==t?t:""}get(e,t){return this.runFetch(e,Object.assign(Object.assign({},t),{method:"GET"}))}post(e,t={}){var{omitContentType:i=!1}=t,n=(0,o.__rest)(t,["omitContentType"]);const a=new Headers(n.headers);return a.get(P)||i||a.set(P,"application/x-www-form-urlencoded"),n.body||(n.body=""),n.headers=a,this.runFetch(e,Object.assign(Object.assign({},n),{method:"POST"}))}runFetch(e,t){var{credentials:i="include"}=t,n=(0,o.__rest)(t,["credentials"]);return(0,o.__awaiter)(this,void 0,void 0,(function*(){let t=Object.assign({url:e,credentials:i},n);t=yield Promise.all([this.handleSDK(t),this.handleAppContext(t),this.handleBizContext(t)]).then((([,,e])=>this.handleQuery(e))).then((e=>this.handleURL(e)));const{url:a}=t,r=(0,o.__rest)(t,["url"]),c=l()(s()(r,{credentials:i}),"query","riskParamsType","baseUrlType");return this.fetchData(a,c)}))}fetchData(e,t){var i,n,a,s,r;return(0,o.__awaiter)(this,void 0,void 0,(function*(){-1!==e.indexOf("csr_preload")&&this.slardar.sendCustomPerfMetric("js_fetch_preload_start");const o=yield window.fetch.call(null,e,t);if(-1!==e.indexOf("csr_preload")&&this.slardar.sendCustomPerfMetric("js_fetch_preload_done"),o.status>=400)return Promise.reject(o);{const l=o.headers.get(P);if(null==l?void 0:l.includes("application/json")){const r=o.headers.has(T)?JSON.parse(null!==(i=o.headers.get(T))&&void 0!==i?i:"{}"):yield o.json(),l=this.getVerifyJson(r,e),c="TTP"===(null===(n=this.appContext)||void 0===n?void 0:n.clusterRegion),d=yield this.verify.checkVerify(l,null!==(s=null===(a=this.appContext)||void 0===a?void 0:a.wid)&&void 0!==s?s:"0",null!=c&&c,S.captcha);return 0===d?r:2===d?this.fetchData(e,t):{statusCode:-1}}return(null===(r=o.headers.get(P))||void 0===r?void 0:r.includes("text/"))?o.text():-1!==C.indexOf(String(l))?o.blob():(null==l?void 0:l.includes("application/x-protobuf"))?o.arrayBuffer():o.text()}}))}getVerifyJson(e,t){var i;const o=e.status_code||e.code,n=3058===o,a=3059===o,s=E[null!==(i=S.kind)&&void 0!==i?i:""];return t.includes("/api/update/profile/")&&(n||a)?{code:"10000",from:"shark_admin",type:"verify",version:1,region:s,subtype:n?"slide":"text",verify_event:"",detail:{},fp:-1}:e}getRiskParams(e){if(!this.appContext)return{};if(2===e)return{};if((0,f.St)(L)||(0,f.D9)(L,document.referrer),1===e)return Object.assign(Object.assign({},(0,g.$)()),{from_page:(0,v.Xq)(location.pathname)});const t={};"ageVerify"===(0,f.St)("enter_method")&&(t.security_verification_aid="1459");const i=navigator.userAgent;return Object.assign(Object.assign(Object.assign({},(0,g.K)(Object.assign(Object.assign({},this.appContext),{isMobile:(0,d.W7)(i),os:(0,d.Ij)(i)}),this.isPageVisible,this.isFocus)),{from_page:(0,v.Xq)(location.pathname)}),t)}handleVisibilityChange(e){this.isPageVisible=e}bindFocusChange(){const e=()=>{this.isFocus=!0},t=()=>{this.isFocus=!1};return window.addEventListener("focus",e),window.addEventListener("blur",t),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",t)}}}},70526:(e,t,i)=>{i.d(t,{eD:()=>m,zv:()=>h,GV:()=>v});var o=i(64047),n=i(57244),a=i(37729),s=i(72679),r=i(22597),l=i(45949),c=i(73078);const d="webapp-session-referer";var u,p;!function(e){e[e.Default=0]="Default",e[e.Simple=1]="Simple",e[e.None=2]="None"}(u||(u={})),function(e){e[e.None=0]="None",e[e.AWEME=1]="AWEME",e[e.FixedWww=2]="FixedWww",e[e.AutoMOrT=3]="AutoMOrT",e[e.Webcast=4]="Webcast",e[e.AutoWebcastMOrT=5]="AutoWebcastMOrT",e[e.AWEMEV1=6]="AWEMEV1",e[e.CommentTest=8]="CommentTest",e[e.WebcastT=9]="WebcastT",e[e.Now=10]="Now",e[e.Alligator=11]="Alligator"}(p||(p={}));const m="tt-csrf-token",h={FORM_ENCODE:"application/x-www-form-urlencoded; charset=UTF-8"};let v=class{constructor(){this.appContext$=new a.t(1),this.bizContext$=new a.t(1),this.appLanguage="en",this.isPageVisible=!0,this.isFocus=!0}setContext(e,t){this.appContext||this.bizContext||(this.appContext$.next(e),this.appContext=e,this.bizContext$.next(t),this.bizContext=t,(0,l.Y8)(this.handleVisibilityChange.bind(this,!1),this.handleVisibilityChange.bind(this,!0)),this.bindFocusChange())}getBaseUrl(e=0){var t,i,o,n,a,r,l,c;const d=(0,s.N)();switch(e){case 9:{let e="https://webcast.tiktok.com";return"us"===d.kind&&(e="https://webcast.us.tiktok.com"),e}case 1:return null!==(t=d.aweme)&&void 0!==t?t:"https://api.tiktok.com";case 2:return null!==(i=d.rootApi)&&void 0!==i?i:"https://www.tiktok.com";case 3:return null!==(o=d.mTApi)&&void 0!==o?o:"";case 6:return null!==(n=d.rootApi)&&void 0!==n?n:"";case 4:return null!==(a=d.webcastRootApi)&&void 0!==a?a:"https://webcast.tiktok.com";case 5:return null!==(r=d.webcastApi)&&void 0!==r?r:"";case 0:return null!==(l=d.rootApi)&&void 0!==l?l:"";case 8:return null!==(c=d.rootApi)&&void 0!==c?c:"";case 10:return"https://now.tiktok.com";case 11:return"https://t.tiktok.com"}}addExtraQueryByUrlType(e=0){var t,i,o;return(null===(i=null===(t=this.bizContext)||void 0===t?void 0:t.liveCommonConfig)||void 0===i?void 0:i.regionEntry)&&[4,5,9].includes(e)?{channel:"local_test",carrier_region:null!==(o=localStorage.getItem("LIVE_OFFICE_REGION"))&&void 0!==o?o:"TW"}:{}}getRiskParams(e,t=!1){return(0,o.__awaiter)(this,void 0,void 0,(function*(){if(!this.appContext)return{};if(2===e)return{};(0,l.St)(d)||(0,l.D9)(d,document.referrer);const i=1===e;let o=null;if(!t&&navigator.getBattery&&(o=(yield navigator.getBattery()).level),i)return Object.assign(Object.assign({},(0,c.$)()),{from_page:(0,r.Xq)(location.pathname)});const n={};return"ageVerify"===(0,l.St)("enter_method")&&(n.security_verification_aid="1459"),Object.assign(Object.assign(Object.assign({},(0,c.K)(Object.assign(Object.assign({},this.appContext),this.bizContext),this.isPageVisible,this.isFocus,o)),{from_page:(0,r.Xq)(location.pathname)}),n)}))}handleVisibilityChange(e){this.isPageVisible=e}bindFocusChange(){const e=()=>{this.isFocus=!0},t=()=>{this.isFocus=!1};return window.addEventListener("focus",e),window.addEventListener("blur",t),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",t)}}};v=(0,o.__decorate)([(0,n.G)()],v)},18645:(e,t,i)=>{i.d(t,{r:()=>P});var o=i(64047),n=i(57244),a=i(67929),s=i.n(a),r=i(59245),l=i.n(r),c=i(90293),d=i(82346),u=i(96980),p=i(14716),m=i(60595),h=i(56979),v=i(53095),f=i(72679),g=i(70526),_=i(18791),b=i(71024),w=i(88701);const y="content-type",k=["application/pdf"],x={m:"va",t:"sg",us:"ttp",boe:"boe"},L="bdturing-verify";let P=class{constructor(e,t,i){this.verify=e,this.util=t,this.security=i,this.get=this.rxFetchFactory("GET"),this.post=this.fetchPost,this.put=this.rxFetchFactory("PUT"),this.delete=this.rxFetchFactory("DELETE")}get csrfToken(){var e,t;return this.util.appContext,null!==(t=null===(e=this.util.appContext)||void 0===e?void 0:e.csrfToken)&&void 0!==t?t:""}get appContext(){return this.util.appContext,this.util.appContext}get bizContext(){return this.util.bizContext,this.util.bizContext}getEnvQuery(){var e,t;this.util.bizContext;const i={};if(null===(e=this.util.bizContext)||void 0===e?void 0:e.canUseQuery){const e=new URLSearchParams(window.location.search);i.device_id=null!==(t=e.get("device_id"))&&void 0!==t?t:void 0}return i}getDispatchInfo(){var e,t;try{const i=JSON.parse(null!==(t=null===(e=window.document.getElementById("__SCHEDULE_INFO__"))||void 0===e?void 0:e.textContent)&&void 0!==t?t:"{}");if(i.to)return i}catch(e){console.warn(e)}return{from:"",to:"",dispatchParams:{}}}getDispatchUrl(e){const t=this.getDispatchInfo();return t.to?(0,c.stringifyUrl)({url:e,query:t.dispatchParams}):e}rxFetchFactory(e){return(t,i)=>this.rxFetch(t,Object.assign(Object.assign({},i),{method:e}))}fetchPost(e,t={}){var{omitContentType:i=!1}=t,n=(0,o.__rest)(t,["omitContentType"]);const a=new Headers(n.headers);a.get(y)||i||a.set(y,"application/x-www-form-urlencoded");let s=this.getDispatchUrl(e);return s=(0,c.stringifyUrl)({url:e,query:this.getEnvQuery()}),n.body||(n.body=""),n.headers=a,this.rxFetch(s,Object.assign(Object.assign({},n),{method:"POST"}))}getVerifyJson(e,t){var i;const o=e.status_code||e.code,n=3058===o,a=3059===o,s=x[null!==(i=(0,f.N)().kind)&&void 0!==i?i:""];return t.includes("/api/update/profile/")&&(n||a)?{code:"10000",from:"shark_admin",type:"verify",version:1,region:s,subtype:n?"slide":"text",verify_event:"",detail:{},fp:-1}:e}rawFetch(e,t){var i,n,a,s,r;return(0,o.__awaiter)(this,void 0,void 0,(function*(){const o=yield window.fetch.call(null,e,t);if(o.status>=400)return yield Promise.reject(o);{const l=o.headers.get(y);if(null==l?void 0:l.includes("application/json")){const r=o.headers.has(L)?JSON.parse(null!==(i=o.headers.get(L))&&void 0!==i?i:"{}"):yield o.json(),l=this.getVerifyJson(r,e),c="TTP"===(null===(n=this.appContext)||void 0===n?void 0:n.clusterRegion),d=yield this.verify.checkVerify(l,null!==(s=null===(a=this.appContext)||void 0===a?void 0:a.wid)&&void 0!==s?s:"0",null!=c&&c,(0,f.N)().captcha);return 0===d?r:2===d?yield this.rawFetch(e,t):{statusCode:-1}}return(null===(r=o.headers.get(y))||void 0===r?void 0:r.includes("text/"))?yield o.text():-1!==k.indexOf(String(l))?yield o.blob():(null==l?void 0:l.includes("application/x-protobuf"))?yield o.arrayBuffer():yield o.text()}}))}rxFetch(e,t){var{credentials:i="include"}=t,n=(0,o.__rest)(t,["credentials"]);return(!e.startsWith("/")||e.startsWith("//")||"GET"!==n.method||b.rJ.some((t=>Boolean(e.match(new RegExp(t)))))?this.security.init$.pipe((0,u.q)(1)):(0,d.of)([!0,!0])).pipe((0,h.U)((([e,t])=>{if(!t&&(null==n?void 0:n.requireSecSdk))throw new Error("secsdk load error")})),(0,v.z)((()=>{var e;const t=null!==(e=n.riskParamsType)&&void 0!==e?e:0,{isInstantApp:i}=n;return(0,p.D)(this.util.getRiskParams(t,i))})),(0,v.z)((t=>new m.y((o=>{const a="AbortController"in window?new AbortController:{signal:{aborted:!1},abort(){this.signal.aborted=!0}},r=Object.assign({},t,n.query,this.util.addExtraQueryByUrlType(n.baseUrlType));e.startsWith("http:")||e.startsWith("https:")||(e=`${this.util.getBaseUrl(n.baseUrlType)}${e}`);const d=l()(s()(n,{signal:a.signal,credentials:i}),"query","riskParamsType","baseUrlType"),u=this.getDispatchInfo(),p=this.getEnvQuery(),m=u.to?Object.assign(u.dispatchParams,p):p;return e=(0,c.stringifyUrl)({url:e,query:Object.assign(r,m)}),this.rawFetch(e,d).then((e=>{o.next(e),o.complete()})).catch((e=>{o.error(e)})),()=>{a.signal.aborted||a.abort()}})))))}};P=(0,o.__decorate)([(0,n.G)(),(0,o.__metadata)("design:paramtypes",[w.Z,g.GV,_.$h])],P)},73078:(e,t,i)=>{i.d(t,{K:()=>n,$:()=>a});const o=(e,t)=>{try{return sessionStorage.getItem(e)||t}catch(e){return console.warn("sessionStorage get failed"),t}},n=(e,t,i,n)=>{const a=document.cookie.match(/s_v_web_id=(\w+)/);try{const s={aid:"1988",app_name:"tiktok_web",channel:"tiktok_web",device_platform:(e||{}).isMobile?"web_mobile":"web_pc",device_id:(e||{}).wid,region:(e||{}).region,priority_region:((e||{}).user||{}).region||"",os:(e||{}).os,referer:document.referrer,root_referer:o("webapp-session-referer"),cookie_enabled:navigator.cookieEnabled,screen_width:screen.width,screen_height:screen.height,browser_language:navigator.language,browser_platform:navigator.platform,browser_name:navigator.appCodeName,browser_version:navigator.appVersion,browser_online:navigator.onLine,verifyFp:(a||"")[1],app_language:(e||{}).language,webcast_language:(e||{}).language,tz_name:Intl.DateTimeFormat().resolvedOptions().timeZone,is_page_visible:t,focus_state:i,is_fullscreen:window.matchMedia("(display-mode: fullscreen)").matches,history_len:window.history.length};return"ageVerify"===o("enter_method")&&(s.security_verification_aid="1459"),navigator.getBattery&&(s.battery_info=n),s}catch(e){}return{}},a=()=>({cookie_enabled:navigator.cookieEnabled,screen_width:screen.width,screen_height:screen.height,browser_language:navigator.language,browser_platform:navigator.platform,browser_name:navigator.appCodeName,browser_version:navigator.appVersion,browser_online:navigator.onLine,timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone})},71024:(e,t,i)=>{var o;i.d(t,{rJ:()=>n,Yf:()=>c}),function(e){e[e.LoginMode=513]="LoginMode",e[e.USUnloginMode=514]="USUnloginMode",e[e.USUnloginHighRiskMode=515]="USUnloginHighRiskMode",e[e.NonUSUnloginMode=516]="NonUSUnloginMode",e[e.U13Mode=517]="U13Mode"}(o||(o={}));const n=["/node/share/","/share/item/list","/discover/render/undefined","/share/item/explore/list","/api/comment/list/","/api/comment/list/reply/","/api/commit/follow/user/","/api/commit/item/digg/","/aweme/v1/upload/image2/","/api/notice/multi/","/api/notice/count/","/api/notice/digg/list/","/api/user/following/request/list/","/api/commit/follow/request/approve/","/api/commit/follow/request/reject/","/api/comment/digg/","/api/comment/publish/","/api/comment/delete/","/api/sticker/item_list/","/api/user/contact/list/","/api/at/default/list/","/api/comment/search/user/","/web/aweme/v1/search/challengesug","/web/aweme/v1/discover/search/","/api/v1/item/create/","/api/ba/business/suite/permission/list","/api/search/user/full/","/api/search/user/preview/","/api/search/item/full/","/api/search/general/full/","/api/music/detail/","/api/challenge/detail/","/api/user/detail/","/api/user/list/","/api/item/detail/","/api/question/detail/","/api/question/item_list/","/api/discover/challenge/","/api/discover/user/","/api/discover/music/","/api/discover/expansion/video/","/api/discover/expansion/detail/","/api/discover/expansion/topic/","/api/discover/expansion/user/","/api/discover/expansion/challenge/","/api/discover/expansion/music/","/api/challenge/item_list/","/api/music/item_list/","/api/post/item_list/","/api/favorite/item_list/","/api/following/item_list/","/api/recommend/item_list/","/api/recommend/user/","/api/recommend/embed_videos/","/api/live/detail/","/api/im/multi_user/","/api/user/get/animation/","/api/user/settings/","/aweme/v1/music/list/","/aweme/v1/adult/verify/get/accepted/id/types/","/api/mix/detail","/api/mix/item_list","/api/uniqueid/check/","/api/user/playlist/","/api/impression/write/","/api/user/set/animation/","/api/aweme/set/react_duet_stitch/","/api/aweme/modify/visibility/","/api/aweme/delete/","/api/schedule/aweme/delete/","/passport/web/login_name/update/","/api/update/profile/","/api/commit/follow/request/approve/","/api/commit/follow/request/reject/","/api/commit/follow/user/","/tiktok/v1/username/save_async/","/api/ba/business/suite/account/off","/api/ba/business/suite/account/quitcheck","/node/report/reasons","/aweme/v1/aweme/feedback/","/webcast.*","/v1/message/send","/v2/conversation/create","/v1/voip/call","/v1/conversation/add_participants","/1/conversation/remove_participants","/v1/conversation/update_participant","/v1/conversation/set_setting_info","/v1/conversation/get_setting_info","/v1/conversation/upsert_core_ext_info","/v1/conversation/upsert_settings_ext","/v1/conversation/dissolve","/v1/message/mark","/v1/message/batch_unmark","/v1/message/set_property","/api-live/event/list","/api-live/event/related-videos","/api-live/event/detail","/api-live/share/live","/node-a/send/download_link","/api/uniqueid/check/","/api/v3/register/user/info/sync/","/api/policy/notice/approve/","/api/private_banner/ack/","/api/privacy/agreement/record/agree/v1","/api/v3/register/verification/age/","/api/register/check/login/name/","/api/user/detail/self/","/api/policy/notice/","api/compliance/settings","/passport/web/","/shorten/","/api/discover/expansion/detail/","/api/discover/expansion/video/","/api/discover/expansion/user/","/api/discover/expansion/challenge/","/api/discover/expansion/music/","/api/discover/expansion/topic/","/api/display/url/","/api/discover/client_impression/","/api/channel/mvp/video/","/api/channel/mvp/relatedword/","/api/commit/ads/action/"],a=[/^\/webcast\/diamond/,/^\/webcast\/wallet_api/,/^\/webcast\/recharge/,/^\/webcast\/wallet_api_tiktok\/notifycenter/,/^\/webcast\/wallet_api_tiktok\/payment/,/^\/webcast\/wallet_api_tiktok\/periodic_payout_onboarding/,/^\/webcast\/wallet_api_tiktok\/payout_onboarding_confirm/,/^\/webcast\/wallet_api_tiktok\/payment_instrument_bind_url/],s=["/webcast/api/money/kyc/v1/info/detail","/webcast/api/money/kyc/v1/upload_file","/webcast/api/compliance/kyc/v1/submission","/webcast/room/chat/","/webcast/room/create_info/","/webcast/room/enter/","/webcast/room/leave/","/webcast/room/live_podcast/","/webcast/room/ping/audience/","/webcast/user/relation/update/","/webcast/gift/send/","/webcast/room/emote_chat/","/webcast/room/share/",...a,"/webcast/wallet_api_tiktok/payment/initialize_payment","/webcast/wallet_api_tiktok/payment/initialize_agreement","/webcast/wallet_api_tiktok/payment/payment_methods/primary/set","/webcast/wallet_api_tiktok/payment/payment_methods/delete","/webcast/wallet_api_tiktok/payment/payment_methods/link","/webcast/wallet_api_tiktok/income_plus/tax/get_tax/","/webcast/wallet_api_tiktok/income_plus/tax/create_tax/","/webcast/wallet_api_tiktok/income_plus/tax/update_tax/","/webcast/wallet_api_tiktok/income_plus/agreement/","/webcast/wallet_api_tiktok/payout_onboarding_confirm/"],r=[...a,"/webcast/wallet_api_tiktok/periodic_payout_onboarding/","/webcast/wallet_api_tiktok/payment_instrument_bind_url/","/webcast/wallet_api_tiktok/payment/payment_methods","/webcast/wallet_api_tiktok/notifycenter/notices/","/webcast/wallet_api_tiktok/income_plus/get_user_region_info/","/webcast/wallet_api_tiktok/income_plus/account_steps/","/webcast/wallet_api_tiktok/income_plus/user/"],l=["/api/private_banner/ack/","/cloudpush/update_sender_token/","/cloudpush/app_notice_status/","/api/user/set/settings/","/api/reddot/report","/api/comment/digg/","/api/comment/publish/","/api/comment/delete/","/api/aweme/delete/","/api/schedule/aweme/delete/","/api/privacy/user/private_account/update/v1","/api/im_setting/update/v1","/api/privacy/agreement/record/agree/v1","/api/commit/follow/request/approve/","/api/commit/follow/request/reject/","/api/commit/follow/user/","/api/impression/write/","/api/user/set/animation/","/api/aweme/set/react_duet_stitch/","/api/aweme/modify/visibility/","/passport/web/login_name/update/","/api/update/profile/","/api/upload/image/","/tiktok/v1/username/save_async/","/api/commit/ads/action/"],c={"webcast.tiktok.com":{POST:s,GET:r},"webcast-t.tiktok.com":{POST:s,GET:r},"webcast-m.tiktok.com":{POST:s,GET:r},"webcast.us.tiktok.com":{POST:["/webcast/room/chat/","/webcast/room/create_info/","/webcast/room/enter/","/webcast/room/leave/","/webcast/room/live_podcast/","/webcast/room/ping/audience/","/webcast/user/relation/update/","/webcast/gift/send/","/webcast/room/emote_chat/","/webcast/room/share/",...a],GET:r},"www.tiktok.com":{POST:l},"us.tiktok.com":{POST:l},"m.tiktok.com":{POST:l},"t.tiktok.com":{POST:l}}},18791:(e,t,i)=>{i.d(t,{Q8:()=>g,qF:()=>_,$h:()=>b,M1:()=>w});var o=i(64047),n=i(57244),a=i(37729),s=i(14716),r=i(82346),l=i(49584),c=i(93859),d=i(68854),u=i(56979),p=i(83138),m=i(11467),h=i(70526),v=i(71024);class f{constructor(){this.promise=null,this.get=e=>(this.promise||(this.promise=(0,p.yy)(e)),this.promise)}}const g=new f,_=new f;let b=class{constructor(e,t){this.util=e,this.slardar=t,this.init$=new a.t(1),this.acrawlerInitliazed=!1,this.csrfInitliazed=!1;{const e={settled:!1,value:!1},t={settled:!1,value:!1},i=setTimeout((()=>this.init$.next([e.value,t.value])),1e4);this.initAcrawler().subscribe((o=>{e.settled=!0,e.value=o,t.settled&&(clearTimeout(i),this.init$.next([e.value,t.value]))})),this.initCSRF().subscribe((o=>{t.settled=!0,t.value=o,e.settled&&(clearTimeout(i),this.init$.next([e.value,t.value]))}))}}initAcrawler(){return this.util.appContext$.pipe((0,l.z)((e=>{const{appId:t,user:i,clusterRegion:o,wid:n=""}=e,a=1233===t;let l=a?"va-tiktok":"sg-tiktok";return l="TTP"===o?"ttp":l,(0,s.D)(g.get({moduleId:"acrawler"})).pipe((0,c.b)((()=>{var e;this.acrawlerInitliazed||(this.acrawlerInitliazed=!0,window.byted_acrawler.init({aid:1988,dfp:!1,boe:!1,intercept:!0,enablePathList:v.rJ,region:l,mode:w({isVA:a,isLogin:Boolean(i),isFTC:null!==(e=null==i?void 0:i.ftcUser)&&void 0!==e&&e,isHighRisk:!1}),isSDK:!1}))})),(0,d.K)((e=>{var t;return this.slardar.sendLog(`load Acrawler Error: ${e.message}`,"warn",{uid:null!==(t=null==i?void 0:i.uid)&&void 0!==t?t:"",wid:n}),(0,r.of)(!0)})))})),(0,u.U)((()=>!0)),(0,d.K)((()=>(0,r.of)(!0))))}initCSRF(){return this.util.appContext$.pipe((0,l.z)((e=>{const{clusterRegion:t}=e;let i="secsdk_sg";switch(t){case"MALI_VA":i="secsdk_va";break;case"TTP":i="secsdk_ttp";break;default:i="secsdk_sg"}return(0,s.D)(_.get({moduleId:i}))})),(0,u.U)((()=>!0)),(0,c.b)((()=>{this.csrfInitliazed||(this.csrfInitliazed=!0,window.secsdk.csrf.setProtectedHost(v.Yf))})),(0,d.K)((e=>(this.slardar.sendLog(`load secsdk Error: ${e.message}`,"warn"),(0,r.of)(!1)))))}};b=(0,o.__decorate)([(0,n.G)(),(0,o.__metadata)("design:paramtypes",[h.GV,m.n])],b);const w=({isVA:e,isLogin:t,isFTC:i,isHighRisk:o})=>i?517:t?513:e&&o?515:e&&!o?514:516},88701:(e,t,i)=>{i.d(t,{Z:()=>r});var o=i(64047),n=i(57244);const a=1e4;var s;!function(e){e[e.Pass=0]="Pass",e[e.Reject=1]="Reject",e[e.Retry=2]="Retry"}(s||(s={}));let r=class{constructor(){this.domId="tiktok-verify-ele",this.captcha=null,this.verifyElement=null,this.open=!1,this.rejectPass=!1,this.checkVerify=(e,t,i,n)=>(0,o.__awaiter)(this,void 0,void 0,(function*(){var o;if("object"!=typeof e)return e;const{statusCode:s,code:r}=null!=e?e:{};if(s===a||r===String(a)){const s=r===String(a)?e:e.verifyConfig,l=yield this.loadCaptcha(n&&i?"ttp":s.region,t);if(-1===s.fp){const e=yield null===(o=this.captcha)||void 0===o?void 0:o.getFp();s.fp=e}return l?this.open?(yield this.updateState(),this.rejectPass?1:2):yield this.goVerify(s,n):1}return 0})),this.destroy=()=>{var e;null===(e=this.captcha)||void 0===e||e.close(),this.verifyElement&&(document.body.removeChild(this.verifyElement),this.verifyElement=null)}}init(){this.verifyElement||(this.verifyElement=document.createElement("div"),this.verifyElement.setAttribute("id",this.domId),document.body.appendChild(this.verifyElement))}goVerify(e,t){return this.init(),new Promise((i=>{this.openVerify((()=>{this.closeVerify(),i(2)}),(()=>{this.closeVerify(!0),i(1)}),e,t)}))}closeVerify(e=!1){var t;this.open=!1,this.rejectPass=e,null===(t=this.captcha)||void 0===t||t.close()}openVerify(e,t,i,o){var n;const a={ele:this.domId,lang:"en",successCb:e,showMode:"mask",closeCb:t,errorCb:()=>{},fpCookieOption:{domain:".tiktok.com",sameSite:"None",secure:!0}};o&&(a.host=o),this.open=!0,this.rejectPass=!0,null===(n=this.captcha)||void 0===n||n.render({verify_data:i,captchaOptions:a})}updateState(){return new Promise((e=>{if(!this.open)return void e();const t=setInterval((()=>{this.open||(clearInterval(t),e())}),800)}))}loadCaptcha(e,t){return(0,o.__awaiter)(this,void 0,void 0,(function*(){if(!this.captcha){let o;switch(e){case"boe":case"sg":o=i.e(931).then(i.bind(i,66158));break;case"va":o=i.e(2782).then(i.bind(i,31220));break;case"in":case"ttp":o=i.e(3585).then(i.bind(i,80750));break;default:return!1}const n=yield o;this.captcha=n,n.init({commonOptions:{aid:1988,did:t||"0",iid:"0"},captchaOptions:{fpCookieOption:{domain:".tiktok.com",sameSite:"None",secure:!0}}})}return!0}))}};r=(0,o.__decorate)([(0,n.G)()],r)},45949:(e,t,i)=>{i.d(t,{G6:()=>a,Y8:()=>s,Di:()=>r,Ii:()=>l,YT:()=>c,KF:()=>d,cx:()=>u,uf:()=>m,KZ:()=>h,YZ:()=>v,le:()=>f,D$:()=>g,e8:()=>_,St:()=>b,D9:()=>w,lD:()=>y,NS:()=>k,UW:()=>x,PF:()=>L});var o=i(43226),n=i.n(o);function a(){return navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")&&navigator.userAgent&&-1===navigator.userAgent.indexOf("CriOS")&&-1===navigator.userAgent.indexOf("FxiOS")}function s(e=n(),t=n()){let i,o;function a(){i&&document[i]?e():t()}return"hidden"in document?(i="hidden",o="visibilitychange"):"msHidden"in document?(i="msHidden",o="msvisibilitychange"):"webkitHidden"in document&&(i="webkitHidden",o="webkitvisibilitychange"),"addEventListener"in document&&i&&o?(document.addEventListener(o,a,!1),document.removeEventListener.bind(document,o,a,!1)):n()}function r(e,t){let i={top:0,bottom:0,left:0,right:0};try{i=e.getBoundingClientRect()}catch(e){}let{top:o,bottom:n}=i;const{height:a}=i;return o-=t,n-=t,o=Math.abs(o),n<=0||o>=a?0:Number((n/a).toFixed(2))}function l(){return window.innerHeight<document.body.offsetHeight&&"hidden"!==document.body.style.overflow}function c(){return window.innerWidth-document.body.offsetWidth}const d=(e=0,t=100,i,o=!0,n)=>{const a=u(),s=Date.now(),r=null!=n?n:window,l=()=>{const n=Date.now()-s;if(n>=t)return o?r.scrollTo({top:e,behavior:"smooth"}):r.scrollTo(0,e),void(null==i||i());const c=a+n/t*(e-a);o?r.scrollTo({top:c,behavior:"smooth"}):r.scrollTo(0,c),requestAnimationFrame(l)};l()};function u(){const e=document.documentElement||document.body.parentNode||document.body;return void 0!==window.pageYOffset?window.pageYOffset:e.scrollTop}const p="webapp-scroll_invoke_by_click";function m(){return b(p)}function h(){y(p)}function v(e=0,t=100){const i=u(),o=Date.now(),n=()=>{window.pageYOffset.toFixed()===e.toFixed()&&(w(p,"done"),window.removeEventListener("scroll",n))};w(p,"start"),window.addEventListener("scroll",n),function n(){const a=Date.now()-o;if(a>=t)return void window.scrollTo({top:e,behavior:"smooth"});const s=(t-a)/t*(e-i)+i;window.scrollTo({top:s,behavior:"smooth"}),requestAnimationFrame(n)}()}function f(e,t=""){var i;try{return null!==(i=localStorage.getItem(e))&&void 0!==i?i:t}catch(e){return t}}function g(e,t){try{localStorage.setItem(e,t)}catch(e){}}function _(e){try{localStorage.removeItem(e)}catch(e){}}function b(e,t=""){var i;try{return null!==(i=sessionStorage.getItem(e))&&void 0!==i?i:t}catch(e){return t}}function w(e,t){try{sessionStorage.setItem(e,t)}catch(e){}}function y(e){try{sessionStorage.removeItem(e)}catch(e){}}const k=e=>{e.preventDefault(),e.stopPropagation()},x=e=>{e.stopPropagation()},L=e=>{e.preventDefault()}},7650:(e,t,i)=>{function o(){return"undefined"==typeof window||"undefined"==typeof document}function n(){return!o()&&!window.SIGI_STATE}i.d(t,{y:()=>o,W:()=>n})},51917:(e,t,i)=>{i.d(t,{PA:()=>a,w:()=>s,c9:()=>r,xU:()=>c});var o=i(91051),n=i(66147);const a=e=>`live_${e}`,s=e=>!!e&&e.includes("live_"),r=e=>2===(null==e?void 0:e.containerType),l=e=>11===e?"homepage_follow":"homepage_hot";function c({item:e,author:t,pageType:i}){const a=(0,o.useMemo)((()=>r(e)?"live_head":"video_head"),[e]),s=(0,o.useMemo)((()=>({enter_from_merge:l(i),enter_method:a,video_id:null==e?void 0:e.id})),[i,e,a]);return{avatarShowParams:(0,o.useMemo)((()=>{var i,o,a,r,l,c;return Object.assign(Object.assign({},s),{room_id:null!==(i=null==t?void 0:t.roomId)&&void 0!==i?i:null===(o=null==e?void 0:e.liveRoomInfo)||void 0===o?void 0:o.roomID,anchor_id:null!==(a=null==t?void 0:t.id)&&void 0!==a?a:null===(l=null===(r=null==e?void 0:e.liveRoomInfo)||void 0===r?void 0:r.ownerInfo)||void 0===l?void 0:l.id,live_type:n.NT[Number(null===(c=null==e?void 0:e.liveRoomInfo)||void 0===c?void 0:c.mode)],play_mode:"one_column",request_id:null==e?void 0:e.logId})}),[e,t,s]),avatarLinkQuery:(0,o.useMemo)((()=>Object.assign(Object.assign({},s),{from_play_mode:"one_column"})),[s]),followClickQuery:(0,o.useMemo)((()=>{var o,a,r,c,d,u,p,m,h;return Object.assign(Object.assign({},s),{enter_from_merge:l(i),enter_method:"live_cell",live_type:n.NT[Number(null===(o=null==e?void 0:e.liveRoomInfo)||void 0===o?void 0:o.mode)],room_id:null!==(a=null==t?void 0:t.roomId)&&void 0!==a?a:null===(r=null==e?void 0:e.liveRoomInfo)||void 0===r?void 0:r.roomID,anchor_id:null!==(c=null==t?void 0:t.id)&&void 0!==c?c:null===(u=null===(d=null==e?void 0:e.liveRoomInfo)||void 0===d?void 0:d.ownerInfo)||void 0===u?void 0:u.id,to_user_id:null!==(p=null==t?void 0:t.id)&&void 0!==p?p:null===(h=null===(m=null==e?void 0:e.liveRoomInfo)||void 0===m?void 0:m.ownerInfo)||void 0===h?void 0:h.id,request_id:null==e?void 0:e.logId,play_mode:"one_column"})}),[s,t,i,e])}}},97751:(e,t,i)=>{i.d(t,{AH:()=>r,kU:()=>_,n7:()=>N,eQ:()=>L,qC:()=>C,vN:()=>m,kg:()=>k,PV:()=>S,hw:()=>p,ES:()=>w,lK:()=>y,OB:()=>v,b7:()=>f,m8:()=>h,OV:()=>s,uW:()=>d,HW:()=>c,CG:()=>u,S0:()=>l,j0:()=>R,u7:()=>E,_T:()=>x,jd:()=>P,CO:()=>b});const o=["AT","BE","BG","HR","CY","CZ","DE","DK","EE","EL","FI","FR","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","NO","IS","LI"];var n,a;o.concat(["GB","CH"]),function(e){e.DEFAULT="DEFAULT",e.SG="ALL_SG",e.VA="MALI_VA",e.TTP="TTP",e.BOE="BOE"}(n||(n={})),function(e){e[e.Hot=0]="Hot",e[e.Relation=1]="Relation",e[e.Fresh=2]="Fresh",e[e.Post=3]="Post",e[e.Favorite=4]="Favorite",e[e.Challenge=5]="Challenge",e[e.Music=6]="Music",e[e.Category=7]="Category",e[e.MusicFresh=8]="MusicFresh",e[e.ChallengeFresh=9]="ChallengeFresh",e[e.Follow=10]="Follow",e[e.Trending=18]="Trending",e[e.TitleRecommend=20]="TitleRecommend",e[e.Nearby=21]="Nearby",e[e.Search=23]="Search",e[e.HotVideo=24]="HotVideo",e[e.HotMusic=25]="HotMusic",e[e.FollowerList=26]="FollowerList",e[e.Inbox=33]="Inbox",e[e.Live=27]="Live"}(a||(a={}));const s="webapp-pwa-expanded",r="webapp-live-nav-click",l="webapp_showed_profile_tip",c="webapp_showed_dark_mode_tip_count",d="search_history_list",u="webapp_showed_explore_new_label",p="webapp_launch_mode",m="webapp_tiktok_open",h="webapp_tiktok_privious",v="webapp_open_edit_profile_modal_from",f="popup_profile_toast";var g;!function(e){e[e.NIL=-255]="NIL",e[e.UnknownError=-1]="UnknownError",e[e.Ok=0]="Ok",e[e.ReportLiveFailed=90002]="ReportLiveFailed",e[e.VerifyCode=1e4]="VerifyCode",e[e.VideoLikeFreq=2150]="VideoLikeFreq",e[e.VideoLikeFreq2=2210]="VideoLikeFreq2",e[e.VideoUnavailableDeleted=2054]="VideoUnavailableDeleted",e[e.AdVideoUnavailableChange=2752]="AdVideoUnavailableChange",e[e.CommentBanCode=22]="CommentBanCode",e[e.CommentLikePermissionDisable=3002043]="CommentLikePermissionDisable",e[e.SearchSensitiveCode=403]="SearchSensitiveCode",e[e.SearchYoungCode=203]="SearchYoungCode",e[e.SmsInvalidNumber=-1]="SmsInvalidNumber",e[e.SmsSlideVerify=-4]="SmsSlideVerify",e[e.FypVideoListLimit=10404]="FypVideoListLimit",e[e.ClientPageError=450]="ClientPageError",e[e.LiveNeedLogin=10119]="LiveNeedLogin",e[e.SharkBlock=10114]="SharkBlock",e[e.SharkSlide=10113]="SharkSlide",e[e.NetError=10111]="NetError",e[e.ServerErrorNot500=10101]="ServerErrorNot500",e[e.VideoRisk=10228]="VideoRisk",e[e.VideoRMask=10229]="VideoRMask",e[e.VideoRiskMask=10230]="VideoRiskMask",e[e.VideoNeedRecheck=10227]="VideoNeedRecheck",e[e.VideoUnshelveByMusic=10220]="VideoUnshelveByMusic",e[e.VideoNotExist=10204]="VideoNotExist",e[e.VideoAbnormal=10215]="VideoAbnormal",e[e.VideoLowAgeM=10213]="VideoLowAgeM",e[e.VideoLowAgeT=10214]="VideoLowAgeT",e[e.VideoFirstReviewUnshelve=10217]="VideoFirstReviewUnshelve",e[e.VideoPrivateByUser=10216]="VideoPrivateByUser",e[e.VideoGeofenceBlock=10231]="VideoGeofenceBlock",e[e.VideoPhoto=10239]="VideoPhoto",e[e.VideoFriendsOnly=10240]="VideoFriendsOnly",e[e.VideoDeleted=10241]="VideoDeleted",e[e.VideoUserBlockedByAuthor=10242]="VideoUserBlockedByAuthor",e[e.VideoSubscribersOnly=203005]="VideoSubscribersOnly",e[e.HashtagNotExist=10205]="HashtagNotExist",e[e.HashtagUnshelve=10212]="HashtagUnshelve",e[e.HashtagSensitivityWord=10211]="HashtagSensitivityWord",e[e.HashtagBlackList=10209]="HashtagBlackList",e[e.UserInboxFollowBan=24]="UserInboxFollowBan",e[e.UserNotExist=10202]="UserNotExist",e[e.UserBan=10221]="UserBan",e[e.UserPrivate=10222]="UserPrivate",e[e.UserNotLogin=10102]="UserNotLogin",e[e.UserFtc=10223]="UserFtc",e[e.UserUniqueSensitivity=10225]="UserUniqueSensitivity",e[e.QuestionNotAvailable=10236]="QuestionNotAvailable",e[e.MusicNotExist=10203]="MusicNotExist",e[e.MusicUnshelve=10218]="MusicUnshelve",e[e.MusicNoCopyright=10219]="MusicNoCopyright",e[e.MusicUnavailable=202001]="MusicUnavailable",e[e.PlaceNotExist=205001]="PlaceNotExist",e[e.PlaceOffline=205002]="PlaceOffline",e[e.PlaceUnavailableInRegion=205003]="PlaceUnavailableInRegion",e[e.GameNotExist=10224]="GameNotExist",e[e.LiveNotExist=10210]="LiveNotExist",e[e.GoLiveRoomBaned=10018]="GoLiveRoomBaned",e[e.GoLiveBaned=4003035]="GoLiveBaned",e[e.LiveRoomPrepare=30019]="LiveRoomPrepare",e[e.LiveRoomEnd=30003]="LiveRoomEnd",e[e.LiveRoomBan=30012]="LiveRoomBan",e[e.LiveNoGatedAuth=4003043]="LiveNoGatedAuth",e[e.LiveNoAgeGatedAuth=4003110]="LiveNoAgeGatedAuth",e[e.LivePaidEvent=4003072]="LivePaidEvent",e[e.LiveSubscriberOnly=4003135]="LiveSubscriberOnly",e[e.LiveSuicideCase=2403]="LiveSuicideCase",e[e.LiveSensitiveTitle=50004]="LiveSensitiveTitle",e[e.LiveRoomBaned=10018]="LiveRoomBaned",e[e.LiveEnterRoomNeedLogin=20003]="LiveEnterRoomNeedLogin",e[e.LiveAccountUnderRiskControl=20063]="LiveAccountUnderRiskControl",e[e.LiveHitBanStrategy=30009]="LiveHitBanStrategy",e[e.LiveOBSAccessRecalled=4003105]="LiveOBSAccessRecalled",e[e.LiveUserNotFound=19881007]="LiveUserNotFound",e[e.EffectNotExist=10208]="EffectNotExist",e[e.PlaylistNotExist=10233]="PlaylistNotExist",e[e.PlaylistInTrill=10234]="PlaylistInTrill",e[e.VideoPlaylistUnavailable=10243]="VideoPlaylistUnavailable",e[e.VideoPlaylistIsEmpty=10244]="VideoPlaylistIsEmpty",e[e.PrivateAccountLimitByBC=3026002]="PrivateAccountLimitByBC",e[e.PnsPnsPrivateAccountLimitByLiveOn=3026006]="PnsPnsPrivateAccountLimitByLiveOn",e[e.CreatePlaylistWithRiskError=206001]="CreatePlaylistWithRiskError",e[e.VideoPlaylistVisibleToCreator=206002]="VideoPlaylistVisibleToCreator",e[e.AddPlaylistVideoWithRiskError=206003]="AddPlaylistVideoWithRiskError",e[e.VideoPlaylistUnavailableToVisitor=206004]="VideoPlaylistUnavailableToVisitor",e[e.VideoPlaylistDeleted=206005]="VideoPlaylistDeleted"}(g||(g={}));const _="Sorry, something wrong with the server, please try again.",b=1988,w=3e4,y=30,k=9,x=9,L=30,P=30,C="tiktok_webapp_feed_mode",E="tiktok_webapp_theme";var T;!function(e){e.DarkTheme="dark",e.LightTheme="light"}(T||(T={}));const S=o.concat(["CH","US","GB"]),I="https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/",O="https://lf16-tiktok-web.tiktokcdn-us.com/obj/tiktok-web-tx/",N={ROW:{remScript:`${I}tiktok/static/nginx/rem-script.js`,slardarLite:`${I}slardar/sdk-pre/browser.lite.pre.js`,serviceWorker:`${I}tiktok/static/nginx/service-worker.js`},TTP:{remScript:`${O}tiktok/static/nginx/rem-script.js`,slardarLite:`${I}slardar/sdk-pre/browser.lite.pre.js`,serviceWorker:`${O}tiktok/static/nginx/service-worker.js`}},R="swiper-no-swiping"},7992:(e,t,i)=>{i.d(t,{Li:()=>o,Zy:()=>n});const o="tiktok_webapp",n="tiktok_webapp_login"},25185:(e,t,i)=>{i.d(t,{Qj:()=>n,Uo:()=>a,S0:()=>r}),i(11040);var o=i(91051);i(6669);const n=(0,o.createContext)(!1),a={plugins:{ajax:{ignoreUrls:[".byteoversea.com","tiktokv.com/v1/list","mcs-sg.tiktok.com","mcs-va.tiktok.com","mcs.us.tiktok.com"]},jsError:{ignoreErrors:["Blocked a frame with origin","__msg_type","vid_mate_check is not defined","ResizeObserver loop limit exceeded"]},resource:!0,pageview:{sendInit:!1,routeMode:"manual"}},sample:{sample_rate:1,sample_granularity:"event",include_users:[],rules:{resource:{enable:!0,sample_rate:.01,conditional_sample_rules:[]},resource_error:{enable:!0,sample_rate:.05,conditional_sample_rules:[]},performance_longtask:{enable:!0,sample_rate:.001,conditional_sample_rules:[]}}},env:"production",release:"1.0.0.8066",slardarClient:"SlardarLite",manual:1,sdkUrl:"https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/slardar/fe/sdk_lite/browser-nocookie.lite.1.2.26.sg.js",pluginPathPrefix:"https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/slardar/fe/sdk_lite/plugins"};var s;!function(e){e.P0="fatal",e.P1="error",e.P2="warning",e.P3="info",e.P4="debug",e.P5="critical"}(s||(s={}));const r=["lcp","fp","fid","ttfb","mpfid","fcp"]},9967:(e,t,i)=>{i.d(t,{q:()=>r,N:()=>l});var o=i(16926),n=i(91051),a=i(11467);let s=!0;function r({pid:e,timeout:t=0}){const i=(0,o.fz)(a.n);(0,n.useEffect)((()=>{i.config({pid:e}),i.context({isLandingPage:s?1:0}),s=!1,i.start(t)}),[e,i])}function l(){return(0,o.fz)(a.n)}},11467:(e,t,i)=>{i.d(t,{n:()=>m});var o=i(64047),n=i(57244),a=i(43226),s=i.n(a),r=i(23175),l=(i(36034),i(95872)),c=i(7650),d=i(7992),u=i(25185);let p,m=class{constructor(){if(this.cachePreBid="",!(0,c.y)())try{r.Z.on("beforeSend",(e=>{var t,i,o,n;try{if("performance"===e.ev_type&&("metrics"in e.payload?e.payload.metrics.forEach(this.collectSlardarMetricsToTea):this.collectSlardarMetricsToTea(e.payload,null===(t=e.common)||void 0===t?void 0:t.pid)),"performance_timing"===e.ev_type){const{responseEnd:t,responseStart:a,domContentLoadedEventEnd:s,fetchStart:r,navigationStart:c}=null!==(i=e.payload.timing)&&void 0!==i?i:{},d=null!==(n=null===(o=e.payload.common)||void 0===o?void 0:o.pid)&&void 0!==n?n:"unknown",u=s-r,p=t-a,m=a-c;l.W.event("slardar_perf_domready",{metric_duration:u&&u>0?u.toString():-1,pid:d}),l.W.event("slardar_perf_response",{metric_duration:p&&p>0?p.toString():-1,pid:d}),l.W.event("slardar_perf_ttfb",{metric_duration:m&&m>0?m.toString():-1,pid:d})}}catch(e){}return e}))}catch(e){}}start(e=0){try{Promise.race([(t=e,new Promise((e=>setTimeout(e,t)))),new Promise((e=>{p=setInterval((()=>{var t;const i=null===(t=window.SlardarLite)||void 0===t?void 0:t.plugin;(null==i?void 0:i.error)&&(null==i?void 0:i.sample)&&e(!0)}),100)}))]).then((()=>{p&&clearInterval(p),r.Z.start()})).catch(s())}catch(e){}var t}config(e,t=!1){try{r.Z.config(e)}catch(e){}}toggleLoginSlardar(e){var t,i;e?(this.cachePreBid=null===(i=null===(t=window.SlardarLite)||void 0===t?void 0:t.config)||void 0===i?void 0:i.bid,this.config({bid:d.Zy})):this.config({bid:this.cachePreBid})}context(e){try{Object.entries(e).forEach((([e,t])=>{var i;return null===(i=r.Z.context)||void 0===i?void 0:i.set(e,t)}))}catch(e){}}captureMessage(e="",t,i={}){var o;try{null===(o=r.Z.captureException)||void 0===o||o.call(r.Z,new Error(e),t?Object.assign(Object.assign({},i),{level:t}):i)}catch(e){console.info("slardar: capture exception error")}}emitEvent(e,t,i){var o;try{null===(o=r.Z.sendEvent)||void 0===o||o.call(r.Z,{name:e,categories:i,metrics:t})}catch(e){}}reportI18nLoadedFailed(e,t){this.emitEvent("I18nLoadFailed",{count:1},{staringName:e,lang:t})}sendLog(e,t,i){var o;try{null===(o=r.Z.sendLog)||void 0===o||o.call(r.Z,{content:e,level:t,extra:i})}catch(e){}}sendPV(e){var t;try{null===(t=r.Z.sendPageview)||void 0===t||t.call(r.Z,e)}catch(e){}}previousPid(){var e,t;return null===(t=null===(e=window.SlardarLite)||void 0===e?void 0:e.config)||void 0===t?void 0:t.pid}sendCustomPerfMetric(e,t){var i;try{const o=null!=t?t:performance.now();null===(i=r.Z.sendCustomPerfMetric)||void 0===i||i.call(r.Z,{name:e,value:o,isCustom:!0})}catch(e){}}collectSlardarMetricsToTea(e,t){if(e.isSupport||e.isPolyfill){const i=e.name.toLowerCase();u.S0.includes(i)&&l.W.event(`slardar_perf_${i}`,{metric_duration:e.value.toString(),pid:null!=t?t:"unknown",is_support:e.isSupport?"1":"0"})}}};m=(0,o.__decorate)([(0,n.G)(),(0,o.__metadata)("design:paramtypes",[])],m)},11477:(e,t,i)=>{i.d(t,{yw:()=>r,ui:()=>l,Xi:()=>c});var o=i(28188),n=i(19571),a=i(9967),s=i(22240);function r(){var e,t,i;const a=(0,n.bX)(o.Hx);return"v3"===(null===(i=null===(t=null===(e=null==a?void 0:a.abTestVersion)||void 0===e?void 0:e.parameters)||void 0===t?void 0:t.video_csr)||void 0===i?void 0:i.vid)}function l(){var e,t,i;const a=(0,n.bX)(o.Hx),s=null===(i=null===(t=null===(e=null==a?void 0:a.abTestVersion)||void 0===e?void 0:e.parameters)||void 0===t?void 0:t.feed_csr)||void 0===i?void 0:i.vid;return void 0!==s&&["v2","v3"].includes(s)}function c(e){const t=(0,a.N)();(0,s.L)((()=>{t.sendCustomPerfMetric(`js_paint_${e}`)}),[])}},74199:(e,t,i)=>{i.d(t,{j:()=>l,$:()=>c});var o=i(64047),n=i(11362),a=i(60998),s=i(16594),r=i(2844);function l(e){var t,i;return(0,o.__awaiter)(this,void 0,void 0,(function*(){if(!(null===(i=null===(t=window[n.ho])||void 0===t?void 0:t.BizContext)||void 0===i?void 0:i.initialized)){const t=a.n.getInstance(r.r),i=t.getActions().init({lang:(0,s.G3)(),app_name:e});t.store.dispatch(i),yield new Promise((e=>{t.state$.subscribe((t=>{t.initialized&&e()}))}))}}))}function c(){return(0,o.__awaiter)(this,void 0,void 0,(function*(){const e=a.n.getInstance(r.r);return new Promise((t=>{e.state$.subscribe((e=>{e.bizContext&&t(e.bizContext)}))}))}))}},2844:(e,t,i)=>{i.d(t,{r:()=>w});var o=i(64047),n=i(73566),a=i(48185),s=i(19630),r=i(8741),l=i(11348),c=i(58569),d=i(82346),u=i(60595),p=i(20948),m=i(49584),h=i(53095),v=i(10026),f=i(5549),g=i(57244),_=i(18645);let b=class{constructor(e){this.fetch=e}getBizContext(e,t){return this.fetch.get("/node-webapp/api/biz-context",{query:{lang:e,app_name:t},ignoreBizContext:!0,baseUrlType:2})}};b=(0,o.__decorate)([(0,g.G)(),(0,o.__metadata)("design:paramtypes",[_.r])],b);let w=class extends n.D{constructor(e){super(),this.service=e,this.defaultState={bizContext:null,initialized:!1}}setBizContext(e,t){var{statusCode:i}=t,n=(0,o.__rest)(t,["statusCode"]);0===i&&(e.bizContext=(0,r.vV)(Object.assign({},n)))}setInitialized(e,t){e.initialized=t}init(e){return e.pipe((0,p.M)(this.state$),(0,m.z)((([{lang:e,app_name:t},{initialized:i}])=>i?l.E:this.service.getBizContext(e,t).pipe((0,h.z)((e=>(0,c.T)((0,d.of)(this.getActions().setBizContext(e))))),(0,v.O)(this.getActions().setInitialized(!1)),(0,f.l)(this.getActions().setInitialized(!0),this.terminate())))))}};(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],w.prototype,"setBizContext",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],w.prototype,"setInitialized",null),(0,o.__decorate)([(0,a.Qm)({payloadGetter:1}),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[u.y]),(0,o.__metadata)("design:returntype",void 0)],w.prototype,"init",null),w=(0,o.__decorate)([(0,s.Y)("BizContext"),(0,o.__metadata)("design:paramtypes",[b])],w)},97115:(e,t,i)=>{i.d(t,{$h:()=>o,ih:()=>s,tF:()=>r,k$:()=>l,ci:()=>c});const o="5dc26cf008d511e9b571e1bc0c9e23b5",n={ar:{displayName:"العربية",alias:["ar-ae","ar-bh","ar-dz","ar-eg","ar-iq","ar-jo","ar-kw","ar-lb","ar-ly","ar-ma","ar-om","ar-qa","ar-sa","ar-sy","ar-tn","ar-ye"]},"bn-IN":{displayName:"বাঙ্গালি (ভারত)",alias:["bn","bn-in"]},"ceb-PH":{displayName:"Cebuano (Pilipinas)",alias:["ceb","ceb-ph"]},"cs-CZ":{displayName:"Čeština (Česká republika)",alias:["cs","cs-cz"]},"de-DE":{displayName:"Deutsch",alias:["de","de-at","de-ch","de-de","de-li","de-lu"]},"el-GR":{displayName:"Ελληνικά (Ελλάδα)",alias:["el","el-gr"]},en:{displayName:"English",alias:[]},es:{displayName:"Español",alias:["es-es","es-xl","es-ES"]},"fi-FI":{displayName:"Suomi (Suomi)",alias:["fi","fi-fi"]},"fil-PH":{displayName:"Filipino (Pilipinas)",alias:["fil","tl-ph","tl","fil-ph"]},fr:{displayName:"Français",alias:["fr-be","fr-ca","fr-ch","fr-fr","fr-lu","fr-mc"]},"he-IL":{displayName:"עברית (ישראל)",alias:["he","he-il"]},"hi-IN":{displayName:"हिंदी",alias:["hi","hi-in"]},"hu-HU":{displayName:"Magyar (Magyarország)",alias:["hu","hu-hu"]},"id-ID":{displayName:"Bahasa Indonesia (Indonesia)",alias:["id","id-id","in-id","in"]},"it-IT":{displayName:"Italiano (Italia)",alias:["it","it-ch","it-it"]},"ja-JP":{displayName:"日本語（日本）",alias:["ja","ja-jpan","ja-jp"]},"jv-ID":{displayName:"Basa Jawa (Indonesia)",alias:["jv","jv-jv"]},"km-KH":{displayName:"ខ្មែរ (កម្ពុជា)",alias:["km","km-kh"]},"ko-KR":{displayName:"한국어 (대한민국)",alias:["ko","ko-kr","ko-kore"]},"ms-MY":{displayName:"Bahasa Melayu (Malaysia)",alias:["ms","ms-bn","ms-my"]},"my-MM":{displayName:"မြန်မာ (မြန်မာ)",alias:["my","my","my-mm"]},"nl-NL":{displayName:"Nederlands (Nederland)",alias:["nl","nl-be","nl-nl"]},"pl-PL":{displayName:"Polski (Polska)",alias:["pl","pl-pl"]},"pt-BR":{displayName:"Português (Brasil)",alias:["pt_BR","pt-br","pu","pt","pt-pt"]},"ro-RO":{displayName:"Română (Romania)",alias:["ro","ro-ro"]},"ru-RU":{displayName:"Русский (Россия)",alias:["ru","ru-ru"]},"sv-SE":{displayName:"Svenska (Sverige)",alias:["sv","sv-se"]},"th-TH":{displayName:"ไทย (ไทย)",alias:["th","th-th"]},"tr-TR":{displayName:"Türkçe (Türkiye)",alias:["tr","tr-tr"]},"uk-UA":{displayName:"Українська (Україна)",alias:["uk","uk-ua"]},ur:{displayName:"اردو",alias:[]},"vi-VN":{displayName:"Tiếng Việt (Việt Nam)",alias:["vi","vi-vn"]},"zh-Hans":{displayName:"简体中文",alias:["zh-hans","zh_hans","zh_Hans","zh-cn"]},"zh-Hant-TW":{displayName:"繁體中文",alias:["zh","zh_Hant","zh_TW","zh-tw","zh-hk","zh-Hant","zh-hant-tw"]}},a=Object.entries(n).map((([e,{alias:t}])=>[e,...t])),s=new Map(a.reduce(((e,t)=>{const i=t[0];return t.forEach((t=>{e.push([t.toLocaleLowerCase(),i])})),e}),[])),r=Object.entries(n).map((([e,{displayName:t}])=>({label:t,value:e}))),l="en",c="tiktok_webapp_lang"},28188:(e,t,i)=>{i.d(t,{Hx:()=>a,Il:()=>s,iz:()=>r});var o=i(11040),n=i(91051);const a="webapp.app-context",s=(0,n.createContext)(null),r=({value:e,children:t})=>(0,o.jsx)(s.Provider,Object.assign({value:e},{children:t}),void 0)},16594:(e,t,i)=>{i.d(t,{s:()=>r,G3:()=>d}),i(90293);var o=i(74469);const n=/(facebookexternalhit|whatsapp|twitterbot|developers\.snap\.com\/robots|Linespider|LinkedInBot|Discordbot|TelegramBot|LarkBot|vk\.com\/dev\/Share)/;var a,s=i(97115);!function(e){e.WebApp="Webapp",e.Analytics="MT_Analytics",e.Reflow="MT_Reflow",e.Login="WebApp_Login"}(a||(a={}));const r=(e="")=>e.split("-")[0].replace("zh","zh-Hant")||e||"en";function l(e){const t=e.toLocaleLowerCase();return s.ih.has(t)}function c(e){var t;const i=e.toLocaleLowerCase();return null!==(t=s.ih.get(i))&&void 0!==t?t:s.k$}function d(e){var t;const{pathname:i,query:a}=(0,o.DX)(),{userAgent:r,acceptLanguage:d}=(0,o.fw)(),u=(null!=e?e:i).split("/")[1];if(u&&l(u))return c(u);const{lang:p,langCountry:m,language:h,sharer_language:v}=a,f=[m,p,h];n.test(r)&&f.push(v);for(const e of f)if(e&&l(e))return c(e);const g=(0,o.AO)(s.ci);if(g&&l(g))return c(g);const _=null===(t=r.match(/(ByteFullLocale\/|ByteLocale\/)([\w\-_]+)/))||void 0===t?void 0:t[2];if(_&&l(_))return c(_);for(const e of d)if(e&&l(e))return c(e);return v&&l(v)?c(v):s.k$}},77966:(e,t,i)=>{i.d(t,{Ij:()=>l,Pz:()=>c,CN:()=>d,W7:()=>u});const o=/\(i[^;]+;( U;)? CPU.+Mac OS X/,n=/Android|android|Adr/,a=/X11/,s=/\(Macintosh; Intel /,r=/Win\d{2}|Windows/;function l(e){return n.test(e)?"android":a.test(e)?"linux":o.test(e)?"ios":s.test(e)?"mac":r.test(e)?"windows":"unknown"}function c(e){return o.test(e)}function d(e){return n.test(e)}function u(e){return c(e)||d(e)}},33693:(e,t,i)=>{i.d(t,{Ur:()=>o,OJ:()=>s,nT:()=>l,SN:()=>c,M7:()=>d});var o,n=i(3890),a=i(24021);!function(e){e.video="video",e.user="user",e.music="music",e.challenge="challenge",e.channel="channel",e.home="home",e.foryouWithLang="foryouWithLang",e.foryou="foryou",e.following="following",e.topics="topics",e.expansion="expansion",e.discovery="discovery",e.searchHome="searchHome",e.searchUser="searchUser",e.searchVideo="searchVideo",e.searchReminder="searchReminder",e.searchLive="searchLive",e.discover="discover",e.setting="setting",e.feedback="feedback",e.feedbackHistory="feedbackHistory",e.feedbackReport="feedbackReport",e.question="question",e.musicPlaylist="musicPlaylist",e.messages="messages",e.settingBlockList="settingBlockList",e.settingDownLoadYourData="settingDownLoadYourData",e.profile="profile",e.inbox="inbox",e.explore="explore",e.videoPlaylist="videoPlaylist",e.poi="poi",e.collection="collection"}(o||(o={}));const s=(0,a.o)({video:"/@:uniqueId(.*)/video/:id",user:"/@:uniqueId",music:"/music/:title(.*)-:id",challenge:"/tag/:name",channel:"/channel/:name",home:"/",foryouWithLang:["/ar","/bn-IN","/ceb-PH","/cs-CZ","/de-DE","/el-GR","/en","/es","/fi-FI","/fil-PH","/fr","/he-IL","/hi-IN","/hu-HU","/id-ID","/it-IT","/ja-JP","/jv-ID","/km-KH","/ko-KR","/ms-MY","/my-MM","/nl-NL","/pl-PL","/pt-BR","/ro-RO","/ru-RU","/sv-SE","/th-TH","/tr-TR","/uk-UA","/ur","/vi-VN","/zh-Hans","/zh-Hant-TW"],foryou:"/foryou",following:"/following",topics:"/topics/:name",expansion:"/discover/:name",discovery:"/discovery/:name",searchHome:"/search",searchUser:"/search/user",searchVideo:"/search/video",searchReminder:"/search/reminder",searchLive:"/search/live",discover:"/discover",setting:"/setting",feedback:"/feedback",feedbackHistory:"/feedback/history",feedbackReport:"/feedback/report",question:"/question/:content(.+)-:id",musicPlaylist:"/playlist-music/:title(.+)-:id",messages:"/messages",settingBlockList:"/setting/block-list",settingDownLoadYourData:"/setting/download-your-data",profile:"/profile",inbox:"/inbox",explore:"/explore",videoPlaylist:"/@:uniqueId/playlist/:content(.+)-:id",poi:"/place/:name(.+)-:id",collection:"/@:uniqueId/collection/:title(.+)-:id"});var r;!function(e){e.video="video",e.user="user",e.music="music",e.challenge="challenge",e.channel="channel",e.home="home",e.foryouWithLang="foryouWithLang",e.foryou="foryou",e.following="following",e.topics="topics",e.expansion="expansion",e.discovery="discovery",e.searchHome="searchHome",e.searchUser="searchUser",e.searchVideo="searchVideo",e.searchReminder="searchReminder",e.searchLive="searchLive",e.discover="discover",e.setting="setting",e.feedback="feedback",e.feedbackHistory="feedbackHistory",e.feedbackReport="feedbackReport",e.question="question",e.musicPlaylist="musicPlaylist",e.messages="messages",e.settingBlockList="settingBlockList",e.settingDownLoadYourData="settingDownLoadYourData",e.profile="profile",e.inbox="inbox",e.explore="explore",e.videoPlaylist="videoPlaylist",e.poi="poi",e.collection="collection"}(r||(r={}));const l={video:"/@:uniqueId(.*)/video/:id",user:"/@:uniqueId",music:"/music/:title(.*)-:id",challenge:"/tag/:name",channel:"/channel/:name",home:"/",foryouWithLang:["/ar","/bn-IN","/ceb-PH","/cs-CZ","/de-DE","/el-GR","/en","/es","/fi-FI","/fil-PH","/fr","/he-IL","/hi-IN","/hu-HU","/id-ID","/it-IT","/ja-JP","/jv-ID","/km-KH","/ko-KR","/ms-MY","/my-MM","/nl-NL","/pl-PL","/pt-BR","/ro-RO","/ru-RU","/sv-SE","/th-TH","/tr-TR","/uk-UA","/ur","/vi-VN","/zh-Hans","/zh-Hant-TW"],foryou:"/foryou",following:"/following",topics:"/topics/:name",expansion:"/discover/:name",discovery:"/discovery/:name",searchHome:"/search",searchUser:"/search/user",searchVideo:"/search/video",searchReminder:"/search/reminder",searchLive:"/search/live",discover:"/discover",setting:"/setting",feedback:"/feedback",feedbackHistory:"/feedback/history",feedbackReport:"/feedback/report",question:"/question/:content(.+)-:id",musicPlaylist:"/playlist-music/:title(.+)-:id",messages:"/messages",settingBlockList:"/setting/block-list",settingDownLoadYourData:"/setting/download-your-data",profile:"/profile",inbox:"/inbox",explore:"/explore",videoPlaylist:"/@:uniqueId/playlist/:content(.+)-:id",poi:"/place/:name(.+)-:id",collection:"/@:uniqueId/collection/:title(.+)-:id"},c=(0,n.t)(l),d=(0,a.o)(l)},24021:(e,t,i)=>{i.d(t,{o:()=>a});var o=i(34013),n=i.n(o);function a(e){const t=[],i=Object.keys(e);for(const o of i){const i=e[o],a=Array.isArray(i)?i:[i];for(const e of a)t.push({re:n()(e),route:{name:o,path:e}})}return e=>{for(const i of t)if(i.re.test(e))return i.route;return null}}},3890:(e,t,i)=>{i.d(t,{t:()=>l});var o=i(65632),n=i.n(o),a=i(56549),s=i.n(a),r=i(34013);function l(e){return n()(e,(e=>function(e){return s()(e)?(0,r.compile)(e):()=>e[0]}(e)))}},83138:(e,t,i)=>{i.d(t,{Bs:()=>c,yy:()=>l});var o,n,a=i(64047);!function(e){e.Sg="https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/secsdk/secsdk-lastest.umd.js",e.Va="https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/secsdk/secsdk-lastest.umd.js",e.TTP="https://lf16-tiktok-web.tiktokcdn-us.com/obj/static-tx/secsdk/secsdk-lastest.umd.js"}(o||(o={})),function(e){e.Acrawler="acrawler",e.SecSdkSG="secsdk_sg",e.SecSdkVA="secsdk_va",e.SecSdkTTP="secsdk_ttp"}(n||(n={}));const s={acrawler:"https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/webmssdk/1.0.0.24/webmssdk.js",secsdk_sg:"https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/secsdk/secsdk-lastest.umd.js",secsdk_va:"https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/secsdk/secsdk-lastest.umd.js",secsdk_ttp:"https://lf16-tiktok-web.tiktokcdn-us.com/obj/static-tx/secsdk/secsdk-lastest.umd.js"};i(11040);const r="script-manager";function l(e){var t,i;return(0,a.__awaiter)(this,void 0,void 0,(function*(){const{moduleId:o}=e;let n={imports:{}};try{n=JSON.parse(null!==(i=null===(t=document.querySelector(`#${r}`))||void 0===t?void 0:t.innerHTML)&&void 0!==i?i:"")}catch(e){console.error("[Init failed]: sdk config is invalid")}const a=document.createElement("script");return a.src=n.imports[o],a.async=!0,new Promise(((e,t)=>{var i;n.imports[o]?(a.parentNode&&(null===(i=document.parentNode)||void 0===i||i.removeChild(a)),document.body.appendChild(a),a.addEventListener("load",(()=>{e(!0)})),a.addEventListener("error",(()=>{t(new Error("load script failed"))}))):t(new Error("empty script src"))}))}))}function c(e="/node-webapp/api/importmap"){return(0,a.__awaiter)(this,void 0,void 0,(function*(){if(document.querySelector(`#${r}`))return;let t={imports:{}};const i=document.createElement("script");i.type="importmap",i.id=r;try{const i=yield window.fetch.call(null,e,{method:"Get",redirect:"error"}),{imports:o}=yield i.json();t={imports:o}}catch(e){t={imports:s}}i.innerText=JSON.stringify(t),document.head.appendChild(i)}))}},74469:(e,t,i)=>{i.d(t,{fw:()=>a,DX:()=>s,AO:()=>r});var o=i(64371),n=i(90293);function a(){return{userAgent:window.navigator.userAgent||"",acceptLanguage:window.navigator.languages||[]}}function s(){return{pathname:window.location.pathname||"",query:(0,n.parse)(window.location.search)}}function r(e){return o.Z.get(e)}},67779:(e,t,i)=>{i.d(t,{$w:()=>o,xV:()=>n,X1:()=>a,FT:()=>s,z0:()=>r});const o="__UNIVERSAL_DATA_FOR_REHYDRATION__",n="__$UNIVERSAL_DATA$__",a="__DEFAULT_SCOPE__",s=Symbol("i"),r=Symbol("s")},19571:(e,t,i)=>{i.d(t,{bX:()=>n,JT:()=>a}),i(91051);var o=i(67779);function n(e,t){var i,n,a,s;if(!window[o.xV]){let e={};try{e=JSON.parse(null!==(n=null===(i=document.getElementById(o.$w))||void 0===i?void 0:i.textContent)&&void 0!==n?n:"{}")}catch(e){console.error("error while parsing rehydration data")}window[o.xV]=e}return null!==(s=null===(a=window[o.xV][null!=t?t:o.X1])||void 0===a?void 0:a[e])&&void 0!==s?s:null}function a(e,t){var i,n;if(null===(i=window[o.xV])||void 0===i?void 0:i[o.z0])throw new Error("set universal data is not allowed after ReactDom kicked in");let a="",s="";"string"==typeof e?a=e:(a=e.key,s=null!==(n=e.scope)&&void 0!==n?n:""),window[o.xV]=window[o.xV]||{[o.FT]:!0},function(e,t,i){let o=e,n=0;for(;o&&n<t.length-1;){const e=t[n];o[e]=o[e]||{},o=o[e],n++}o&&(o[t[n]]=i)}(window[o.xV],[s||o.X1,a],t)}},66147:(e,t,i)=>{i.d(t,{NT:()=>l,tB:()=>c});var o,n,a,s,r=i(95872);!function(e){e.Show="livesdk_live_show",e.Duration="livesdk_live_window_duration_v2",e.StartPlay="livesdk_live_window_play",e.RecPlay="livesdk_rec_live_play",e.Follow="livesdk_follow",e.Unfollow="livesdk_unfollow"}(o||(o={})),function(e){e.OneColumn="one_column",e.BrowserMode="browser_mode"}(n||(n={})),function(e){e.Cell="live_cell",e.Head="live_head",e.Btn="live_btn"}(a||(a={})),function(e){e.FYP="homepage_hot",e.FollowingPage="homepage_follow"}(s||(s={}));const l={0:"video_live",1:"third_party",2:"media",3:"audio",4:"screen_share",5:"social_live",6:"live_studio"},c={handleLiveShow:e=>{r.W.event("livesdk_live_show",Object.assign({enter_from_merge:"homepage_hot",enter_method:"live_cell",action_type:"click",live_type:l[Number(e.live_room_mode)]},e))},handleLiveEntranceClick:e=>{r.W.event("livesdk_rec_live_play",Object.assign({enter_from_merge:"homepage_hot",action_type:"click",live_type:l[Number(e.live_room_mode)]},e))},handleLiveDuration:e=>{r.W.event("livesdk_live_window_duration_v2",Object.assign({enter_from_merge:"homepage_hot",action_type:"click",live_type:l[Number(e.live_room_mode)]},e))},handleFollow:e=>{r.W.event("livesdk_follow",Object.assign({enter_from_merge:"homepage_hot",action_type:"click",live_type:l[Number(e.live_room_mode)]},e))},handleUnFollow:e=>{r.W.event("livesdk_unfollow",Object.assign({enter_from_merge:"homepage_hot",action_type:"click",live_type:l[Number(e.live_room_mode)]},e))},handleStartPlay:e=>{r.W.event("livesdk_live_window_play",Object.assign({enter_from_merge:"homepage_hot",action_type:"click",live_type:l[Number(e.live_room_mode)]},e))}}},24376:(e,t,i)=>{i.d(t,{hw:()=>o,Gb:()=>n,lF:()=>a,HW:()=>s,vN:()=>r,m8:()=>l,eL:()=>c,WD:()=>d,a9:()=>u,Ji:()=>p});const o="webapp_launch_mode",n="webapp_original_traffic_type",a="webapp_extra_data",s="webapp_session_id",r="webapp_tiktok_open",l="webapp_tiktok_privious",c="others",d="direct",u=/h5_t|h5_m|landing_page|webapp/,p=/embed/},95872:(e,t,i)=>{i.d(t,{W:()=>d});var o=i(67929),n=i.n(o),a=i(77966),s=i(24376),r=i(85782),l=i(41279),c=i(73726);const d=new class{constructor(e=i(38298).Z,t=[],o=!1,n={}){this.instance=e,this.missEventsCaches=t,this.initialized=o,this.baseConfig=n,this.commonEventParams={},this.exposedExperiments=new Set,this.webExperimentExposeCallback=(e,t)=>{t&&this.exposedExperiments.add(e)}}get commonParams(){return this.commonEventParams}get isOff(){return!1}get isDebugOn(){return!1}get initDimensionalData(){return this.dimensionalData||(this.dimensionalData=this.getDimensionalData()),this.dimensionalData}config(e){const{initConfig:t,commonHeaderConfig:i,commonEventParams:o}=e;if(this.initialized||this.init(t),i){const e=(0,r.pm)();this.baseConfig=n()(this.baseConfig,i,{evtParams:{object_id:e.object_id}})}o&&(this.baseConfig=n()(this.baseConfig,{evtParams:{page_name:o.page_name,enter_from:o.enter_from}}),this.commonEventParams=Object.assign(Object.assign({},this.commonEventParams),o)),this.instance.config(this.baseConfig)}beconEvent(e,t={}){if(this.initialized&&!this.isOff)try{this.instance.beconEvent(e,Object.assign(Object.assign({},this.commonEventParams),t))}catch(e){}}event(e,t={}){if(this.isOff)return;if(!this.initialized)return void this.missEventsCaches.push([e,t]);let i=Object.assign(Object.assign({},this.commonEventParams),t);try{this.isDebugOn&&(console.log(`[tea]: ${e}`),console.log(i)),this.instance.event(e,i),this.missEventsCaches.length&&(this.missEventsCaches.forEach((t=>{i=Object.assign(Object.assign({},this.commonEventParams),t[1]),this.instance.event(t[0],i),this.isDebugOn&&(console.log(`[tea]: send cached event-${e}`),console.log(i))})),this.missEventsCaches.length=0)}catch(e){}}setDomain(e){this.instance.setDomain(e),this.instance.event("reactive_domain")}resetStayDuration(e,t,i){this.instance.resetStayDuration(e,t,i)}getDimensionalData(){var e;const t=(0,r.pm)();"microsoft-store"!==t["app-install-source"]&&"app-info://platform/microsoft-store"!==document.referrer||(t.source="msft");const{traffic_type:i,referer_video_id:o,refer:n,source:d="",referer_url:u}=t,p=(null!==(e=new RegExp(`${location.origin}/(@?\\w+)`).exec(document.referrer))&&void 0!==e?e:[])[1],m=(0,a.W7)(navigator.userAgent)?"mobile":"pc",h=(0,l.R)(u),v=(0,c.cf)();return(0,r.Gl)(t),this.dimensionalData={device:m,launch_mode:v,traffic_type:null!=i?i:h,source:s.a9.test(d)?"":d,referer_video_id:o,utm_source:t.utm_source,utm_medium:t.utm_medium,utm_campaign:t.utm_campaign,utm_term:t.utm_term,utm_content:t.utm_content,embed_source:t.embed_source,referer_url:u?decodeURIComponent(u):(null==n?void 0:n.replace(s.Ji,""))||p||document.referrer||s.WD},this.dimensionalData}getSessionId(e){let t=(0,r.St)(s.HW);return t||(t=e+Date.now().toString(),(0,r.D9)("webapp_session_id",t)),t}getLandingPage(e){const t=(0,r.St)(s.vN);return t?(this.commonEventParams.is_landing_page=0,t):(this.commonEventParams.is_landing_page=1,(0,r.D9)(s.vN,e),e)}getPreviousInfo(e){var t;let i={};try{i=JSON.parse(null!==(t=(0,r.St)(s.m8))&&void 0!==t?t:"null")||{}}catch(e){i={}}return location.href!==i.href||e!==i.pageName?((0,r.D9)(s.m8,JSON.stringify({href:location.href,pageName:e,twoPrev:i.pageName,twoPrevHref:i.href})),i.pageName):i.twoPrev}getVar(e,t){var i;const o=this.webExperimentExposeCallback.bind(null,e);return this.exposedExperiments.has(e)||this.instance.getVar(e,t,o),(null===(i=this.webExperiments)||void 0===i?void 0:i.values)&&this.webExperiments.values[e]||{}}getVarWithCb(e,t,i){this.instance.getVar(e,t,i)}initWebExperiments(){this.instance.getAllVars((e=>{this.webExperiments={values:e,isReady:!0}}))}init(e){var t;this.instance.init({site_name:"",enable_ttwebid:!0,channel_domain:e.channel_domain,app_id:e.id,enable_stay_duration:null===(t=e.enable_stay_duration)||void 0===t||t,channel_type:"tcpy",enable_ab_test:!0,ab_channel_domain:e.ab_channel_domain||e.channel_domain,commonParams:{page_type:!0}}),this.initialized=!0,this.instance.start(),this.initWebExperiments()}}},85782:(e,t,i)=>{i.d(t,{pm:()=>n,Gl:()=>a,St:()=>s,D9:()=>r});var o=i(90293);function n(){if("undefined"==typeof document)return{};const e=(0,o.parse)(location.search,{arrayFormat:"bracket"});return Object.keys(e).forEach((t=>{var i,o;"string"!=typeof e[t]&&(e[t]=null!==(o=null===(i=e[t])||void 0===i?void 0:i[0])&&void 0!==o?o:"")})),e}function a(e){["utm_source","utm_medium","utm_campaign","utm_term","utm_content","referer_url","referer_video_id"].forEach((t=>{var i;e[t]&&r(t,null!==(i=e[t])&&void 0!==i?i:"")}))}function s(e,t=""){var i;try{return null!==(i=sessionStorage.getItem(e))&&void 0!==i?i:t}catch(e){return t}}function r(e,t){try{sessionStorage.setItem(e,t)}catch(e){}}},73726:(e,t,i)=>{i.d(t,{cf:()=>r});var o=i(77966),n=i(24376),a=i(85782),s=i(41279);function r(e){var t;const i=null!=e?e:(0,a.pm)();"microsoft-store"!==i["app-install-source"]&&"app-info://platform/microsoft-store"!==(null===document||void 0===document?void 0:document.referrer)||(i.source="msft");const{lm:r,refer:l,source:c="",is_from_webapp:d,referer_url:u="",_r:p,previous_launch_mode:m,previous_langding_page:h}=i,v=(null!==(t=new RegExp(`${location.origin}/(@?\\w+)`).exec(document.referrer))&&void 0!==t?t:[])[1],f=(0,a.St)(n.hw,void 0),g="embed"===v||"embed"===l,_="creator_embed"===l,b="amp"===v||/^amp_\w+/.test(u);if(f&&!g&&!b&&!_)return f;const w=function({device:e,source:t,lm:i,siteOnePath:o,refer:n,refererUrl:a="",fromWebapp:s,queryR:r,trafficType:l,previousLaunchMode:c}){const d="embed"===o||"embed"===n,u="creator_embed"===n,p="music_embed"===n,m="hashtag_embed"===n,h="curated_embed"===n,v="trending_embed"===n,f="amp"===o||/^amp_\w+/.test(a);return c||("msft"===t?"msft":"twa"===t?"twa":"push"===t?"push":"undefined"!=typeof window&&(navigator.standalone||"pc"===e&&window.matchMedia("(display-mode: standalone), (display-mode: minimal-ui)").matches||"mobile"===e&&window.matchMedia("(display-mode: standalone), (display-mode: minimal-ui), (display-mode: fullscreen)").matches)?"pwa":"11"===i?"paid":d?"referral_embed":u?"referral_creator_embed":p?"referral_music_embed":m?"referral_hashtag_embed":v?"referral_trending_embed":h?"referral_curated_embed":f?"referral_amp":"tiktok_browse"===n?"referral_tiktok_browse":/google|yahoo|yandex|bing|naver|duckduckgo/gi.test(l)?"organic":"1"===r?"reflow":"webapp"===t||s?"webapp_reflow":n||a||"undefined"!=typeof document&&document.referrer?"referral":"direct")}({refer:l,device:(0,o.W7)(navigator.userAgent)?"mobile":"pc",refererUrl:u,lm:r,trafficType:(0,s.R)(u),source:c,fromWebapp:d,siteOnePath:v,queryR:p,previousLaunchMode:m});return(0,a.D9)(n.hw,w),h&&(0,a.D9)(n.vN,h),m&&window.history.replaceState({},"",((e,t=!1)=>{const i=new URL(window.location.href);if(t){const{origin:e,pathname:t}=i;return`${e}${t}`}return e.forEach((e=>i.searchParams.delete(e))),i.href})(["previous_launch_mode","previous_langding_page"])),w}},41279:(e,t,i)=>{i.d(t,{R:()=>a});var o=i(24376),n=i(85782);function a(e){var t;let i;const a="undefined"!=typeof window;if(a&&(e=e?decodeURIComponent(e):document.referrer,i=(0,n.St)(o.Gb)),!i){if(e){const n=/https?:\/\/.*(google|yahoo|yandex|bing|naver|duckduckgo|neeva|wikipedia|facebook|instagram|youtube|twitter|tiktok|buzzfeed|debate|greenlemon|cloudfront|multimedios|huffpost|sdpnoticias|pinterest|bluradio|eluniversal|elcomercio|insider|medialeaks|intheknow|distractify|telediario|msn|linkedin|discord|whatsapp|telegram|viber|reddit|twitch|snapchat|messenger).*\/?/;i=(null!==(t=e.match(n))&&void 0!==t?t:[])[1]||o.eL}else i="no_referrer";a&&(0,n.D9)(o.Gb,i)}return i}}},e=>{e.O(0,[6169,8084,9505,7267,3609,1815,4736],(()=>(81126,e(e.s=81126)))),e.O()}]);