"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7198],{32455:(e,t,i)=>{i.d(t,{Z:()=>z});var o=i(11040),a=i(9236),n=i(91051),r=i(64047),s=i(34827),l=i(69709),d=i(73560);const c=(0,n.forwardRef)(((e,t)=>{const{defaultVolume:i,defaultMuted:a,onVolumeChange:r,onMutedChange:c,showVolumeIcon:u}=e,p=(0,n.useRef)(null),{xgplayer:m,mutedPlay:h,handlePlayerDestroy:v}=(0,s.n)(Object.assign(Object.assign({},e),{playerContainerRef:p}));return(0,n.useImperativeHandle)(t,(()=>({destroy:()=>{v()},retry:()=>{var e;null===(e=m.current)||void 0===e||e.retry()}}))),(0,o.jsx)(d.Id,Object.assign({ref:p},{children:(0,o.jsx)(d.Se,{children:(0,o.jsx)(l.Q,{xgplayer:m,visible:u,defaultVolume:i,defaultMuted:a,mutedPlay:h,onVolumeChange:r,onMutedChange:c},void 0)},void 0)}),void 0)}));var u=i(29876),p=i(1753);const m=(0,n.memo)((e=>{const{visible:t=!0,teaParams:i}=e,a=(0,r.__rest)(e,["visible","teaParams"]),{handlePlayerClick:s}=function(e=!0,t){const i=(0,n.useRef)(!1),o=(0,n.useRef)(0),a=(0,n.useRef)(t),r=(0,n.useRef)("automatic");a.current=t,(0,n.useEffect)((()=>{a.current&&u.yY.handleLiveShow(Object.assign({action_type:"click"},a.current))}),[]);const s=(0,n.useCallback)((()=>{a.current&&u.yY.handleLiveRecPlay(Object.assign({action_type:"click"},a.current));const e=Date.now()-o.current;e>0&&o.current>0&&a.current&&(u.yY.handleLiveWindowDuration(Object.assign(Object.assign({action_type:"click",duration:e},a.current),{play_type:r.current})),o.current=Date.now())}),[]);return(0,n.useEffect)((()=>{!i.current&&e&&(a.current&&(r.current=a.current.play_type),o.current=Date.now());const t=Date.now()-o.current;a.current&&i.current&&!e&&t>0&&o.current>0&&(u.yY.handleLiveWindowDuration(Object.assign(Object.assign({action_type:"click",duration:t},a.current),{play_type:r.current})),o.current=Date.now()),i.current=e}),[e]),{handlePlayerClick:s}}(t,i),l=(0,n.useCallback)((()=>{s()}),[s]);return(0,o.jsx)(p.Y,Object.assign({onClick:l},{children:t?(0,o.jsx)(c,Object.assign({},a),void 0):null}),void 0)}));var h=i(78223),v=i(40340),g=i(63827),x=i(32273),f=i(4139),b=i(36488),y=i(79067);const _={id:"person-fill-8d35ca06",use:"person-fill-8d35ca06-usage",viewBox:"0 0 10 11",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 11" id="person-fill-8d35ca06"><path d="M5 .25a2.75 2.75 0 1 0 0 5.5 2.75 2.75 0 0 0 0-5.5ZM1.622 10.5c-.449 0-.802-.396-.662-.822a4.252 4.252 0 0 1 8.08 0c.14.426-.213.822-.662.822H1.622Z" clip-rule="evenodd" /></symbol>'};function j(e){const t=(0,n.useContext)(y.e);return(0,n.useLayoutEffect)((()=>(t.add(_),()=>{t.remove("person-fill-8d35ca06")})),[]),(0,o.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,o.jsx)("use",{xlinkHref:"#person-fill-8d35ca06"},void 0)}),void 0)}const w={id:"thumbs-up-fill-6a32cddf",use:"thumbs-up-fill-6a32cddf-usage",viewBox:"0 0 10 11",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 11" id="thumbs-up-fill-6a32cddf"><path d="M6.512 3.784V2.036c0-.51-.272-.957-.677-1.203-.395-.239-.842-.006-1.029.417L3 4.625v5.5c0 .069.056.125.125.125h5.29a.933.933 0 0 0 .931-.796l.643-4.469a.939.939 0 0 0-.218-.755.93.93 0 0 0-.713-.321H6.637a.125.125 0 0 1-.125-.125Zm-4.387.824c.069 0 .125.056.125.125v5.392a.125.125 0 0 1-.125.125h-.823A1.05 1.05 0 0 1 .25 9.326V5.584c.07-.537.523-.985 1.052-.976h.823Z" /></symbol>'};function k(e){const t=(0,n.useContext)(y.e);return(0,n.useLayoutEffect)((()=>(t.add(w),()=>{t.remove("thumbs-up-fill-6a32cddf")})),[]),(0,o.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,o.jsx)("use",{xlinkHref:"#thumbs-up-fill-6a32cddf"},void 0)}),void 0)}var C;!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(C||(C={}));const I=(0,f.Z)("div",{target:"ej426ge0"})((({theme:{direction:e,fontFamilies:t,fontWeights:i}})=>[{position:"absolute",height:"17px",display:"flex",alignItems:"center",fontFamily:t.Proxima,fontWeight:i.semiBold,top:"8px",zIndex:10},(0,b.YJ)({direction:e,start:"8px"})]),"label:LiveTag;"),T=(0,f.Z)("div",{target:"ej426ge1"})((({position:e})=>[{padding:"0 4px",height:"17px",display:"flex",alignItems:"center"},0===e?{background:"linear-gradient(131.17deg, #ff1764 0%, #ed3495 94.15%)",borderBottomLeftRadius:"2px",borderTopLeftRadius:"2px"}:{background:"rgba(37, 37, 37, 0.6)",borderBottomRightRadius:"2px",borderTopRightRadius:"2px"}]),"label:LiveTextWrap;"),D=(0,f.Z)("div",{target:"ej426ge2"})((({theme:{direction:e}})=>[{color:"#fff",textAlign:"center"},(0,b.YJ)({direction:e,marginStart:"2px"})]),"label:LiveText;"),P={width:"12px",height:"12px",color:"#fff"},O=(0,f.Z)(k,{target:"ej426ge5"})(P,"label:IconThumbsUp;"),S=(0,f.Z)(j,{target:"ej426ge6"})(P,"label:IconPerson;");function Z(e=0){return e<1e3?e.toString():e<1e5?`${(e/1e3).toFixed(1)}K`:e<1e6?`${(e/1e3).toFixed(0)}K`:`${(e/1e6).toFixed(1)}M`}const L=(0,n.memo)((function({live:e}){const{user_count:t=0,like_count:i=0}=e,a=(0,x.Q)();let n=S,r=Z(t);return t<=50&&i>t&&(n=O,r=Z(i)),(0,o.jsxs)(I,{children:[(0,o.jsx)(T,Object.assign({position:0},{children:(0,o.jsx)(D,{children:a("pm_main_live_entry_final")},void 0)}),void 0),(0,o.jsxs)(T,Object.assign({position:1},{children:[(0,o.jsx)(n,{},void 0),(0,o.jsx)(D,{children:r},void 0)]}),void 0)]},void 0)})),q=(0,f.Z)("div",{target:"e1474lcs0"})((({horizontal:e,mode:t,theme:{colors:i}})=>[{width:"100%",height:"100%",overflow:"hidden",position:"relative",backgroundColor:i.BGPlaceholderDefault,backgroundSize:e?"contain":"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},1===t?{display:"flex",alignItems:"center",justifyContent:"center",backgroundSize:"cover"}:null]),"label:DivLink;"),M=(0,f.Z)("img",{target:"e1474lcs1"})({width:"100%",height:"100%",objectFit:"cover"},"label:ImgPoster;"),E=(0,f.Z)("div",{target:"e1474lcs2"})((({horizontal:e=!0,show:t=!1})=>({position:"absolute",left:0,top:0,width:"100%",height:"100%","& .xgplayer video":{display:"block",width:"100%",height:"100%",objectFit:e?"contain":"cover"},zIndex:1,opacity:t?1:0,transition:"opacity 0.5s"})),"label:DivBasicPlayerWrapper;");var B=i(76138);const z=(0,n.memo)((function({id:e,mode:t,searchType:i,search_result_id:r,searchTopCardType:s}){var l,d,c;const{live:u}=(0,a.mp)(h.m,{selector:t=>({live:t[e]}),dependencies:[e]}),[p,x]=(0,n.useState)(null!==(c=null===(d=null===(l=u.cover)||void 0===l?void 0:l.url_list)||void 0===d?void 0:d[0])&&void 0!==c?c:""),{currentVideo:f,playType:b}=(0,a.mp)(v.f),[y,_]=(0,n.useState)(!1),{keyword:j,rid:w}=(0,a.mp)(g.t8,{selector:e=>e[i],dependencies:[i]}),{isVertical:k}=(0,B.yK)(u),{streamData:C}=(0,n.useMemo)((()=>(0,B.Ue)(u)),[u]),I=(0,n.useMemo)((()=>{var e,t,i,o,a;const{ld:n,sd:r,hd:s,origin:l}=null!==(e=C.data)&&void 0!==e?e:{};return null!==(a=null===(o=null!==(i=null!==(t=null!=n?n:r)&&void 0!==t?t:s)&&void 0!==i?i:l)||void 0===o?void 0:o.main.flv)&&void 0!==a?a:""}),[C.data]),T=(0,n.useMemo)((()=>{if(!f)return!1;const{id:i,mode:o}=f,a=i===e&&o===t;return a||_(!1),a}),[e,t,f]),D=(0,n.useCallback)((()=>{_(!0)}),[]),P=(0,n.useMemo)((()=>{var e;return{enter_from_merge:"live"===i?"search_result":"general_search",enter_method:20===s?"live_cover":"live_cell",room_id:u.id_str,anchor_id:null===(e=u.owner)||void 0===e?void 0:e.id_str,search_type:"live"===i?"live":"general",search_id:w,search_result_id:null!=r?r:u.id_str,search_keyword:j,play_type:b}}),[j,u,b,w,s,i,r]),O=(0,n.useCallback)((e=>{var t,i,o;console.log(null==u?void 0:u.id_str,"======poster error, use anther url",e),x(null!==(o=null===(i=null===(t=u.cover)||void 0===t?void 0:t.url_list)||void 0===i?void 0:i[1])&&void 0!==o?o:"")}),[u]);return(0,o.jsxs)(q,Object.assign({mode:t,horizontal:!k},{children:[p?(0,o.jsx)(M,{mode:2,src:p,alt:u.title,loading:"lazy",onError:O},void 0):null,(0,o.jsx)(E,Object.assign({horizontal:!k,"data-e2e":"browse-live-player",show:T&&y},{children:(0,o.jsx)(m,{visible:T,defaultVolume:0,showVolumeIcon:!1,defaultMuted:!0,playing:!0,autoInit:!0,autoplay:!0,autoMutedPlay:!0,url:I,onLoadedData:D,teaParams:P},void 0)}),void 0),(0,o.jsx)(L,{live:u},void 0)]}),void 0)}))},76138:(e,t,i)=>{var o,a;function n(e){var t,i,o,a,n;try{const r={common:{},data:{}},s=e?JSON.parse(null!==(a=null===(o=null===(i=null===(t=e.stream_url)||void 0===t?void 0:t.live_core_sdk_data)||void 0===i?void 0:i.pull_data)||void 0===o?void 0:o.stream_data)&&void 0!==a?a:""):{};if(r.common=s.common,s.data)for(const e in s.data){if(s.data[e].main){const t=JSON.parse(s.data[e].main.sdk_params);r.data[e]={},r.data[e].main=s.data[e].main,r.data[e].main.sdk_params=t}if(s.data[e].backup){const t=JSON.parse(s.data[e].backup.sdk_params);r.data[e]=null!==(n=r.data[e])&&void 0!==n?n:{},r.data[e].backup=s.data[e].backup,r.data[e].backup.sdk_params=t}}return{streamData:r}}catch(e){return{streamData:{}}}}i.d(t,{Ue:()=>n,yK:()=>r}),function(e){e.H264="h264",e.Bytevc1="bytevc1",e.H265="h265"}(o||(o={})),function(e){e.LD="ld",e.SD="sd",e.HD="hd",e.HD60="hd_60",e.UHD="uhd",e.UHD60="uhd_60",e.ORIGIN="origin",e.AUTO="auto"}(a||(a={}));const r=e=>{var t,i,o,a,r;const{streamData:s}=n(e),l=null!==(r=null===(a=null===(o=null===(i=null===(t=s.data)||void 0===t?void 0:t.origin)||void 0===i?void 0:i.main)||void 0===o?void 0:o.sdk_params)||void 0===a?void 0:a.resolution)&&void 0!==r?r:"1920x1080",[d,c]=l.split("x");return d&&c?{isVertical:Number(d)<Number(c),width:Number(d),height:Number(c),ratio:Number(d)/Number(c),ratioStr:`${d}/${c}`}:{}}},17198:(e,t,i)=>{i.d(t,{X:()=>qt});var o,a=i(11040),n=i(9236),r=i(91051),s=i(38310),l=i(66599),d=i(93276),c=i(40340),u=i(8996),p=i(40112),m=i(23745),h=i(87342),v=i(3984),g=i(99116),x=i(3749),f=i(16926),b=i(2874),y=i(78223),_=i(33642),j=i(32273),w=i(34579),k=i(78772),C=i(9343),I=i(17133),T=i(99297),D=i(38554);!function(e){e.Compact="compact",e.Follow="following-recommend",e.SearchVideoList="search-video-list",e.Explore="explore"}(o||(o={}));const P={compact:{ratio:196/260,borderRadius:0},"following-recommend":{ratio:.75,borderRadius:8},"search-video-list":{ratio:229/305,borderRadius:2},explore:{ratio:.75,borderRadius:8}};var O=i(45313),S=i(54649),Z=i(82479),L=i(79067);const q={id:"eye-slash-0fc1400e",use:"eye-slash-0fc1400e-usage",viewBox:"0 0 48 48",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" id="eye-slash-0fc1400e"><path fill="#fff" fill-rule="evenodd" d="M37.176 41.474a.746.746 0 0 0 1.058-.011l1.738-1.787a.755.755 0 0 0-.012-1.063L7.319 6.526a.745.745 0 0 0-1.058.012L4.523 8.324a.755.755 0 0 0 .012 1.064l4.777 4.696c-3.19 2.484-5.132 5.777-5.132 9.388 0 7.737 8.914 14.01 19.91 14.01 2.794 0 5.454-.406 7.868-1.137l5.218 5.13zM17.292 21.928l-5.098-5.011c-2.797 2.004-4.032 4.377-4.032 6.555 0 2.204 1.264 4.609 4.133 6.627 2.856 2.01 7.013 3.38 11.795 3.38 1.583 0 3.098-.15 4.52-.425l-2.832-2.784a6.951 6.951 0 0 1-1.688.207c-3.849 0-6.968-3.136-6.968-7.005 0-.53.058-1.047.17-1.544z" clip-rule="evenodd" /><path fill="#fff" d="M15.88 10.706c2.503-.798 5.283-1.242 8.21-1.242C35.086 9.464 44 15.735 44 23.472c0 3.707-2.046 7.076-5.386 9.582l-2.891-2.843.162-.112c2.868-2.018 4.133-4.423 4.133-6.627 0-2.204-1.265-4.608-4.133-6.626-2.856-2.01-7.014-3.38-11.795-3.38a23.8 23.8 0 0 0-4.894.5l-3.316-3.26z" /><path fill="#fff" d="M24.09 16.468c-.709 0-1.393.106-2.038.304l8.747 8.599c.17-.604.26-1.24.26-1.899 0-3.868-3.12-7.004-6.969-7.004z" /></symbol>'};function M(e){const t=(0,r.useContext)(L.e);return(0,r.useLayoutEffect)((()=>(t.add(q),()=>{t.remove("eye-slash-0fc1400e")})),[]),(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,a.jsx)("use",{xlinkHref:"#eye-slash-0fc1400e"},void 0)}),void 0)}var E=i(95872),B=i(31222),z=i(69405),N=i(42143),F=i(80194),R=i(21985),U=i(32455),V=i(51722),A=i.n(V);function $(e,t,i,o=!1){const a="JP"===e;return{showLike:a,count:o?t:a?i:t}}var Y,J=i(49907),W=i(19813),H=i(4139),Q=i(69988),K=i(36488),G=i(75311);!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INSIDE=1]="INSIDE"}(Y||(Y={}));const X=(0,H.Z)("div",{target:"exdlci10"})((({type:e})=>[{display:"flex",alignItems:"center",overflow:"hidden",marginTop:"2px"},1===e?{position:"absolute",bottom:"0",boxSizing:"border-box",width:"100%",height:"60px",background:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(0, 0, 0, .5) 100%)",marginTop:"0",padding:"24px 12px 12px"}:null]),"label:DivCardAvatar;"),ee=(0,H.Z)(G.q,{target:"exdlci11"})({flex:"none"},"label:StyledAvatar;"),te=(0,H.Z)(J.rU,{target:"exdlci12"})({overflow:"hidden"},"label:StyledLink;"),ie=(0,H.Z)(Q.Z,{target:"exdlci13"})((({theme:{direction:e}})=>[{flex:"none"},(0,K.YJ)({direction:e,marginStart:4})]),"label:StyledVerifiedBadgeColor;"),oe=(0,H.Z)("h4",{target:"exdlci14"})((({theme:{colors:e,direction:t},type:i})=>[{display:"flex",alignItems:"center",fontSize:"16px",lineHeight:"22px",color:1===i?e.BGPrimary:e.TextSecondary,whiteSpace:"nowrap",overflow:"hidden",":hover":{textDecoration:"underline"}},(0,K.YJ)({direction:t,marginStart:1===i?4:8})]),"label:H4UserTitle;"),ae=(0,H.Z)("p",{target:"exdlci15"})((({theme:e,type:t})=>[(0,K.GI)({theme:e,fontFamily:"Proxima",fontWeight:1===t?"semiBold":"normal"}),{flex:"1",overflow:"hidden",textOverflow:"ellipsis",color:"rgba(255,255,255,1.0)"}]),"label:PUserName;"),ne=(0,r.memo)((function({videoData:e,teaParams:t,e2ePrefix:i,type:o=0}){var s;const{language:d}=null!==(s=(0,I.Lh)((()=>["language"]),[]))&&void 0!==s?s:{},{author:c,id:u}=null!=e?e:{},p=(0,n.mp)(l.z,{selector:e=>{if(c)return e.users[c]},dependencies:[c]}),{uniqueId:m="",secUid:h,avatarThumb:v,verified:g,nickname:x}=(0,_.m7)(p),f=`${(0,O.yl)({uniqueId:m,secUid:null!=h?h:""})}?lang=${d}`,b=(0,r.useCallback)((e=>i=>{null==i||i.stopPropagation(),W.W.handleEnterUser(Object.assign(Object.assign({},t),{enter_method:e,to_user_id:c,group_id:u,author_id:c}))}),[c,u,t]);return(0,a.jsxs)(X,Object.assign({type:o},{children:[(0,a.jsx)(J.rU,Object.assign({"data-e2e":`${i}-item-avatar`,to:f,onClick:b("user_portrait")},{children:(0,a.jsx)(ee,{src:v,size:24,alt:`${x},${m}`},void 0)}),void 0),(0,a.jsx)(te,Object.assign({title:m,onClick:b("user_name"),to:f},{children:(0,a.jsxs)(oe,Object.assign({type:o},{children:[(0,a.jsx)(ae,Object.assign({"data-e2e":`${i}-item-username`,className:"user-name",type:o},{children:m}),void 0),g&&(0,a.jsx)(ie,{width:14,height:14},void 0)]}),void 0)}),void 0)]}),void 0)}));var re=i(26183),se=i(837),le=i(16883),de=i(77969);const ce=(0,H.Z)("div",{target:"e148ts220"})((({notPass:e})=>[{position:"absolute",width:"100%",bottom:"0",height:e?"100%":"100px",background:e?"rgba(18, 18, 18, .5)":"linear-gradient(180deg, rgba(22, 24, 35, .0001) 2.92%, rgba(22, 24, 35, .5) 98.99%)",padding:"67px 13px 17px",paddingTop:e?"100%":"67px"},(0,K.f1)({max:479,style:e?null:{paddingTop:"72px"}})]),"label:DivCardFooter;"),ue=(0,H.Z)("span",{target:"e148ts221"})((({theme:e})=>[(0,K.GI)({theme:e,fontFamily:"Proxima",fontWeight:"semiBold",color:"ConstTextInverse"}),{verticalAlign:"middle",fontSize:"16px"},(0,K.f1)({max:479,style:{fontSize:"14px",lineHeight:"18px"}})]),"label:SpanNotPass;"),pe=(0,H.Z)("strong",{target:"e148ts222"})((({theme:e})=>[(0,K.GI)({theme:e,fontFamily:"Proxima",fontWeight:"semiBold",color:"ConstTextInverse"}),{verticalAlign:"middle",fontSize:"16px"}]),"label:StrongVideoCount;"),me=({theme:{direction:e}})=>[(0,K.YJ)({direction:e,marginEnd:4}),{verticalAlign:"middle"},(0,K.f1)({max:479,style:{verticalAlign:"-.15em"}})],he=({theme:{direction:e}})=>({float:(0,K.$K)(e,"end"),position:"relative",top:"4px"}),ve=(0,H.Z)(re.Z,{target:"e148ts223"})(me,"label:StyledHeart;"),ge=(0,H.Z)(se.Z,{target:"e148ts225"})(me,"label:StyledPlay;"),xe=(0,H.Z)(le.Z,{target:"e148ts226"})(he,"label:StyledLock3pt;"),fe=(0,H.Z)(de.Z,{target:"e148ts227"})(he,"label:StyledTwoPerson;"),be=(0,r.memo)((function({videoData:e,content:t}){var i,o;const n=(0,j.Q)(),{region:r=""}=null!==(i=(0,I.Lh)((()=>["region"]),[]))&&void 0!==i?i:{},{secret:s,forFriend:l,showNotPass:d,scheduleTime:c}=(0,_.m7)(e),{diggCount:u,playCount:p}=null!==(o=null==e?void 0:e.stats)&&void 0!==o?o:{},m=(0,_.BT)(u),h=(0,_.BT)(null!=p?p:0),{showLike:v,count:g}=$(r,h,m);return t?(0,a.jsx)(ce,Object.assign({notPass:d},{children:t}),void 0):(0,a.jsx)(ce,Object.assign({notPass:d},{children:c?null:d?(0,a.jsx)(ue,{children:n("cover_notice_violation")},void 0):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(a.Fragment,{children:[v?(0,a.jsx)(ve,{className:"like-icon",width:18,height:18,fill:"#fff"},void 0):(0,a.jsx)(ge,{"data-e2e":"video-play",className:"like-icon",width:18,height:18,fill:"#fff"},void 0),(0,a.jsx)(pe,Object.assign({"data-e2e":"video-views",className:"video-count"},{children:g}),void 0)]},void 0),s&&!l&&(0,a.jsx)(xe,{className:"private",width:18,height:18,fill:"#fff"},void 0),l&&(0,a.jsx)(fe,{className:"private",width:18,height:18,fill:"#fff"},void 0)]},void 0)}),void 0)}));var ye=i(81260),_e=i(64157),je=i(39043),we=i(15679);const ke=(0,H.Z)("div",{target:"ewsiauk0"})((({disable:e})=>e?{pointerEvents:"none"}:null),"label:DivVideoExploreCardDesc;"),Ce=(0,H.Z)("div",{target:"ewsiauk1"})((({ellipsisLine:e})=>[(0,K.FC)(e),{marginTop:"4px",wordBreak:"break-word",cursor:"pointer"}]),"label:DivMetaCaptionLine;"),Ie=(0,H.Z)("div",{target:"ewsiauk2"})((({theme:e})=>[(0,K.GI)({theme:e,fontFamily:"Proxima",fontWeight:"normal"}),{paddingTop:"4px",paddingBottom:"8px"}]),"label:DivCardBottomInfo;"),Te=(0,H.Z)("div",{target:"ewsiauk3"})((({theme:e})=>[(0,K.GI)({theme:e,typography:"P2",color:"TextSecondary"}),{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"8px"}]),"label:DivPlayLine;"),De=(0,H.Z)("div",{target:"ewsiauk4"})((({theme:{colors:e}})=>({display:"flex",alignItems:"center",flexShrink:0,fontSize:"20px",color:e.TextTertiaryAlt,cursor:"pointer"})),"label:DivPlayIcon;"),Pe=(0,H.Z)("div",{target:"ewsiauk5"})({display:"flex",alignItems:"center"},"label:DivUserInfo;"),Oe=(0,H.Z)("p",{target:"ewsiauk6"})((({theme:{direction:e}})=>[(0,K.YJ)({direction:e,marginStart:"4px",marginEnd:"4px"}),{maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis"}]),"label:PUniqueId;"),Se=(0,H.Z)("strong",{target:"ewsiauk7"})((({theme:{direction:e}})=>()=>[{fontSize:"16px",fontWeight:600},(0,K.YJ)({direction:e,marginStart:"2px"})]),"label:StrongVideoCount;"),Ze=(0,r.memo)((function({videoData:e,onClick:t,onMouseEnter:i,onLikeClick:o}){var s;const d=(0,_.m7)(e),{scheduleTime:c,author:u=""}=d,p=(0,n.mp)(l.z,{selector:e=>e.users[u],dependencies:[]}),{avatarThumb:m="",uniqueId:h="",verified:v=!1,secUid:g}=(0,_.m7)(p),x=(0,r.useMemo)((()=>{var e;return{to_user_id:null!==(e=null==p?void 0:p.id)&&void 0!==e?e:"",enter_method:"click_category_video_user_name"}}),[null==p?void 0:p.id]),{diggCount:f}=null!==(s=null==e?void 0:e.stats)&&void 0!==s?s:{},b=(0,_.BT)(f),y=2===(null==e?void 0:e.adLabelVersion);return(0,a.jsx)(ke,Object.assign({"data-e2e":"explore-card-desc",disable:c},{children:(0,a.jsxs)(Ie,{children:[(0,a.jsx)(Ce,Object.assign({ellipsisLine:y?1:2,onClick:null==t?void 0:t("video_desc"),onMouseEnter:null==i?void 0:i("hover_cover"),"data-e2e":"explore-card-video-caption"},{children:(0,a.jsx)(_e.Q,{item:e,ellipsisOnNarrow:!0,styleType:"explore"},void 0)}),void 0),(0,a.jsx)(je.C,{item:d},void 0),c?null:(0,a.jsxs)(Te,{children:[(0,a.jsxs)(Pe,{children:[(0,a.jsxs)(we.D,Object.assign({"data-e2e":"explore-card-user-link",uniqueId:h,secUid:g,teaParams:Object.assign(Object.assign({},x),{enter_method:"click_category_video_user_icon"})},{children:[(0,a.jsx)(G.q,{style:{flexShrink:0},src:m,shape:"circle",size:24},void 0)," "]}),void 0),(0,a.jsx)(we.D,Object.assign({"data-e2e":"explore-card-user-link",uniqueId:h,secUid:g,teaParams:x},{children:(0,a.jsx)(Oe,Object.assign({"data-e2e":"explore-card-user-unique-id"},{children:h}),void 0)}),void 0),v&&(0,a.jsx)(Q.Z,{"data-e2e":"explore-card-user-verified",style:{flexShrink:0},width:14,height:14},void 0)]},void 0),(0,a.jsxs)(De,Object.assign({"data-e2e":"explore-card-like-container",onClick:o},{children:[(0,a.jsx)(ye.Z,{},void 0),(0,a.jsx)(Se,{children:b},void 0)]}),void 0)]},void 0)]},void 0)}),void 0)}));var Le=i(87458),qe=i(38725),Me=i(48581);const Ee=(0,H.Z)("div",{target:"e19c29qe0"})((({theme:e})=>({width:"100%",height:"100%",left:"0",top:"0",backdropFilter:"blur(50px)",backgroundColor:e.colors.SDSecondary,position:"absolute",borderRadius:"4px"})),"label:DivMask;"),Be=(0,H.Z)("div",{target:"e19c29qe1"})((({theme:e})=>({position:"absolute",top:"50%",left:"50%",color:e.colors.ConstTextInverse,transform:"translate(-50%, -50%)"})),"label:DivMaskContainer;"),ze=(0,H.Z)("canvas",{target:"e19c29qe2"})((({horizontal:e})=>({display:"block",visibility:"hidden",[e?"width":"height"]:"100%"})),(0,K.f1)({max:479,style:{width:"100%",height:"auto"}}),"label:CanvasPlaceholder;"),Ne=(0,H.Z)("div",{target:"e19c29qe3"})({position:"relative",boxSizing:"border-box",background:"#eee center no-repeat",backgroundSize:"cover",cursor:"pointer",borderRadius:"8px",overflow:"hidden"},(({theme:{direction:e}})=>(0,K.YJ)({direction:e,marginEnd:"20px"})),(({horizontal:e})=>{const t=e?"width":"height";return[{[t]:"600px"},(0,K.f1)({max:1919,style:{[t]:"calc(450px + (100vw - 768px) / 1152 * 100)"}},{max:767,style:{[t]:"calc(380px + (100vw - 480px) / 288 * 20)"}},{max:479,style:{width:"calc(100vw - 32px - 60px)",height:"auto"}})]}),"label:DivContainer;");Ne.defaultProps=Object.assign(Object.assign({},Ne.defaultProps),{"data-e2e":"feed-video"});const Fe=(0,H.Z)("div",{target:"e19c29qe4"})({position:"absolute",left:0,top:0,width:"100%",height:"100%"},"label:DivPlayerContainer;"),Re=(0,H.Z)("div",{target:"e19c29qe6"})({position:"absolute",bottom:0,left:0,right:0},"label:DivWarnInfoPosition;"),Ue=(0,H.Z)("div",{target:"e19c29qe7"})((({theme:e})=>[(0,K.YJ)({direction:e.direction}),{borderRadius:"4px"}]),"label:DivItemContainerV2;"),Ve=(0,H.Z)("div",{target:"e19c29qe8"})((({theme:{direction:e},hasDescUnderItem:t})=>[{display:"block",float:(0,K.$K)(e,"start")},(0,K.YJ)({direction:e,marginEnd:"2px"}),t?{width:"190px",marginBottom:"12px",":nth-of-type(even)":(0,K.YJ)({direction:e,marginEnd:"12px"}),":nth-of-type(odd)":(0,K.YJ)({direction:e,marginEnd:"12px"}),":nth-of-type(3n)":(0,K.YJ)({direction:e,marginEnd:"0"})}:{width:"196px",marginBottom:"2px",":nth-of-type(even)":[(0,K.YJ)({direction:e,marginEnd:"2px"})]},(0,K.f1)({max:1071,style:t?{width:"calc(50% - 6px)",height:"auto",":nth-of-type(3n)":(0,K.YJ)({direction:e,marginEnd:"12px"}),":nth-of-type(even)":(0,K.YJ)({direction:e,marginEnd:"0"})}:{width:"50%",height:"auto",":nth-of-type(even)":[(0,K.YJ)({direction:e,marginEnd:"-2px"})]}})]),"label:DivItemContainer;"),Ae=(0,H.Z)("div",{target:"e19c29qe9"})((({theme:{direction:e}})=>[{display:"block",float:(0,K.$K)(e,"start"),borderRadius:"2px"},(0,K.YJ)({direction:e,marginEnd:"2px"}),{width:"calc(33.3% - 12px)",marginInlineEnd:"12px"},(0,K.f1)({max:1071,style:{width:"calc(50% - 12px)",marginEnd:"12px"}})]),"label:DivItemContainerForSearch;"),$e=(0,H.Z)("div",{target:"e19c29qe10"})((({theme:e})=>[(0,K.YJ)({direction:e.direction,marginStart:"8px"}),{position:"absolute",top:"8px",padding:"4px 5px",borderRadius:"2px",background:e.colors.Primary}]),"label:DivVideoTagContainer;"),Ye=(0,H.Z)("span",{target:"e19c29qe11"})((({theme:e})=>[(0,K.GI)({theme:e,typography:"P3",color:"ConstTextInverse",fontFamily:"Proxima",fontWeight:"semiBold"}),{position:"relative",zIndex:2}]),"label:SpanVideoTag;"),Je=(0,H.Z)("span",{target:"e19c29qe12"})((({theme:{colors:e}})=>[{display:"flex",justifyContent:"center",alignItems:"center",height:"33px",background:e.BGInverse3,lineHeight:"33px",fontSize:"13px",color:"#fff"}]),"label:SpanScheduleTimeWarn;"),We=(0,H.Z)(qe.Z,{target:"e19c29qe13"})((({theme:{direction:e}})=>[(0,K.YJ)({direction:e,marginEnd:5})]),"label:StyledClock;"),He=(0,H.Z)("div",{target:"e19c29qe14"})((({theme:e})=>[(0,K.GI)({theme:e,typography:"P2",color:"ConstTextInverse",fontFamily:"Proxima",fontWeight:"semiBold"}),{width:"88px",height:"20px",display:"flex",alignItems:"center"}]),"label:DivTimeTag;"),Qe=(0,H.Z)("div",{target:"e19c29qe15"})((({theme:{direction:e}})=>[Object.assign({position:"absolute",top:"12px",color:"#fff"},(0,Me.s)()),(0,K.YJ)({direction:e,end:"12px"})]),"label:DivPhotoIconContainer;"),Ke=(0,H.Z)("img",{target:"e19c29qe16"})({width:"100%",height:"100%",objectFit:"cover",transition:"transform 150ms linear",":hover":{transform:"scale(1.1)"}},"label:ImgPoster;"),Ge=(0,H.Z)("div",{target:"e19c29qe17"})({display:"flex",alignItems:"center",flexShrink:0,position:"absolute",width:"100%",bottom:"0",height:"100px",background:"linear-gradient(180deg, rgba(22, 24, 35, .0001) 2.92%, rgba(22, 24, 35, .5) 98.99%)",padding:"67px 12px 12px"},"label:DivPlayContainer;"),Xe=(0,H.Z)(se.Z,{target:"e19c29qe18"})((({theme:{direction:e}})=>[{verticalAlign:"middle"},(0,K.YJ)({direction:e,marginEnd:4})]),"label:StyledPlay;"),et=(0,H.Z)("strong",{target:"e19c29qe19"})({fontSize:"16px",lineHeight:"24px",fontWeight:600,color:"#fff"},"label:StrongVideoCount;");var tt=i(68605);const it=(0,H.Z)("a",{target:"epeqwgm0"})({display:"block",marginTop:"4px",":hover":{textDecoration:"none"}},"label:AMetaCaptionLine;"),ot=(0,H.Z)("div",{target:"epeqwgm1"})((({theme:e})=>[(0,K.GI)({theme:e,fontFamily:"Proxima",fontWeight:"normal"}),{padding:"2px 4px 0px",cursor:"hover",height:"28px",overflow:"hidden",boxSizing:"content-box"}]),"label:DivQuestionCardDesc;"),at={enter_method:"video_desc"},nt=(0,r.memo)((function(e){var t,i,o;const{videoData:r,mode:s}=e,{user:l}=(0,_.m7)((0,I.Lh)((()=>["user"]),[])),d=null==l?void 0:l.ftcUser,{scheduleTime:c,warnInfo:u=[]}=(0,_.m7)(r),{questionInfo:p}=(0,n.mp)(tt.D,{selector:e=>({questionInfo:e.questionInfo}),dependencies:[]}),m=u&&u.length>0,{content:h="",id:v=""}=(0,_.m7)(p),g=`https://www.tiktok.com${(0,O._9)({questionId:v,questionContent:h})}`,x=Boolean(c||d);return m?null:(0,a.jsx)(ot,Object.assign({onClick:null===(t=e.onClick)||void 0===t?void 0:t.call(e,"click_blank"),onMouseEnter:null===(i=e.onMouseEnter)||void 0===i?void 0:i.call(e,"hover_blank")},{children:(0,a.jsx)(it,Object.assign({"data-e2e":"question-item-caption",onClick:null===(o=e.onClick)||void 0===o?void 0:o.call(e,"video_desc"),title:null==r?void 0:r.desc,href:g},{children:(0,a.jsx)(_e.Q,{mode:s,ellispsisLine:1,styleType:"question",item:r,ellipsisOnNarrow:!0,reportParams:at,shouldReport:x},void 0)}),void 0)}),void 0)}));var rt=i(74820),st=i(43226),lt=i.n(st),dt=i(35199),ct=i(50894),ut=i(25772);const pt=(0,H.Z)("div",{target:"etrd4pu0"})((({disable:e})=>({pointerEvents:e?"none":"auto",padding:"0 8px"})),"label:DivVideoSearchCardDesc;"),mt=(0,H.Z)("div",{target:"etrd4pu1"})([(0,K.FC)(2),{marginTop:"4px",wordBreak:"break-word",cursor:"pointer"}],"label:DivMetaCaptionLine;"),ht=(0,H.Z)("div",{target:"etrd4pu2"})((({theme:e})=>[(0,K.GI)({theme:e,fontFamily:"Proxima",fontWeight:"normal"}),{paddingTop:"4px",paddingBottom:"26px"}]),"label:DivCardBottomInfo;"),vt=(0,H.Z)("div",{target:"etrd4pu3"})((({theme:e})=>[(0,K.GI)({theme:e,typography:"P2",color:"TextSecondary"}),{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"4px"}]),"label:DivPlayLine;"),gt=(0,H.Z)("div",{target:"etrd4pu4"})({display:"flex",alignItems:"center",flexShrink:0},"label:DivPlayIcon;"),xt=({theme:{direction:e}})=>[{verticalAlign:"middle"},(0,K.YJ)({direction:e,marginEnd:4})],ft=(0,H.Z)("div",{target:"etrd4pu5"})({display:"flex",alignItems:"center"},"label:DivUserInfo;"),bt=(0,H.Z)("p",{target:"etrd4pu6"})((({theme:{direction:e}})=>[(0,K.YJ)({direction:e,marginStart:"4px",marginEnd:"4px"}),{maxWidth:"100px",overflow:"hidden",textOverflow:"ellipsis"}]),"label:PUniqueId;"),yt=(0,H.Z)(re.Z,{target:"etrd4pu7"})(xt,"label:StyledHeart;"),_t=(0,H.Z)(ut.Z,{target:"etrd4pu8"})(xt,"label:StyledHeartFill;"),jt=(0,H.Z)(se.Z,{target:"etrd4pu9"})(xt,"label:StyledPlay;"),wt=(0,H.Z)("strong",{target:"etrd4pu10"})({fontWeight:"normal"},"label:StrongVideoCount;"),kt=(0,r.memo)((function({videoData:e,reportParams:t,onClick:i,onMouseEnter:o,onReportClick:d,hasPlayInfo:c=!0,id:u}){var p,m;const h=(0,_.m7)(e),{scheduleTime:v,id:g="",digged:x,author:f=""}=h,b=(0,n.mp)(l.z,{selector:e=>e.users[f],dependencies:[]}),{avatarThumb:y="",uniqueId:j="",verified:w=!1,secUid:k}=(0,_.m7)(b),C=(0,dt.CN)(Object.assign({user:b,enterMethod:"click_search_result"},t)),{region:T=""}=null!==(p=(0,I.Lh)((()=>["region"]),[]))&&void 0!==p?p:{},{diggCount:D,playCount:P=0}=null!==(m=null==e?void 0:e.stats)&&void 0!==m?m:{},O=(0,_.BT)(D),S=(0,_.BT)(P),{showLike:Z,count:L}=$(T,S,O),q=(0,n.qj)(s.A),M=(0,r.useCallback)((()=>{q.postLikeVideo(Object.assign({id:g,enter_method:"click",channel_id:23},t))}),[g,q,t]),E=(0,ct.X)({action:Z?M:lt(),modalConfig:{query:{enter_method:"click_like",redirect_url:window.location.href}}}),B=(0,r.useCallback)((()=>{null==d||d()}),[d]),{colors:z}=(0,rt.u)();return(0,a.jsx)(pt,Object.assign({"data-e2e":"search-card-desc",disable:v},{children:(0,a.jsxs)(ht,{children:[(0,a.jsx)(mt,Object.assign({onClick:null==i?void 0:i("video_desc"),onMouseEnter:null==o?void 0:o("hover_cover"),"data-e2e":"search-card-video-caption"},{children:(0,a.jsx)(_e.Q,{item:e,ellipsisOnNarrow:!0,reportParams:t,onSearchResultClick:d},void 0)}),void 0),(0,a.jsx)(je.C,{item:h},void 0),v?null:(0,a.jsxs)(vt,{children:[(0,a.jsx)(we.D,Object.assign({"data-e2e":"search-card-user-link",uniqueId:j,secUid:k,teaParams:C,id:u,onClick:B},{children:(0,a.jsxs)(ft,{children:[(0,a.jsx)(G.q,{style:{flexShrink:0},src:y,shape:"circle",size:24},void 0)," ",(0,a.jsx)(bt,Object.assign({"data-e2e":"search-card-user-unique-id"},{children:j}),void 0),w&&(0,a.jsx)(Q.Z,{"data-e2e":"search-card-user-verified",style:{flexShrink:0},width:14,height:14},void 0)]},void 0)}),void 0),c&&(0,a.jsxs)(gt,Object.assign({"data-e2e":"search-card-like-container",onClick:E},{children:[Z?x?(0,a.jsx)(_t,{className:"like-icon",width:18,height:18,fill:z.Primary},void 0):(0,a.jsx)(yt,{className:"like-icon",width:18,height:18,fill:z.TextReverse2},void 0):(0,a.jsx)(jt,{className:"like-icon",width:16,height:16,fill:z.TextReverse2},void 0),(0,a.jsx)(wt,{children:L},void 0)]}),void 0)]},void 0)]},void 0)}),void 0)})),Ct=(0,H.Z)("a",{target:"eih2qak0"})({display:"block",marginTop:"4px",":hover":{textDecoration:"none"}},"label:AMetaCaptionLine;"),It=(0,H.Z)("div",{target:"eih2qak1"})((({theme:e})=>[(0,K.GI)({theme:e,fontFamily:"Proxima",fontWeight:"normal"}),{padding:"2px 4px 0px",cursor:"hover",height:"28px",overflow:"hidden",boxSizing:"content-box"}]),"label:DivTagCardDesc;"),Tt={enter_method:"video_desc"},Dt=(0,r.memo)((function(e){var t,i,o,r;const{videoData:s,mode:d,itemListKey:c}=e,{user:u}=null!==(t=(0,I.Lh)((()=>["user"]),[]))&&void 0!==t?t:{},p=null==u?void 0:u.ftcUser,{scheduleTime:m,warnInfo:h=[],id:v="",authorId:g}=null!=s?s:{},x=(0,n.mp)(l.z,{selector:e=>{if(g)return e.users[g]},dependencies:[g]}),{uniqueId:f=""}=null!=x?x:{},b=h&&h.length>0,y=`https://www.tiktok.com${(0,O.fH)({uniqueId:f,videoId:v})}`,_=Boolean(m||p);return b?null:(0,a.jsx)(It,Object.assign({"data-e2e":`${c}-item-desc`,onClick:null===(i=e.onClick)||void 0===i?void 0:i.call(e,"click_blank"),onMouseEnter:null===(o=e.onMouseEnter)||void 0===o?void 0:o.call(e,"hover_blank")},{children:(0,a.jsx)(Ct,Object.assign({onClick:null===(r=e.onClick)||void 0===r?void 0:r.call(e,"video_desc"),title:null==s?void 0:s.desc,href:y},{children:(0,a.jsx)(_e.Q,{mode:d,ellispsisLine:1,styleType:"tag",item:s,ellipsisOnNarrow:!0,reportParams:Tt,shouldReport:_},void 0)}),void 0)}),void 0)})),Pt=[3,16,4,18,121],Ot=(0,r.memo)((0,r.forwardRef)((function({index:e,id:t,pageType:i,itemListKey:o,mode:d="compact",hasDescUnderItem:p,borderRadius:v,teaParams:g,searchTopCardType:x,handleClick:L,searchType:q},V){var $,Y,J,W,H,Q,K;const G=(0,n.mp)(y.m,{selector:e=>e[t],dependencies:[t]}),X=(0,n.mp)(s.A,{selector:e=>e[t],dependencies:[t]}),ee=(0,r.useMemo)((()=>123===i||61===x),[i,x]),{video:te,itemMute:ie=!1,warnInfo:oe,desc:ae="",showNotPass:re=!1,author:se="",scheduleTime:le,authorId:de="",secret:ce=!1,forFriend:ue=!1,adLabelVersion:pe}=(0,_.m7)(X),{playAddr:me="",cover:he="",zoomCover:ve,originCover:ge,dynamicCover:xe="",duration:fe,bitrateInfo:ye,volumeInfo:_e,bitrate:je,encodedType:we="",format:ke="",videoQuality:Ce="",encodeUserTag:Ie="",codecType:Te="",definition:De=""}=(0,_.m7)(te),Pe=null!==(Y=null!==($=(null==ve?void 0:ve[480])||he)&&void 0!==$?$:ge)&&void 0!==Y?Y:xe,Oe=(0,j.Q)(),Se=(({item:e,itemListKey:t})=>{const i=(0,j.Q)(),{originalItem:o,officalItem:n}=null!=e?e:{},r=Boolean(o);return Boolean(n)?(0,a.jsx)($e,Object.assign({"data-e2e":`${t}-official`},{children:(0,a.jsx)(Ye,{children:i("official_tag")},void 0)}),void 0):r?(0,a.jsx)($e,Object.assign({"data-e2e":`${t}-original`},{children:(0,a.jsx)(Ye,{children:i("original_tag")},void 0)}),void 0):null})({item:X,itemListKey:o}),qe=(0,n.mp)(w.bg,{selector:e=>e.blockedVideos||[],dependencies:[]}),Me=(0,n.qj)(w.bg),Ne=(0,n.qj)(c.f),tt=(0,n.mp)(l.z,{selector:e=>{if(se)return e.users[se]},dependencies:[X]}),{uniqueId:it="",secUid:ot="",nickname:at}=(0,_.m7)(tt),{music:rt}=(0,_.m7)(X),{title:st,authorName:lt}=(0,_.m7)(rt),dt=Oe("seo_user_video_cover",{videoText:null==X?void 0:X.desc,videoAuthor:at,musicAuthor:lt,musicName:st}),ct=function(e){const{teaParams:t,id:i,pageType:o}=e;return(0,r.useMemo)((()=>{const{search_id:e,search_keyword:a}=null!=t?t:{};let n,r={};switch(e&&(r=Object.assign(Object.assign({},r),{search_id:e,impr_id:e,search_keyword:a,search_result_id:i})),o){case 105:n="general";break;case 106:n="user";break;case 107:n="video";break;case 123:n="live";break;default:n=void 0}return n&&(r.search_type=n),r}),[t,i,o])}({teaParams:g,id:t,pageType:i}),ut=(0,k.K$)(X),pt=(0,k.g7)(X,i),mt=(0,r.useMemo)((()=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},g),ct),{group_id:t,author_id:de,is_scheduled:Boolean(le),bitrate:Number(je),encodedType:we,format:ke,videoQuality:Ce,encodeUserTag:Ie,codecType:Te,definition:De,secret:ce,forFriend:ue,isPaidPartnership:2===pe}),ut),pt)),[g,ct,t,de,le,je,we,ke,Ce,Ie,Te,De,ce,ue,pe,ut,pt]),ht=function(e){const{teaParams:t,pageType:i}=e;return(0,r.useMemo)((()=>[105,106,107,123].includes(i)?Object.assign(Object.assign({},t),{enter_from:`${E.W.commonParams.page_name}_result`}):t),[t,i])}({teaParams:mt,pageType:i}),vt=(0,r.useRef)(null),gt=(0,r.useRef)(null),{showBrowserMode:xt}=(0,r.useContext)(h._),{setItemListKey:ft}=(0,n.qj)(m.O),bt=(0,f.fz)(B.KF),yt=(0,f.fz)(z.ec),_t=(0,n.qj)(C.r),jt=(0,I.Lh)((()=>["abTestVersion"]),[]),wt=null!==(J=(0,T.N8)(null==jt?void 0:jt.abTestVersion,"search_video"))&&void 0!==J?J:"v1",{wid:Ct}=(0,_.m7)((0,I.Lh)((()=>["wid"]),[])),{user:It}=null!==(W=(0,I.Lh)((()=>["user"]),[]))&&void 0!==W?W:{},Tt=Boolean(It),Ot=()=>{const e=new Date,t=e.getHours(),i=e.getMinutes(),o=e.getSeconds();return Date.now()-Date.now()%1e3-1e3*(o+60*(i+60*t))+864e5},St=(0,r.useCallback)(((e,t)=>{const i={data:t,expire:Ot()};window.localStorage.setItem(e,JSON.stringify(i))}),[]),Zt=(0,r.useCallback)((e=>{const t=window.localStorage.getItem(e),i=Date.now();let o;if(t){const a=JSON.parse(t);i<a.expire?o=a.data:window.localStorage.removeItem(e)}return o}),[]),Lt=(0,r.useCallback)(((i,a)=>{var n,r;if(L)return void L(i,t);if(i.preventDefault(),i.stopPropagation(),null==X?void 0:X.showNotPass)return;const s=Object.assign(Object.assign({},mt),{enter_method:a,from_mode:1});if(!("v4"!==wt||Tt||"general_search"!==E.W.commonParams.page_name&&"search_video"!==E.W.commonParams.page_name||Zt(`searchLogin${Ct}`)))return St(`searchLogin${Ct}`,Ct),_t.setCloseCallback((()=>{var t,i;ft(o),xt({index:e,teaParams:ht,enterFrom:E.W.commonParams.page_name,playProgress:null!==(i=null===(t=vt.current)||void 0===t?void 0:t.currentTime)&&void 0!==i?i:0,reportTeaParams:s}),yt.setEnterMethod(a),bt.handleUserChangeVideoOrPlayMode(),bt.reportVideoInteractStart({startTime:Date.now(),situation:"open_browser_mode",enter_method:a})})),void _t.openModal({isSignup:!1,query:{enter_method:"click_top_bar",enter_from:E.W.commonParams.page_name,redirect_url:window.location.href,type:"loginsearchmore"}});ft(o),xt({index:e,teaParams:ht,enterFrom:E.W.commonParams.page_name,playProgress:null!==(r=null===(n=vt.current)||void 0===n?void 0:n.currentTime)&&void 0!==r?r:0,reportTeaParams:s}),yt.setEnterMethod(a),bt.handleUserChangeVideoOrPlayMode(),bt.reportVideoInteractStart({startTime:Date.now(),situation:"open_browser_mode",enter_method:a})}),[L,null==X?void 0:X.showNotPass,mt,wt,Tt,Zt,Ct,ft,o,xt,e,ht,yt,bt,t,St,_t]),qt=(0,r.useCallback)((e=>{var t;13!==e.keyCode&&32!==e.keyCode||null===(t=gt.current)||void 0===t||t.click()}),[]),{showVideoMask:Mt}=(0,u.g)({item:null!=X?X:{},playMode:1}),{hideMaskTempVideoId:Et}=(0,n.mp)(D.P),Bt=Mt&&Et!==t,zt=(0,r.useCallback)((e=>{Bt||(e.preventDefault(),e.stopPropagation(),X&&Me.removeBlockVideo(X.id))}),[Me,X,Bt]),Nt=(0,r.useCallback)((()=>{var e;const{search_id:t="",search_keyword:i="",search_result_id:o="",search_type:a="general",impr_id:n}=ct;N.xq.handleSearchResultClick({search_id:t,search_keyword:i,search_result_id:o,search_type:a,token_type:ee?"live_card":"person",nickname:ee?null===(e=null==G?void 0:G.owner)||void 0===e?void 0:e.nickname:at,impr_id:n})}),[ee,ct,at,G]),Ft=(0,r.useCallback)((e=>t=>Lt(t,e)),[Lt]),Rt=function(e,t){return![3,4,103,16,18,121,19,123].includes(e)&&!t}(Number(i),ee),{ratio:Ut}=P[d];let Vt;Vt="following-recommend"===d?`https://www.tiktok.com${(0,O.yl)({uniqueId:it,secUid:null!=ot?ot:""})}`:`https://www.tiktok.com${(0,O.fH)({uniqueId:it,secUid:null!=ot?ot:"",videoId:null!==(H=null==te?void 0:te.id)&&void 0!==H?H:""})}`;const At=(0,r.useCallback)((i=>o=>{var a,n;Bt||(o.preventDefault(),Ne.updateVideo({currentVideo:{id:t,index:e,mode:1},playProgress:null!==(n=null===(a=vt.current)||void 0===a?void 0:a.currentTime)&&void 0!==n?n:0,playType:"hover"}),yt.setEnterMethod(i),bt.reportVideoInteractStart({startTime:Date.now(),situation:"three_column_user_hover",enter_method:i}))}),[Bt,t,Ne,e,yt,bt]),{isDetailPage:$t}=(0,R.U)(),Yt=Pt.includes(i),Jt=(0,r.useMemo)((()=>{var t;let n=null;switch(i){case 16:n=(0,a.jsx)(nt,{mode:d,index:e,onMouseEnter:At,onClick:Ft,videoData:X},void 0);break;case 3:case 4:case 1:case 121:case 18:n=(0,a.jsx)(Dt,{mode:d,index:e,itemListKey:o,onMouseEnter:At,onClick:Ft,videoData:X},void 0);break;case 105:case 107:case 123:let r=X;ee&&(r={author:null===(t=null==G?void 0:G.owner)||void 0===t?void 0:t.display_id,desc:null==G?void 0:G.title}),n=(0,a.jsx)(kt,{onClick:Ft,onMouseEnter:At,videoData:r,reportParams:ct,onReportClick:Nt,pageType:i,hasPlayInfo:!ee,id:`${o}-item-user-link-${e}`},void 0);break;case 19:n=(0,a.jsx)(Ze,{videoData:X,onClick:Ft,onMouseEnter:At,onLikeClick:Lt},void 0)}return n}),[i,d,e,At,Ft,X,o,ee,ct,Nt,Lt,null===(Q=null==G?void 0:G.owner)||void 0===Q?void 0:Q.display_id,null==G?void 0:G.title]),Wt=$t?Ue:105===i||107===i||ee?Ae:Ve,Ht=(e=>{const{timeTranslator:t}=(0,Le.e)(),{createTime:i}=null!=e?e:{},o=t(1e3*Number(i));return(0,a.jsx)(He,{children:o},void 0)})(X),Qt=105===i||107===i?Ht:null,Kt=(0,k.kw)(X),{playCount:Gt=0}=null!==(K=null==X?void 0:X.stats)&&void 0!==K?K:{},Xt=(0,_.BT)(Gt),ei=(0,r.useCallback)((e=>{e.preventDefault()}),[]),ti=(0,r.useRef)(null);return(0,r.useImperativeHandle)(V,(()=>({get offsetTop(){var e,t;return null!==(t=null===(e=ti.current)||void 0===e?void 0:e.offsetTop)&&void 0!==t?t:0}})),[]),(0,a.jsxs)(Wt,Object.assign({ref:ti,hasDescUnderItem:p},{children:[(0,a.jsx)(F.T,Object.assign({e2eTag:`${o}-item`,ratio:Ut,borderRadius:v,hasDescUnderItem:p,onKeyDown:qt},{children:(0,a.jsxs)("a",Object.assign({style:(null==X?void 0:X.showNotPass)?{pointerEvents:"none"}:void 0,href:Vt,onMouseEnter:At("hover_cover"),onClick:Lt,tabIndex:-1,ref:gt},{children:[(0,a.jsx)(ze,{width:100*Ut,height:100},void 0),ee?(0,a.jsx)(Fe,{children:(0,a.jsx)(U.Z,{id:t,mode:1,searchType:null!=q?q:"live",search_result_id:null==g?void 0:g.search_result_id},void 0)},void 0):(0,a.jsxs)(Fe,Object.assign({onContextMenu:ei},{children:[Kt?(0,a.jsx)(Ke,{src:Pe,alt:ae},void 0):(0,a.jsx)(S.S,{desc:dt,poster:Pe,horizontal:!1,mode:1,ref:vt,id:t,playUrl:me,index:e,itemMute:ie,duration:fe,bitrateInfo:ye,teaParams:mt,disableDownload:!0,volumeInfo:_e,bitrate:Number(je)},void 0),(null==oe?void 0:oe[0])&&(0,a.jsx)(Re,{children:(0,a.jsx)(Z.p,{needExtraBottom:!0,info:null==oe?void 0:oe[0]},void 0)},void 0),Boolean(le)&&(0,a.jsx)(Re,{children:(0,a.jsxs)(Je,{children:[(0,a.jsx)(We,{width:14.67,height:14.67},void 0),(e=>{const[t,i]=e.split(" "),[o,n,r]=t.split("-");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:o},void 0),(0,a.jsx)("span",{children:"-"},void 0),(0,a.jsx)("span",{children:n},void 0),(0,a.jsx)("span",{children:"-"},void 0),(0,a.jsx)("span",{children:r},void 0),(0,a.jsx)("span",{children:" "},void 0),(0,a.jsx)("span",{children:i},void 0)]},void 0)})((ii=le,A().unix(ii).format("YYYY-M-D H:mm")))]},void 0)},void 0),Se,Kt&&(0,a.jsx)(Qe,{children:(0,a.jsx)(b.d,{size:20},void 0)},void 0),Rt&&(0,a.jsx)(be,{videoData:X,content:Qt},void 0),!(null==oe?void 0:oe[0])&&Yt&&(0,a.jsx)(ne,{e2ePrefix:o,type:1,videoData:X,teaParams:g},void 0),19===i&&(0,a.jsxs)(Ge,{children:[(0,a.jsx)(Xe,{width:20,height:20,fill:"#fff"},void 0),(0,a.jsx)(et,{children:Xt},void 0)]},void 0),Bt||qe.includes((null==X?void 0:X.id)||"")?(0,a.jsx)(Ee,{children:(0,a.jsx)(Be,Object.assign({onClick:zt},{children:(0,a.jsx)(M,{width:"48",height:"48"},void 0)}),void 0)},void 0):null]}),void 0)]}),void 0)}),void 0),!re&&Jt]}),void 0);var ii})));var St=i(58537),Zt=i(1671);const Lt=function({itemId:e,key:t}){const i=(0,n.mp)(s.A,{selector:t=>t[null!=e?e:""],dependencies:[e]}),o=i.author,{user:d}=(0,n.mp)(l.z,{dependencies:[o],selector:e=>({user:e.users[null!=o?o:""]})}),c=(0,r.useMemo)((()=>Object.assign(Object.assign({},i),{author:d})),[i,d]);return(0,a.jsx)(x.n,{itemStruct:c,itemId:i.id,index:t,isBot:!1,pageType:3},i.id)},qt=(0,r.memo)((0,d.J)()((function({mode:e="compact",loading:t,itemList:i,pageType:o,itemListKey:l,onHitBottom:d,threshold:x,frozen:f,borderRadius:b,renderMap:y,renderTitle:_,teaParams:j,searchTopCardType:w,notWrap:k=!1,autoPlayFirst:C=!0,handleClick:I,searchType:T,showNewHashtagCard:D=!1}){const P=(0,r.useCallback)((()=>{f||null==d||d()}),[f,d]),O=(0,v.s)({onHitBottom:P,threshold:x}),S=(0,n.qj)(c.f),Z=i[0],L=(0,n.mp)(s.A,{selector:e=>e[Z],dependencies:[Z]}),{showVideoMask:q}=(0,u.g)({item:null!=L?L:{},playMode:1});(0,r.useEffect)((()=>{!q&&C&&i.length&&S.updateVideo({currentVideo:{id:i[0],index:0,mode:1},teaParams:{isThreeColumnAuto:!0},playProgress:0,playType:"automatic"})}),[q,i]),(0,p.$v)(1);const M=3===o||105===o||107===o||123===o||16===o||61===w,E=(0,r.useRef)([]),B=(0,r.useCallback)((e=>t=>{E.current||(E.current=[]),E.current[e]=t}),[]),{currentIndex:z}=(0,n.mp)(m.O),{isBrowserModeShowing:N}=(0,r.useContext)(h._);(0,r.useEffect)((()=>{if("explore"===l&&N&&0!==z){const e=setTimeout((()=>{var e,t,i;window.scrollTo(0,(null!==(i=null===(t=null===(e=E.current)||void 0===e?void 0:e[z])||void 0===t?void 0:t.offsetTop)&&void 0!==i?i:144)-144)}),0);return()=>clearTimeout(e)}}),[z,N,l]);const F=e=>{if(null==y?void 0:y.length){const t=y.filter((({position:t})=>t===e));if(t.length>0)return t.map((t=>t.renderNode(e)))}return null};return(0,a.jsxs)(Zt.hZ,Object.assign({ref:O,isSearchTopCard:Boolean(w)},{children:[(0,a.jsxs)(St.$,Object.assign({"data-e2e":`${l}-item-list`,hasDescUnderItem:M,mode:e,notWrap:k},{children:[F(0),i.map(((t,i)=>D?(0,a.jsx)(Lt,{itemId:t},i):(0,a.jsxs)(r.Fragment,{children:[0===i&&_,(0,a.jsx)(Ot,{id:t,index:i,mode:e,pageType:o,borderRadius:b,itemListKey:l,hasDescUnderItem:M,teaParams:j,searchTopCardType:w,handleClick:I,searchType:T,ref:B(i)},t),F(i+1)]},t)))]}),void 0),t&&(0,a.jsx)(g.g,{center:!0},void 0)]}),void 0)})))},68605:(e,t,i)=>{i.d(t,{D:()=>T});var o=i(64047),a=i(73566),n=i(48185),r=i(19630),s=i(82346),l=i(58569),d=i(60595),c=i(53095),u=i(49584),p=i(68854),m=i(10026),h=i(5549),v=i(12167),g=i(96980),x=i(20948),f=i(97668),b=i(27160),y=i(33966),_=i(38310),j=i(66599),w=i(2844),k=i(57244),C=i(18645);let I=class{constructor(e){this.fetch=e}getQuestionDetail(e){return this.fetch.get("/api/question/detail/",{query:e,baseUrlType:2})}};I=(0,o.__decorate)([(0,k.G)(),(0,o.__metadata)("design:paramtypes",[C.r])],I);let T=class extends a.D{constructor(e,t,i,o,a,n){super(),this.service=e,this.seoModule=t,this.itemList=i,this.item=o,this.user=a,this.bizContext=n,this.defaultState={statusCode:0,questionInfo:void 0,loading:!0}}setQuestionInfo(e,t){const{statusCode:i=0,questionInfo:o}=null!=t?t:{};e.statusCode=i,e.questionInfo=o}resetData(e){e.loading=!0,e.statusCode=0,e.questionInfo=void 0}setLoading(e,t){e.loading=t}resetQuestionData(e){return e.pipe((0,c.z)((()=>(0,s.of)(this.getActions().dispose$(),this.getActions().resetData(),this.itemList.getActions().dispose$(),this.itemList.getActions().resetItemList({key:"question"})))))}getQuestionPageData(e){return e.pipe((0,u.z)((({questionId:e="",scene:t="",abTestVersion:i,user:o,language:a,appType:n})=>this.service.getQuestionDetail({questionId:e,language:a}).pipe((0,p.K)((()=>(0,s.of)({statusCode:-1}))),(0,c.z)((r=>{const{statusCode:d}=r,c=[(0,s.of)(this.getActions().setQuestionInfo(r),this.getActions().setLoading(!1))];let u;return 0===d&&(u=this.itemList.getQuestionList$({questionID:e,abTestVersion:i,user:o,language:a}),c.push(u)),(0,l.T)(...c,this.setSEO(r,t,a,n,u))})),(0,m.O)(this.getActions().setLoading(!0)),(0,h.l)(this.getActions().setLoading(!1),this.terminate()),(0,v.R)(this.dispose$),(0,p.K)((e=>(console.error(e),(0,s.of)(this.noop()))))))))}setSEO(e,t,i,o,a){var n;if((null===(n=this.bizContext.state.bizContext)||void 0===n?void 0:n.isBot)&&a){const n=this.itemList.state$.pipe((0,g.q)(1),(0,x.M)(this.item.state$,this.user.state$),(0,c.z)((([a,n,r])=>{var s,l;const d=null===(s=a.question)||void 0===s?void 0:s.list,c=(null!==(l=null==d?void 0:d.map((e=>n[e])))&&void 0!==l?l:[]).filter(Boolean),u=c.map((e=>{var t;return Object.assign(Object.assign({},e),{author:r.users[null!==(t=e.author)&&void 0!==t?t:""]})}));return this.seoModule.setQuestionSEOProps(e,{language:i},c,o,{scene:t},u)})));return a.pipe((0,f.T)(n))}return this.seoModule.setQuestionSEOProps(e,{language:i},[],o,{scene:t})}};(0,o.__decorate)([(0,n.cQ)(),(0,o.__metadata)("design:type",d.y)],T.prototype,"dispose$",void 0),(0,o.__decorate)([(0,n.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],T.prototype,"setQuestionInfo",null),(0,o.__decorate)([(0,n.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",void 0)],T.prototype,"resetData",null),(0,o.__decorate)([(0,n.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],T.prototype,"setLoading",null),(0,o.__decorate)([(0,n.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[d.y]),(0,o.__metadata)("design:returntype",void 0)],T.prototype,"resetQuestionData",null),(0,o.__decorate)([(0,n.Qm)({payloadGetter:1}),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[d.y]),(0,o.__metadata)("design:returntype",void 0)],T.prototype,"getQuestionPageData",null),T=(0,o.__decorate)([(0,r.Y)("QuestionModuleDesktop"),(0,o.__metadata)("design:paramtypes",[I,b.q,y.h,_.A,j.z,w.r])],T)}}]);