"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3240],{12714:(e,t,i)=>{i.d(t,{y:()=>l,x:()=>a});var o=i(91051),n=i(6130);const l=({callback:e,element:t})=>{const i=(0,o.useRef)();(0,o.useEffect)((()=>{const o=null==t?void 0:t.current,l=null==i?void 0:i.current;if(o){l&&l.unobserve(o);const t=new n.Z(e);return t.observe(o),i.current=t,()=>{l&&o&&l.unobserve(o)}}}),[e,t])},a=e=>{const t=(0,o.useRef)();(0,o.useEffect)((()=>{t.current=t=>{const i=null==e?void 0:e(t);return"string"==typeof i?t.returnValue=i:t.defaultPrevented?t.returnValue="":void 0}}),[e]),(0,o.useEffect)((()=>{const e=e=>{t.current&&t.current(e)};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[])}},15261:(e,t,i)=>{i.d(t,{t:()=>a});var o=i(11040),n=i(91051),l=i(94215);const a=e=>{const{src:t,alt:i,fallback:a,className:r,skeleton:s,width:d,height:c,style:u={},onClick:v,onLoaded:h}=e,p=(0,n.useRef)(0),[g,m]=(0,n.useState)(""),[f,b]=(0,n.useState)(!1),[x,y]=(0,n.useState)(!1),[w,k]=(0,n.useState)(!1),j=(0,n.useRef)(null);(0,n.useEffect)((()=>{var e,i,o;return k(!1),p.current=0,y(!1),b(null!==(i=null===(e=j.current)||void 0===e?void 0:e.complete)&&void 0!==i&&i),(null===(o=j.current)||void 0===o?void 0:o.complete)&&(null==h||h()),Array.isArray(t)?m(t[0]):m(t),()=>{k(!0)}}),[t]);const _=(0,n.useCallback)((()=>{w||(b(!0),null==h||h())}),[w,h]),C=(0,n.useCallback)((()=>{w||(p.current++,Array.isArray(t)&&t[p.current]?m(t[p.current]):(y(!0),m("")))}),[w,t]),I=(0,n.useMemo)((()=>Object.assign(Object.assign({},u),{position:"relative",top:0})),[u]),P=(0,n.useMemo)((()=>Object.assign({display:f?"block":"none"},u)),[f,u]);return(0,o.jsxs)(o.Fragment,{children:[f?null:"videoCover"===s?(0,o.jsx)(l.Od.VideoCover,{className:r,style:I},void 0):"avatar"===s?(0,o.jsx)(l.Od.Avatar,{className:r,style:I},void 0):null,!x&&g&&(0,o.jsx)("img",{ref:j,onClick:v,width:d,height:c,onLoad:_,onError:C,style:P,alt:i,src:g,className:r},void 0),x?a:null]},void 0)}},72692:(e,t,i)=>{i.d(t,{UD:()=>l,dm:()=>a,fW:()=>r,tf:()=>s});var o=i(68191),n=i(36488);const l=(0,o.Z)("div",{target:"er9w8f60"})({width:"30px",height:"10px",position:"absolute",bottom:"-10px",left:"50%",transform:"translateX(-50%)","> svg":{position:"absolute",left:0,top:0}},"label:DivArrowIcon;"),a=(0,o.Z)("div",{target:"er9w8f61"})((({theme:e})=>[(0,n.GI)({theme:e,typography:"P3",fontWeight:"normal"}),{maxWidth:"180px",height:"auto",position:"absolute",visibility:"hidden",backgroundColor:"#545454",fontWeight:600,borderRadius:8,padding:12,textAlign:"center",zIndex:1001,color:e.colors.ConstTextInverse}]),"label:DivControlTip;"),r=(0,o.Z)("div",{target:"er9w8f62"})((({disableHover:e,theme:t})=>({color:t.colors.ConstTextInverse,cursor:e?"auto":"pointer",userSelect:"none",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 6px",minHeight:"28px"})),"label:DivControlContainer;"),s=(0,o.Z)("div",{target:"er9w8f63"})((({isBrowserMode:e})=>[{borderRadius:2,minWidth:24,height:24,display:"flex",alignItems:"center",justifyContent:"center"},e?{backgroundColor:"rgba(84, 84, 84, 0.5)",width:40,height:40,fontSize:22,borderRadius:"50%",overflow:"hidden",":hover":{backgroundColor:"rgba(37, 37, 37, .6)",opacity:.7},":active":{opacity:.5}}:{fontSize:22}]),"label:DivControlIcon;")},69709:(e,t,i)=>{i.d(t,{Q:()=>S});var o=i(11040),n=i(91051),l=i(43226),a=i.n(l),r=i(38209),s=i.n(r),d=i(51553),c=i(44233),u=i(79089),v=i(7772),h=i(72692),p=i(68191);const g=e=>e?66:46,m=(0,p.Z)("div",{target:"ew6qw7a0"})((({isBrowserMode:e})=>({position:"absolute",width:24,height:g(e)+24,background:e?"rgba(84, 84, 84, 0.5)":"rgba(22, 24, 35, 0.34)",borderRadius:"100px",zIndex:10,bottom:50,":hover":e?{backgroundColor:"rgba(37, 37, 37, .6)",opacity:.7}:{}})),"label:DivVolumeSlider;"),f=(0,p.Z)("div",{target:"ew6qw7a1"})((({isBrowserMode:e,theme:t})=>({display:"block",position:"absolute",bottom:8,left:"50%",transform:"translateX(-50%)",background:t.colors.ConstTextInverse4,borderRadius:"100px",width:e?4:2,height:"calc(100% - 16px)",cursor:"pointer"})),"label:DivVolumeBar;"),b=(0,p.Z)("div",{target:"ew6qw7a2"})((({isBrowserMode:e,volume:t,theme:i})=>({display:"block",position:"absolute",bottom:0,left:0,background:i.colors.ConstTextInverse,maxHeight:g(e),height:Math.round(t/100*g(e)),width:e?4:2,borderRadius:"100px",cursor:"pointer"})),"label:DivDragBar;"),x=(0,p.Z)("div",{target:"ew6qw7a3"})((({isBrowserMode:e,volume:t})=>({width:12,height:12,background:"rgb(255, 255, 255)",boxShadow:"rgb(0 0 0 / 26%) 0px 0px 5px 0px",position:"absolute",borderRadius:"50%",left:"50%",transform:"translateX(-50%)",top:g(e)-Math.round(t/100*g(e))-2})),"label:DivDot;"),y="volume-icon-id",w="volume-bar-id";var k;!function(e){e[e.MUTE=0]="MUTE",e[e.NORMAL=1]="NORMAL",e[e.LOUD=2]="LOUD"}(k||(k={}));const j={width:24,height:24,fontSize:24},_={width:40,height:40},C={0:(0,o.jsx)("span",Object.assign({"data-testid":"volume-mute-icon-id",style:j},{children:(0,o.jsx)(d.Z,{},void 0)}),void 0),1:(0,o.jsx)("span",Object.assign({"data-testid":"volume-speaker-id",style:j},{children:(0,o.jsx)(c.Z,{},void 0)}),void 0),2:(0,o.jsx)("span",Object.assign({"data-testid":"volume-larger-id",style:j},{children:(0,o.jsx)(c.Z,{},void 0)}),void 0)},I={0:(0,o.jsx)("span",Object.assign({style:_},{children:(0,o.jsx)(u.Z,{width:40,height:40,fill:"none"},void 0)}),void 0),1:(0,o.jsx)("span",Object.assign({style:_},{children:(0,o.jsx)(v.Z,{width:40,height:40,fill:"none"},void 0)}),void 0),2:(0,o.jsx)("span",Object.assign({style:_},{children:(0,o.jsx)(v.Z,{width:40,height:40,fill:"none"},void 0)}),void 0)},P=e=>{const{value:t,onVolumeChange:i=(()=>a()),onMutedClick:l=(()=>a()),isBrowserMode:r,muted:d}=e,[c,u]=(0,n.useState)(0),[v,p]=(0,n.useState)(!1),k=(0,n.useRef)(null),j=(0,n.useRef)(!1),_=(0,n.useRef)(!1),P=(0,n.useRef)(t),M=(0,n.useRef)(0);(0,n.useEffect)((()=>{u(d?0:t>0&&t<50?1:2)}),[t,d]);const S=(0,n.useMemo)((()=>r?I[c]:C[c]),[r,c]),O=(0,n.useCallback)((e=>{if(k.current){const t=e-k.current.getBoundingClientRect().y,i=g(r)-t;return function(e){return e>100?100:e<0?0:e}(Math.round(i/g(r)*100))}}),[r]),E=(0,n.useCallback)((e=>{e.stopPropagation();const t=O(e.clientY);t&&t>0?(i(t),l(!1)):l(0===t)}),[O,l,i]),T=(0,n.useCallback)((e=>{e.stopPropagation(),P.current=t,j.current=!0}),[t]),L=()=>{j.current=!1,_.current&&p(!1)},D=s()((e=>{if(e.stopPropagation(),j.current){const t=O(e.clientY);t&&t>0?(i(t),l(!1)):0===t?(i(P.current||60),l(!0)):l(!1)}}),30),B=(0,n.useCallback)((e=>{e.stopPropagation(),l(!d)}),[l,d]),R=(0,n.useCallback)((()=>{_.current=!1,clearTimeout(M.current),p(!0)}),[]),Z=(0,n.useCallback)((e=>{e.stopPropagation(),_.current=!0,j.current||(M.current=window.setTimeout((()=>{_.current&&p(!1)}),250))}),[]),z=(0,n.useMemo)((()=>d?0:t),[d,t]);return(0,n.useEffect)((()=>(document.addEventListener("mouseup",L),document.addEventListener("mousemove",D),()=>{document.removeEventListener("mouseup",L),document.removeEventListener("mousemove",D)}))),(0,o.jsxs)(h.fW,Object.assign({onMouseEnter:R,"data-e2e":"volume-icon","data-testid":"control-container",onMouseLeave:Z},{children:[(0,o.jsx)(m,Object.assign({isBrowserMode:r,style:{display:v?"block":"none"},onClick:E,onMouseDown:T,onMouseLeave:Z,"data-e2e":"volume-slider","data-testid":"volume-slider"},{children:(0,o.jsxs)(f,Object.assign({isBrowserMode:r,"data-e2e":w,"data-testid":w,ref:k},{children:[(0,o.jsx)(b,{isBrowserMode:r,volume:z},void 0),(0,o.jsx)(x,{isBrowserMode:r,volume:z},void 0)]}),void 0)}),void 0),(0,o.jsx)(h.tf,Object.assign({isBrowserMode:r,"data-e2e":y,"data-testid":y,onClick:B},{children:S}),void 0)]}),void 0)};var M=i(73560);const S=(0,n.memo)((e=>{const{xgplayer:t,visible:i=!0,mutedPlay:l=!1,isBrowserMode:a,defaultVolume:r=50,defaultMuted:s=!1,onMutedChange:d,onVolumeChange:c}=e,[u,v]=(0,n.useState)(r),[h,p]=(0,n.useState)(s),g=(0,n.useCallback)((e=>{v((i=>(e!==i&&(null==t?void 0:t.current)&&(t.current.volume=Number(e)/100,null==c||c(e)),e)))}),[c,t]),m=(0,n.useCallback)((e=>{p((i=>(e!==i&&(null==t?void 0:t.current)&&(null==d||d(e),t.current.muted=e),e)))}),[d,t]);return(0,n.useEffect)((()=>{l&&(p(!0),null==d||d(!0))}),[l,d]),(0,n.useEffect)((()=>{g(r)}),[g,r]),(0,n.useEffect)((()=>{m(s)}),[m,s]),(0,o.jsx)(M.Mt,Object.assign({isBrowserMode:a,visible:i},{children:(0,o.jsx)(P,{value:u,muted:h,isBrowserMode:a,onMutedClick:m,onVolumeChange:g},void 0)}),void 0)}))},34827:(e,t,i)=>{i.d(t,{n:()=>p});var o=i(64047),n=i(91051),l=i(95872),a=i(97185),r=i(67929),s=i.n(r),d=i(59783),c=i(12714);const u={lang:"en",width:"100%",height:"100%",url:"",debug:0,autoplay:!0,autoplayMuted:!1,closeVideoClick:!0,closeVideoDblclick:!0,keyboard:{disable:!0},keyShortcut:!1,plugins:[],flvlive:{chaseFrameStart:1e4,seamlesslyReload:!0,retryDelay:1,retryCount:2}};let v;function h(e){const{url:t,onSeiParsed:i}=e,o=(0,n.useRef)([]),l=(0,n.useRef)(""),a=(0,n.useRef)(0),r=(0,n.useCallback)((e=>100!==(null==e?void 0:e.code)||Date.now()-a.current<=150&&(a.current=Date.now(),!0)),[]),s=(0,n.useCallback)((e=>{if(!e||!e.content)return;if(!i)return;if(r(e))return;const t=function(e){let t=e;return['"app_data"','app_data"','canvas"','"canvas"'].some((i=>{const o=function(e,t="app_data"){var i;if(!e)return"";const o=new RegExp(`^([\\w\\W]*)${t}.*`).exec(e);return null!==(i=null==o?void 0:o[1])&&void 0!==i?i:""}(e,i);if(o&&"{"!==o&&o.length<4){const n='"'!==i[0];return t=`{${n?'"':""}${e.slice(o.length,e.lastIndexOf("}")+1)}`,!0}return!1}))||(t=e.slice(e.indexOf("{"),e.lastIndexOf("}")+1)),t}(function(e){let t,i,o,n,l,a;for(t="",o=e.length,i=0;i<o;)switch(n=e[i++],n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(n);break;case 12:case 13:l=e[i++],t+=String.fromCharCode((31&n)<<6|63&l);break;case 14:l=e[i++],a=e[i++],t+=String.fromCharCode((15&n)<<12|(63&l)<<6|(63&a)<<0)}return t}(e.content));try{const e=JSON.parse(t),o=Object.assign(Object.assign({},e),{app_data:e.app_data?JSON.parse(e.app_data):null});null==i||i(o)}catch(t){console.error("sei error",t,e)}}),[r,i]);return(0,n.useEffect)((()=>{t&&(t&&l.current!==t&&(o.current=[]),l.current=t,a.current=0)}),[t]),{handlePlayerSeiParsed:s}}const p=e=>{const{url:t,defaultVolume:r,defaultMuted:p,playing:g,autoplay:m=!1,autoMutedPlay:f=!1,loggerConfig:b,playerContainerRef:x,onPlaying:y,onMutedChange:w,onPlay:k,onLoadedData:j,onLoading:_,onPause:C,onPlayError:I,onSeiParsed:P,onStreamEnd:M}=e,{mutedPlay:S,registerAutoplayPreventRef:O}=function(e){const{autoplay:t,autoMutedPlay:i,onAutoPlayPrevent:o}=e,[l,r]=(0,n.useState)(!1),[s,d]=(0,n.useState)(!1),c=(0,n.useRef)(),u=(0,n.useRef)((e=>{c.current=e,t&&e.once(a.AUTOPLAY_PREVENTED,(()=>{null==o||o(),r(!0)}))}));return(0,n.useEffect)((()=>{c.current&&i&&l&&t&&(c.current.muted=!0,d(!0))}),[i,l,t,c]),(0,n.useEffect)((()=>{c.current&&s&&c.current.play()}),[s,c]),{mutedPlay:s,registerAutoplayPreventRef:u}}({autoplay:m,autoMutedPlay:f}),{handlePlayerSeiParsed:E}=h({onSeiParsed:P}),{playerIsPlaying:T,loading:L,registerPlayerEventsRef:D}=function(e){const{onPlay:t,onPlaying:i,onLog:o,onLoadedData:l,onLoading:r,onPause:s,onPlayError:d,onStreamEnd:c,onSeiParsed:u}=e,v=(0,n.useRef)(0),h=(0,n.useRef)();h.current={onPlay:t,onLoadedData:l,onLoading:r,onPlaying:i,onLog:o,onPause:s,onPlayError:d,onSeiParsed:u,onStreamEnd:c};const[p,g]=(0,n.useState)(!1),[m,f]=(0,n.useState)(!1),b=(0,n.useRef)(),x=(0,n.useCallback)((()=>{clearTimeout(v.current),f(!1)}),[]);return b.current=(0,n.useCallback)((e=>{e.once(a.CANPLAY,(()=>{x()})),e.on(a.PLAY,(()=>{var e,t;x(),null===(t=null===(e=h.current)||void 0===e?void 0:e.onPlay)||void 0===t||t.call(e)})),e.on(a.PLAYING,(()=>{var e,t;x(),g(!0),null===(t=null===(e=h.current)||void 0===e?void 0:e.onPlaying)||void 0===t||t.call(e)})),e.on(a.PAUSE,(()=>{var e,t;g(!1),x(),null===(t=null===(e=h.current)||void 0===e?void 0:e.onPause)||void 0===t||t.call(e)})),e.on(a.WAITING,(()=>{var e,t;null===(t=null===(e=h.current)||void 0===e?void 0:e.onLoading)||void 0===t||t.call(e),clearTimeout(v.current),v.current=window.setTimeout((()=>{f(!0)}),3e3)})),e.on(a.LOADED_DATA,(()=>{var t,i;null===(i=null===(t=h.current)||void 0===t?void 0:t.onLoadedData)||void 0===i||i.call(t,e._videoWidth,e._videoHeight)})),e.on(a.ERROR,(e=>{var t,i,o,n,l,a;null===(i=null===(t=h.current)||void 0===t?void 0:t.onPlayError)||void 0===i||i.call(t,null!==(l=null!==(n=null===(o=null==e?void 0:e.mediaError)||void 0===o?void 0:o.code)&&void 0!==n?n:e.code)&&void 0!==l?l:e.name,null!==(a=e.ex)&&void 0!==a?a:e.message),x()})),e.on(a.SEI_PARSED,(e=>{var t,i;null===(i=null===(t=h.current)||void 0===t?void 0:t.onSeiParsed)||void 0===i||i.call(t,e)})),e.on(a.XGLOG,(e=>{var t,i;null===(i=null===(t=h.current)||void 0===t?void 0:t.onLog)||void 0===i||i.call(t,e)})),e.on(a.ENDED,(()=>{var e,t;null===(t=null===(e=h.current)||void 0===e?void 0:e.onStreamEnd)||void 0===t||t.call(e),x()}))}),[x]),{loading:m,playerIsPlaying:p,registerPlayerEventsRef:b}}({onPlay:k,onPlaying:y,onPause:C,onLoading:_,onLoadedData:j,onPlayError:I,onStreamEnd:M,onSeiParsed:E}),{xgplayer:B,isPlayerInit:R,handlePlayerDestroy:Z}=function(e){const{url:t,autoplay:l=!1,defaultMuted:a,playerContainerRef:r,registerPlayerEventsRef:h,registerAutoplayPreventRef:p}=e,g=(0,n.useRef)(),m=(0,n.useRef)(null!=a&&a),f=(0,n.useRef)(),[b,x]=(0,n.useState)(!1),y=(0,n.useCallback)((()=>{f.current&&(f.current.destroy(),f.current=void 0,x(!1))}),[f]),w=(0,n.useCallback)((()=>(0,o.__awaiter)(this,void 0,void 0,(function*(){var e;if(!t||!r.current||f.current)return;const n=yield(0,o.__awaiter)(void 0,void 0,void 0,(function*(){return v||(v=Promise.all([i.e(6018),i.e(7689),i.e(8674),i.e(1853)]).then(i.bind(i,26362))),yield v}));g.current=t;const a=new d.ZP((e=>{if(!e.id&&!e.el)throw new Error("dom instance or id is required!");return s()({},u,e)})({url:t,autoplay:l,autoplayMuted:m.current,el:r.current,plugins:[n.default]}));f.current=a,p.current(a),null===(e=null==h?void 0:h.current)||void 0===e||e.call(h,a),x(!0)}))),[t,r,f,l,p,h]);return(0,n.useEffect)((()=>{w()}),[]),(0,n.useEffect)((()=>()=>y()),[y]),(0,c.x)((()=>{y()})),(0,n.useEffect)((()=>{g.current!==t&&f.current&&(f.current.src=t,g.current=t)}),[f,t]),{xgplayer:f,isPlayerInit:b,handlePlayerDestroy:y}}({url:t,autoplay:m,defaultVolume:r,defaultMuted:!!S||p,onMutedChange:w,playerContainerRef:x,registerPlayerEventsRef:D,registerAutoplayPreventRef:O});return function(e){const{player:t,playing:i=!1,isPlayerInit:o}=e,l=(0,n.useRef)(i);(0,n.useEffect)((()=>{var e,n;t.current&&o&&l.current!==i&&(i?t.current.play():null===(n=(e=t.current).pause)||void 0===n||n.call(e)),l.current=i}),[t,i,o])}({player:B,isPlayerInit:R,autoplay:m,playing:g}),function(e){const{isPlayerInit:t,xgplayer:a,loggerConfig:r}=e,s=(0,n.useRef)(),d=(0,n.useRef)();d.current=r;const c=(0,n.useCallback)((e=>{var t,i,o;(null===(t=d.current)||void 0===t?void 0:t.open)&&!s.current&&a.current&&(s.current=new e({player:a.current,aid:d.current.aid,app_name:d.current.app_name,project_key:d.current.project_key,channel:d.current.channel,user_id:null!==(i=d.current.uid)&&void 0!==i?i:"",device_id:null!==(o=d.current.device_id)&&void 0!==o?o:"",Tea:l.W.event.bind(l.W)}))}),[a]);(0,n.useEffect)((()=>{(()=>{(0,o.__awaiter)(this,void 0,void 0,(function*(){var e;if((null===(e=d.current)||void 0===e?void 0:e.open)&&t&&a.current&&!s.current){const{default:e}=yield i.e(9336).then(i.bind(i,79548));c(e)}}))})()}),[t,a,c]),(0,n.useEffect)((()=>{var e,t;s.current&&(null===(t=null===(e=s.current.logger)||void 0===e?void 0:e.updateExt)||void 0===t||t.call(e,Object.assign({},null==r?void 0:r.ext)))}),[r])}({isPlayerInit:R,loggerConfig:b,xgplayer:B}),{playerIsPlaying:T,xgplayer:B,mutedPlay:S,loading:L,handlePlayerDestroy:Z}}},73560:(e,t,i)=>{i.d(t,{Se:()=>l,a$:()=>a,n3:()=>r,Id:()=>s,Mt:()=>d,Dz:()=>c});var o,n=i(68191);!function(e){e[e.Bg=1]="Bg",e[e.Video=2]="Video",e[e.Controls=10]="Controls",e[e.Tag=20]="Tag",e[e.Fatal=100]="Fatal",e[e.End=100]="End"}(o||(o={}));const l=(0,n.Z)("div",{target:"e14msn1a0"})((({isBrowserMode:e,visible:t=!0})=>({position:"absolute",opacity:t?1:0,transition:"opacity 500ms linear",width:"100%",height:"100%",paddingBottom:e?"21px":"13px",zIndex:10,display:"flex",flexDirection:"column",justifyContent:"flex-end"})),"label:DivPlayerControls;"),a=(0,n.Z)("div",{target:"e14msn1a1"})({width:"100%",height:"200px",filter:"blur(10px)",background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.525) 99.27%);",position:"absolute",zIndex:-1,bottom:0},"label:DivFilterBottomMask;"),r=(0,n.Z)("div",{target:"e14msn1a2"})({position:"relative",width:"100%",height:"100%",zIndex:1,"&>video":{position:"absolute",top:0,left:0,width:"100%",height:"100%",outline:"none",zIndex:2}},"label:DivRecommendLivePlayerContainer;"),s=(0,n.Z)("div",{target:"e14msn1a3"})({position:"relative",width:"100%",height:"100%",background:"rgba(0, 0, 0, 1)",zIndex:1,"&>video":{position:"absolute",top:0,left:0,width:"100%",height:"100%",outline:"none",zIndex:2}},"label:DivLivePlayerContainer;"),d=(0,n.Z)("div",{target:"e14msn1a4"})((({isBrowserMode:e,visible:t})=>({position:"absolute",bottom:e?16:12,right:12,height:"48px",display:"flex",opacity:t?1:0,transition:"opacity 500ms linear",zIndex:10})),"label:DivPlayerVolumeIcon;"),c=(0,n.Z)("div",{target:"e14msn1a5"})({display:"flex",height:"48px",margin:"0px 15px"},"label:DivPlayerLeftGroup;")},5887:(e,t,i)=>{i.d(t,{l:()=>Nt});var o=i(11040),n=i(91051),l=i(84715),a=i.n(l),r=i(87418);const s=Object.freeze(["origin","uhd_60","uhd","hd_60","hd","sd","ld"]),d=function(e,t){var i,o,n,l,d,c;const u=function(e){var t;try{const i={common:{},data:{}},o=e?JSON.parse(e):{};if(i.common=o.common,o.data)for(const e of Object.keys(o.data)){if(o.data[e].main){const t=JSON.parse(o.data[e].main.sdk_params);i.data[e]={},i.data[e].main=o.data[e].main,i.data[e].main.sdk_params=t}if(o.data[e].backup){const n=JSON.parse(o.data[e].backup.sdk_params);i.data[e]=null!==(t=i.data[e])&&void 0!==t?t:{},i.data[e].backup=o.data[e].backup,i.data[e].backup.sdk_params=n}}return i}catch(e){return void console.error(e)}}(e.stream_data);if(u){const p=(v=u,h=null===(i=e.options)||void 0===i?void 0:i.qualities,a()(Object.keys(v.data),(e=>s.indexOf(e))).filter((e=>Boolean(!(null==h?void 0:h.length)||h.find((t=>t.sdk_key===e))))).map((e=>{var t,i,o,n;const l=v.data[e],a=null!==(i=null===(t=null==h?void 0:h.find((t=>t.sdk_key===e)))||void 0===t?void 0:t.name)&&void 0!==i?i:r.cK[e];let s=l.main.sdk_params.vbitrate;return"origin"===e&&(s=2e6),{sdkKey:e,definition:a,bitrate:s,url:{mainFLV:l.main.flv,mainHLS:l.main.hls,backupFLV:null===(o=l.backup)||void 0===o?void 0:o.flv,backupHLS:null===(n=l.backup)||void 0===n?void 0:n.hls},activeUrl:"",vCodecKey:l.main.sdk_params.VCodec,isActive:!1,pullFailedCount:0}}))),g=null!==(d=null!==(o=null==t?void 0:t.targetQuality)&&void 0!==o?o:null===(l=null===(n=e.options)||void 0===n?void 0:n.default_quality)||void 0===l?void 0:l.sdk_key)&&void 0!==d?d:"ld",m=null!==(c=null==t?void 0:t.direction)&&void 0!==c?c:"down",f=p.find((e=>e.sdkKey===g)),b=p.map((e=>e.sdkKey));return f||p.find((e=>e.sdkKey===function(e,t,i){const o=s.map((t=>e.includes(t)?t:null));let n=s.findIndex((e=>e===t)),l=null;for(;!l;){if("up"===i&&0===n||"down"===i&&n===o.length-1)return;n="up"===i?n-1:n+1,l=o[n]}return l}(b,g,m)))}var v,h};var c=i(15261),u=i(68191);const v=(0,u.Z)("div",{target:"etpzwn70"})({width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:1,overflow:"hidden"},"label:DivLiveBlurBg;"),h=(0,u.Z)("div",{target:"etpzwn71"})((({loaded:e})=>({width:"100%",height:"100%",position:"absolute",left:0,top:0,zIndex:3,overflow:"hidden",filter:e?"blur(12px)":"none"})),"label:DivFilter;"),p=(0,u.Z)("div",{target:"etpzwn72"})({width:"100%",height:"100%",position:"absolute",left:0,top:0,zIndex:2,background:"rgba(0, 0, 0, 0.6)"},"label:DivMask;"),g=(0,u.Z)("div",{target:"etpzwn73"})({width:"200%",height:"100%",position:"absolute",left:0,top:0,zIndex:1},"label:DivCover;"),m=({urls:e})=>{const[t,i]=(0,n.useState)(!1),l=(0,n.useCallback)((()=>{i(!0)}),[]);return(0,o.jsx)(v,{children:(0,o.jsxs)(h,Object.assign({loaded:t},{children:[t&&(0,o.jsx)(p,{},void 0),(0,o.jsx)(g,{children:(0,o.jsx)(c.t,{width:"100%",src:e,skeleton:"videoCover",onLoaded:l},void 0)},void 0)]}),void 0)},void 0)};var f=i(32273);const b=(0,u.Z)("div",{target:"e154kij60"})((({theme:e,isMobile:t=!1})=>({backgroundImage:"linear-gradient(131.17deg, #FF1764 0%, #ED3495 94.15%);",borderRadius:2,color:e.colors.ConstTextInverse,height:20,display:"inline-flex",lineHeight:"22px",textAlign:"center",fontSize:t?12:13,alignItems:"center",padding:"1px 5px 1px 5px",fontFamily:e.fontFamilies.Proxima,fontWeight:600})),"label:DivLiveTag;"),x=({text:e,className:t,children:i,isMobile:n=!1})=>{const l=(0,f.Q)();return(0,o.jsxs)(b,Object.assign({"data-e2e":"live-tag",className:t,isMobile:n},{children:[i,null!=e?e:l("LIVE")]}),void 0)};var y=i(11372),w=i(63854),k=i(32667),j=i(72692);const _="control-tip",C="control-icon",I=e=>{const{disableHover:t,isBrowserMode:i,hideTips:l=!1,isActive:a,onClick:r,onMouseEnter:s,activeIcon:d,inActiveIcon:c,activeTip:u,inActiveTip:v,dataE2E:h=""}=e,p=(0,n.useMemo)((()=>a?d:c),[d,c,a]),g=(0,n.useRef)(null),m=(0,n.useRef)(null),f=(0,n.useRef)(0),b=(0,n.useMemo)((()=>a?u:v),[u,v,a]),[x,y]=(0,n.useState)(!1),[w,I]=(0,n.useState)(),[P,M]=(0,n.useState)(),S=(0,n.useCallback)((()=>{if(clearTimeout(f.current),y(!0),g.current){const e=g.current.getBoundingClientRect();I({position:"absolute",left:`${e.left}px`,top:`${e.top}px`})}}),[f]),O=(0,n.useCallback)((()=>{clearTimeout(f.current),f.current=window.setTimeout((()=>{y(!1),I(void 0)}))}),[]);(0,n.useEffect)((()=>{if(x&&g.current&&m.current){const e=g.current.getBoundingClientRect(),t=Math.min(Math.max(e.left-m.current.offsetWidth/2+e.width/2,0),document.body.offsetWidth);I({position:"absolute",left:`${t}px`,top:e.top-m.current.offsetHeight-10+"px",visibility:"visible"}),M({left:e.left-t+e.width/2+"px"})}}),[x]);const E=(0,n.useCallback)((()=>{null==s||s(),S()}),[S,s]),T=(0,n.useCallback)((e=>{e.stopPropagation(),O(),null==r||r()}),[O,r]);return(0,o.jsxs)(j.fW,Object.assign({ref:g,onClick:T,"data-e2e":h,"data-testid":"control-container",onMouseEnter:E,onMouseLeave:O,disableHover:t},{children:[!l&&x?(0,k.createPortal)((0,o.jsxs)(j.dm,Object.assign({ref:m,onMouseEnter:E,onMouseLeave:O,style:w,"data-e2e":_,"data-testid":_},{children:[(0,o.jsx)(j.UD,Object.assign({style:P},{children:(0,o.jsxs)("svg",Object.assign({width:"30",height:"8",viewBox:"0 0 30 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,o.jsx)("path",{d:"M0 0H6C-1 8.94079e-07 2 5.81146e-06 0 0Z",fill:"#545454",fillOpacity:"0.92"},void 0),(0,o.jsx)("path",{d:"M0 0H6H30C23 8.94079e-07 20 8 18 8C16 8 13 8.94079e-07 6 0C-1 8.94079e-07 2 5.81146e-06 0 0Z",fill:"#545454",fillOpacity:"0.92"},void 0)]}),void 0)}),void 0),b]}),void 0),document.body):null,(0,o.jsx)(j.tf,Object.assign({isBrowserMode:i,"data-e2e":C,"data-testid":C},{children:p}),void 0)]}),void 0)},P={activeIcon:(0,o.jsx)(y.Z,{width:"1em",height:"1em"},void 0),inActiveIcon:(0,o.jsx)(w.Z,{width:"1em",height:"1em"},void 0),activeTip:"Webapp_tooltips_Pause",inActiveTip:"Webapp_tooltips_play"};function M(e){const t=(0,f.Q)(),{onPlaying:i,activeIcon:n=P.activeIcon,inActiveIcon:l=P.inActiveIcon,activeTip:a=t(P.activeTip),inActiveTip:r=t(P.inActiveTip),hideTips:s,isBrowserMode:d,playing:c}=e,u={activeIcon:n,inActiveIcon:l,activeTip:a,inActiveTip:r};return(0,o.jsx)(I,Object.assign({isBrowserMode:d,hideTips:s,dataE2E:"play-icon",isActive:c,onClick:i},u),void 0)}var S=i(99116);const O=e=>{const{loading:t}=e;return t?(0,o.jsx)(S.g,{style:{display:"block",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:3}},void 0):null};var E=i(74820),T=i(28327),L=i(36488);const D=[(0,T.F4)({"0%":{y:"4px",height:"10px"},"40%":{y:"4px",height:"12px"},"70%":{y:"4px",height:"6px"},"100%":{y:"4px",height:"10px"}}),(0,T.F4)({"0%":{y:"4px",height:"6px"},"40%":{y:"4px",height:"10px"},"70%":{y:"4px",height:"12px"},"100%":{y:"4px",height:"6px"}}),(0,T.F4)({"0%":{y:"4px",height:"8px"},"40%":{y:"4px",height:"12px"},"70%":{y:"4px",height:"6px"},"100%":{y:"4px",height:"8px"}})],B=(0,u.Z)("svg",{target:"e1ii4hoh0"})((({isLiveStreaming:e,theme:{direction:t}})=>[(0,L.YJ)({direction:t,marginEnd:"4px"}),e?{rect:{transformOrigin:"center",transform:"rotateZ(180deg)",":nth-of-type(1)":{animation:`${D[0]} .5s ease-out infinite`},":nth-of-type(2)":{animation:`${D[1]} .5s ease-out infinite`},":nth-of-type(3)":{animation:`${D[2]} .5s ease-out infinite`}}}:null]),"label:SvgLiveIcon;"),R=(0,n.memo)((function({size:e=20,theme:t="red",isLiveStreaming:i,isDisabled:l}){const{colors:a}=(0,E.u)(),r=(0,n.useMemo)((()=>({white:{play:a.ConstTextInverse,stop:a.ConstTextInverse,disable:a.TextQuaternary},red:{play:a.Primary,stop:a.Primary2,disable:a.TextQuaternary}})),[a]),s=(0,n.useMemo)((()=>r[t]),[t,r]),d=(0,n.useMemo)((()=>l?s.disable:i?s.play:s.stop),[l,s,i]);return(0,o.jsxs)(B,Object.assign({isLiveStreaming:!l&&i,width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,o.jsx)("rect",{x:"4.1665",y:"4.16797",width:"2.69231",height:"11.6667",rx:"0.5",fill:d},void 0),(0,o.jsx)("rect",{x:"8.65381",y:"9.02734",width:"2.69231",height:"6.80555",rx:"0.5",fill:d},void 0),(0,o.jsx)("rect",{x:"13.1406",y:"7.08594",width:"2.69231",height:"8.75",rx:"0.5",fill:d},void 0)]}),void 0)})),Z=(0,u.Z)("div",{target:"e1ipuhsr0"})((({theme:e})=>Object.assign({width:"calc(100% - 24px)",zIndex:1,display:"flex",justifyContent:"center",alignItems:"center",color:e.colors.ConstTextInverse,fontWeight:700,margin:"0 12px"},e.typography.P2)),"label:DivClickTips;"),z=(0,u.Z)("div",{target:"e1ipuhsr1"})({flex:1,height:"1px",backgroundColor:"rgba(170, 169, 169, 0.17)"},"label:DivLine;"),V=(0,u.Z)("div",{target:"e1ipuhsr2"})({marginInlineEnd:"24px",height:"26px",lineHeight:"26px"},"label:DivClickTipsText;"),A=(0,u.Z)("div",{target:"e1ipuhsr3"})({marginInlineStart:"22px",height:"26px"},"label:DivStreamingIcon;"),F="click-tips-test-id",U=e=>{const{style:t}=e,i=(0,f.Q)();return(0,o.jsxs)(Z,Object.assign({style:t,"data-e2e":F,"data-testid":F},{children:[(0,o.jsx)(z,{},void 0),(0,o.jsx)(A,{children:(0,o.jsx)(R,{size:24,theme:"white",isLiveStreaming:!0},void 0)},void 0),(0,o.jsx)(V,{children:i("pm_web_fullpage_entry")},void 0),(0,o.jsx)(z,{},void 0)]}),void 0)};var q=i(86468);const H={width:24,height:24,fontSize:18,display:"flex",justifyContent:"center",alignItems:"center"},W={activeIcon:(0,o.jsx)("span",Object.assign({style:H},{children:(0,o.jsx)(q.z,{},void 0)}),void 0),inActiveIcon:(0,o.jsx)("span",Object.assign({style:H},{children:(0,o.jsx)(q.z,{},void 0)}),void 0)},N={activeIcon:(0,o.jsx)(q.z,{},void 0),inActiveIcon:(0,o.jsx)(q.z,{},void 0),activeTip:"pm_web_fullpage_error_button",inActiveTip:"pm_web_fullpage_error_button"};function $(e){const t=(0,f.Q)(),{isBrowserMode:i,onReplay:n,hideTips:l,activeIcon:a=(i?N.activeIcon:W.activeIcon),inActiveIcon:r=(i?N.inActiveIcon:W.inActiveIcon),activeTip:s=t(N.activeTip),inActiveTip:d=t(N.inActiveTip)}=e,c={activeIcon:a,inActiveIcon:r,activeTip:s,inActiveTip:d};return(0,o.jsx)(I,Object.assign({dataE2E:"replay-icon",hideTips:l,isBrowserMode:i,isActive:!0,onClick:n},c),void 0)}var G=i(34827),K=i(69709),Y=i(73560);const Q=(0,n.forwardRef)(((e,t)=>{const{playing:i=!1,onClickPlay:l,onClickPause:a,onControlsClick:r,defaultVolume:s,defaultMuted:d,onVolumeChange:c,onMutedChange:u,isBrowserMode:v=!1,showVolumeIcon:h=!1,showPlayControls:p=!1,showClickTips:g=!1,showPlayIcon:m=!1,showReplayIcon:f=!1}=e,b=(0,n.useRef)(null),{xgplayer:x,playerIsPlaying:y,loading:w,mutedPlay:k,handlePlayerDestroy:j}=(0,G.n)(Object.assign(Object.assign({},e),{playerContainerRef:b})),{PlayIcon:_,playIconProps:C}=function(e){const{defaultPlaying:t,onPlay:i,onPause:o}=null!=e?e:{},[l,a]=(0,n.useState)(null!=t&&t),r=(0,n.useCallback)((()=>{l?null==o||o():null==i||i(),a(!l)}),[o,i,l]);(0,n.useEffect)((()=>{void 0!==t&&a(t)}),[t]);const s=(0,n.useMemo)((()=>({playing:l,onPlaying:r})),[l,r]);return{playing:l,PlayIcon:M,playIconProps:s}}({defaultPlaying:i&&y,onPlay:l,onPause:a}),I=(0,n.useCallback)((()=>{var e;null===(e=x.current)||void 0===e||e.retry()}),[x]);return(0,n.useImperativeHandle)(t,(()=>({destroy:()=>{j()},retry:()=>{I()}}))),(0,o.jsxs)(Y.n3,Object.assign({ref:b},{children:[(0,o.jsx)(O,{loading:w},void 0),e.children,(0,o.jsxs)(Y.Se,Object.assign({isBrowserMode:v,visible:p,onClick:r},{children:[(0,o.jsx)(U,{style:{position:"relative",display:g?"flex":"none"}},void 0),(0,o.jsxs)(Y.Dz,{children:[m&&(0,o.jsx)(_,Object.assign({},C,{isBrowserMode:v,hideTips:!0}),void 0),f&&(0,o.jsx)($,{onReplay:I,isBrowserMode:v,hideTips:!0},void 0)]},void 0),(0,o.jsx)(Y.a$,{},void 0)]}),void 0),(0,o.jsx)(K.Q,{hideTips:!0,xgplayer:x,visible:h,defaultVolume:s,defaultMuted:d,mutedPlay:k,onVolumeChange:c,onMutedChange:u,isBrowserMode:v},void 0)]}),void 0)}));var J=i(99603),X=i(73850),ee=i(41928),te=i(43291),ie=i(79067);const oe={id:"camera-7753c8dd",use:"camera-7753c8dd-usage",viewBox:"0 0 70 56",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 56" id="camera-7753c8dd"><path fill="#161823" d="M7.599 55.123h42.608c4.174 0 7.57-3.397 7.575-7.57V37.144l9.66 8.671a1.511 1.511 0 0 0 1.63.257c.546-.242.9-.787.9-1.383V10.663a1.517 1.517 0 0 0-2.53-1.126l-9.66 8.671V7.801c0-4.174-3.396-7.57-7.57-7.57H7.599C3.425.23.029 3.626.029 7.8v39.751c0 4.174 3.396 7.57 7.57 7.57zM3.057 7.8a4.55 4.55 0 0 1 4.542-4.543h42.613A4.55 4.55 0 0 1 54.754 7.8v13.803a1.517 1.517 0 0 0 2.529 1.126l9.66-8.671v27.24l-9.66-8.672a1.517 1.517 0 0 0-2.529 1.126v13.799a4.55 4.55 0 0 1-4.542 4.542H7.599a4.55 4.55 0 0 1-4.542-4.542V7.8zm37.387 31.568a1.51 1.51 0 0 1-1.15-.532 13.218 13.218 0 0 0-9.955-4.666 1.53 1.53 0 0 1-.116.005 13.2 13.2 0 0 0-10.082 4.666 1.521 1.521 0 0 1-1.15.527 1.505 1.505 0 0 1-1.145-2.481 16.212 16.212 0 0 1 12.236-5.726c.043-.003.087-.005.13-.005a16.23 16.23 0 0 1 12.378 5.726 1.51 1.51 0 0 1-1.146 2.486zM18.182 26.34a1.505 1.505 0 0 1-1.507-1.506v-4.581c0-.834.673-1.507 1.507-1.507.834 0 1.507.673 1.507 1.506v4.581c0 .834-.674 1.508-1.507 1.508zm20.564-1.506c0 .833.673 1.507 1.507 1.507.834 0 1.507-.674 1.507-1.508v-4.58c0-.834-.673-1.507-1.507-1.507-.834 0-1.507.673-1.507 1.506v4.581z" /></symbol>'};function ne(e){const t=(0,n.useContext)(ie.e);return(0,n.useLayoutEffect)((()=>(t.add(oe),()=>{t.remove("camera-7753c8dd")})),[]),(0,o.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,o.jsx)("use",{xlinkHref:"#camera-7753c8dd"},void 0)}),void 0)}const le=(0,u.Z)("div",{target:"e1o3wfnp0"})((({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.colors.BGPrimary,borderRadius:8,height:"100%"})),"label:DivExceptionWrapper;"),ae=(0,u.Z)("div",{target:"e1o3wfnp1"})({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:480},"label:DivExceptionContent;"),re=(0,u.Z)("div",{target:"e1o3wfnp2"})({marginBottom:25,width:70,height:55},"label:DivIconWrapper;"),se=(0,u.Z)("h3",{target:"e1o3wfnp3"})((({theme:e})=>[(0,L.GI)({theme:e,typography:"P3",color:"TextPrimary",fontWeight:"semiBold"}),{fontSize:24,lineHeight:"32px",textAlign:"center",paddingBottom:8,margin:0}]),"label:H3Title;"),de=(0,u.Z)("h5",{target:"e1o3wfnp4"})((({theme:e})=>[(0,L.GI)({theme:e,color:"TextPrimary",fontWeight:"normal"}),{fontSize:16,lineHeight:"22px",textAlign:"center",paddingBottom:24,margin:0}]),"label:H5SubTitle;"),ce=(0,u.Z)(te.Z,{target:"e1o3wfnp5"})((({theme:e})=>({width:69,height:69,">path":{fill:e.colors.TextPrimary}})),"label:StyledErrorRobotLarge;"),ue=(0,u.Z)(ne,{target:"e1o3wfnp6"})((({theme:e})=>({width:69,height:69,fillOpacity:.34,">path":{fill:e.colors.TextPrimary}})),"label:StyledCameraSVG;"),ve=(0,u.Z)("div",{target:"e1o3wfnp7"})((({theme:e})=>({width:69,height:69,fillOpacity:.34,color:e.colors.TextPrimary})),"label:DivVideoSVG;"),he=e=>{const{title:t,className:i,subTitle:n,onClick:l,buttonText:a,status:r="camera",style:s}=e;return(0,o.jsx)(le,Object.assign({className:i,style:s},{children:(0,o.jsxs)(ae,{children:[(0,o.jsxs)(re,{children:["tv"===r&&(0,o.jsx)(ce,{},void 0),"camera"===r&&(0,o.jsx)(ue,{},void 0),"video"===r&&(0,o.jsx)(ve,{children:(0,o.jsx)(X.Y,{size:80},void 0)},void 0)]},void 0),(0,o.jsx)(se,{children:t},void 0),(0,o.jsx)(de,{children:n},void 0),(0,o.jsx)(ee.W,Object.assign({size:"largeNew",onClick:l},{children:a}),void 0)]},void 0)}),void 0)},pe=({content:e,onRetryClick:t})=>{const i=(0,f.Q)(),n=(0,J.gh)({isDark:!0});return(0,o.jsx)(E.a,Object.assign({theme:n},{children:(0,o.jsx)(he,{style:{zIndex:2,position:"absolute",top:0,width:"100%"},status:"tv",title:i("live_error_network_title"),subTitle:null!=e?e:i("live_error_network_body"),buttonText:i("live_error_network_button"),onClick:t},void 0)}),void 0)},ge=(0,u.Z)("div",{target:"e11gvri20"})({width:"100%",height:"100%",position:"relative",zIndex:100},"label:DivLiveEndContainer;"),me=(0,u.Z)("h2",{target:"e11gvri21"})((({theme:e})=>({fontSize:17,lineHeight:"20px",fontFamily:e.fontFamilies.Proxima,margin:"20px 0"})),"label:H2LiveTitle;"),fe=(0,u.Z)("div",{target:"e11gvri22"})({width:"48px",height:"48px",borderRadius:"50%",overflow:"hidden"},"label:DivAvatar;"),be=(0,u.Z)("div",{target:"e11gvri23"})((({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",position:"relative",color:e.colors.Primary2,zIndex:2})),"label:DivContent;"),xe=({isBrowserMode:e,avatarList:t,onTimeoutStart:i,onTimeoutEnd:l,onEnterUserPage:a})=>{const r=(0,J.gh)({isDark:!0,isMobile:!1}),[s,d]=(0,n.useState)(3),u=(0,f.Q)(),v=(0,n.useRef)(0),h=(0,n.useCallback)((()=>{v.current=window.setTimeout((()=>{d((e=>0===e?(null==l||l(),0):e-1)),h()}),1e3)}),[l]);return(0,n.useEffect)((()=>{e&&(null==i||i(),d(3),h())}),[e,h,i]),(0,o.jsx)(E.a,Object.assign({theme:r},{children:(0,o.jsxs)(ge,{children:[(0,o.jsxs)(be,{children:[(0,o.jsx)(fe,{children:(0,o.jsx)(c.t,{src:t},void 0)},void 0),(0,o.jsx)(me,{children:(0,o.jsx)("span",{children:u("live_ending_title")},void 0)},void 0),e?u("pm_mt_livecard_end_subtitle_1").replace("%d",String(s)):(0,o.jsx)(ee.W,Object.assign({size:"largeNew",onClick:a},{children:u("pm_web_fyp_homePage_entry")}),void 0)]},void 0),(0,o.jsx)(m,{urls:t},void 0)]},void 0)}),void 0)};var ye,we,ke,je,_e,Ce,Ie,Pe,Me,Se=i(12714),Oe=i(9236),Ee=i(95872);!function(e){e.LivePlay="livesdk_live_play",e.LivePlayFail="livesdk_live_play_fail",e.LiveShow="livesdk_live_show",e.LiveEndShow="livesdk_audience_live_end_show",e.WatchOneMin="livesdk_watch_onemin",e.LiveShare="livesdk_share",e.LiveDuration="livesdk_live_duration",e.LiveFinish="livesdk_finish_show",e.LiveEndViolationShow="livesdk_live_end_show",e.ShowVerifiedIcon="livesdk_authentication_icon_show",e.OBSRevokeUserPop="livesdk_obs_revoke_user_pop",e.SharePanelShow="share_panel_show",e.SharePanelClick="share_panel_click",e.ClickShareButton="click_share_button",e.RankingsSettingShow="livesdk_live_setting_show",e.ClickRankingsSetting="livesdk_live_rankings_setting_click",e.ClickRankingsSettingSubmit="livesdk_live_rankings_setting_result",e.LiveMatureThemeMaskShow="livesdk_mature_theme_mask_show",e.RecLivePlay="livesdk_rec_live_play",e.ReflowVideoPlay="reflow_video_play",e.EnterRoomDuration="livesdk_enter_room_duration",e.QuestionScanShow="livesdk_question_scan_show",e.LeaderBoardShow="livesdk_leaderboard_show",e.LeaderBoardFaqShow="livesdk_leaderboard_faq_show",e.LeaderBoardDuration="livesdk_leaderboard_duration",e.BottomMessageShow="livesdk_bottom_message_show",e.WarningMaskLayer="livesdk_violation_mask_layer",e.GuestDetailOpenClick="livesdk_guest_detail_open_click",e.LiveUnavailable="livesdk_live_unavailable",e.AutoplayUnavailable="livesdk_live_autoplay_unavailable"}(ye||(ye={})),function(e){e.VideoLive="video_live",e.ThirdParty="third_party",e.Media="media",e.Audio="audio",e.ScreenShare="screen_share",e.SocialLive="social_live",e.LiveStudio="live_studio"}(we||(we={})),function(e){e.DiscoverFeed="discorver_feed"}(ke||(ke={})),function(e){e.Screenshot="screen_shot",e.UserUpload="user_upload",e.Null="null"}(je||(je={})),function(e){e[e.UserRoomFail=2051]="UserRoomFail",e[e.RoomEnterFail=205]="RoomEnterFail",e[e.UserLeave=208]="UserLeave"}(_e||(_e={})),function(e){e.Pause="pause",e.Leave="leave",e.ChangeMode="change_mode",e.ChangePage="change_webpage",e.ChangeMute="change_mute",e.ChangeDefinition="change_definition",e.LiveEnd="live_end",e.Others="others"}(Ce||(Ce={})),function(e){e.Trending="trending",e.LiveMerge="live_merge",e.HomepageFollow="homepage_follow",e.Recommend="recommend",e.Following="following",e.HomepageHot="homepage_hot",e.LiveEnd="live_end",e.Others="others"}(Ie||(Ie={})),function(e){e.LiveCover="live_cover",e.SuggestedOtherPhoto="suggested_others_photo",e.Others="others"}(Pe||(Pe={})),function(e){e.Manual="manual",e.Auto="auto"}(Me||(Me={}));const Te={id:"collapse-a343dd70",use:"collapse-a343dd70-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="collapse-a343dd70"><path fill="white" d="M7.363 6.919a.641.641 0 0 1-.644.644l-3.735-.02a.641.641 0 0 1-.45-1.094L6.25 2.734a.641.641 0 0 1 1.094.45l.02 3.735ZM8.467 9.31a.641.641 0 0 1 .644-.644l3.736.02a.641.641 0 0 1 .45 1.094L9.58 13.496a.641.641 0 0 1-1.095-.45l-.02-3.735Z" /></symbol>'};function Le(e){const t=(0,n.useContext)(ie.e);return(0,n.useLayoutEffect)((()=>(t.add(Te),()=>{t.remove("collapse-a343dd70")})),[]),(0,o.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,o.jsx)("use",{xlinkHref:"#collapse-a343dd70"},void 0)}),void 0)}const De="rgba(22, 24, 35, 0.5)";var Be;!function(e){e.ExpandBtn="expand-btn",e.Horizontal="horizontal",e.Vertical="vertical"}(Be||(Be={}));const Re=e=>(0,T.F4)({"0%":{opacity:1,borderWidth:"2px",transform:"scale(1)"},"50%":{opacity:.5,borderWidth:"1px",transform:`scale(${1+e/255})`},"100%":{opacity:0,borderWidth:"1px",transform:`scale(${1+e/255})`}}),Ze=(0,u.Z)("div",{target:"e1kjggm80"})({width:"40px",height:"40px",borderRadius:"50%",overflow:"hidden",position:"relative"},"label:DivCollapseAvatar;"),ze=(0,u.Z)("div",{target:"e1kjggm81"})({display:"flex",height:"58px",flexDirection:"row",background:De,borderRadius:"100px",width:"fit-content"},"label:DivVoiceChatPanelCollapsed;"),Ve=(0,u.Z)("div",{target:"e1kjggm82"})({width:"48px",height:"48px",margin:"5px 0 5px 8px",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},"label:DivVoiceCollapsedItem;"),Ae=(0,u.Z)("div",{target:"e1kjggm83"})((({type:e})=>[{display:"flex",width:"100%",height:"100%",flexDirection:"horizontal"===e?"row":"column-reverse",justifyContent:"horizontal"===e?"initial":"end"}]),"label:DivVoiceChatPanel;"),Fe=(0,u.Z)("div",{target:"e1kjggm84"})({display:"flex",width:"100%",padding:"0 6px",alignItems:"center",position:"absolute",top:"5%",left:0},"label:DivVoiceHeader;"),Ue=(0,u.Z)("div",{target:"e1kjggm85"})({display:"flex",height:"14px",lineHeight:"14px",flex:2},"label:DivVoiceCoins;"),qe=(0,u.Z)("div",{target:"e1kjggm86"})((({theme:e})=>({borderRadius:"50%",width:"20px",height:"20px",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",background:"rgba(0, 0, 0, 0.12)",overflow:"hidden",color:e.colors.ConstTextInverse3})),"label:DivVoiceStatus;"),He=(0,u.Z)("div",{target:"e1kjggm87"})((({theme:e})=>({borderRadius:"50%",width:"14px",height:"14px",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",background:"rgba(22, 24, 35, 1)",overflow:"hidden",position:"absolute",color:e.colors.ConstTextInverse3,bottom:"4px",right:"5px",fontSize:"12px"})),"label:DivCollapsedVoiceStatus;"),We=(0,u.Z)("img",{target:"e1kjggm88"})({marginInlineEnd:"2.5px",width:"12px",height:"12px",verticalAlign:"middle"},"label:ImgCoin;"),Ne=(0,u.Z)("div",{target:"e1kjggm89"})((({theme:e})=>({color:e.colors.ConstTextInverse,fontFamily:e.fontFamilies.Proxima,fontWeight:400,fontSize:"12px"})),"label:DivCoinsNumber;"),$e=(0,u.Z)("div",{target:"e1kjggm810"})((({type:e})=>({userSelect:"none",backgroundSize:"cover",backdropFilter:"expand-btn"===e?"":"blur(4.5px)",paddingBottom:"horizontal"===e||"expand-btn"===e?0:"107%",width:"horizontal"===e||"expand-btn"===e?"83px":"initial",height:"horizontal"===e||"expand-btn"===e?"93px":0,margin:"4px",display:"flex",position:"relative",overflow:"hidden"})),"label:DivVoiceChatItem;"),Ge=(0,u.Z)("div",{target:"e1kjggm811"})({maxWidth:"40px",maxHeight:"40px",minWidth:"20px",minHeight:"20px",borderRadius:"50%",overflow:"hidden",backgroundColor:"white"},"label:DivAvatar;"),Ke=(0,u.Z)("div",{target:"e1kjggm812"})({backdropFilter:"blur(4.5px)",backgroundColor:De,position:"absolute",left:0,top:0,zIndex:-1,width:"140%",height:"140%"},"label:DivVoiceMask;"),Ye=(0,u.Z)("div",{target:"e1kjggm813"})((({theme:e})=>({color:e.colors.ConstTextInverse,fontFamily:e.fontFamilies.Proxima,fontWeight:400,fontSize:"12px",position:"absolute",bottom:"1%",padding:"6px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"calc(100% - 6px)"})),"label:DivHostName;"),Qe=(0,u.Z)("div",{target:"e1kjggm814"})((({theme:e})=>({width:"20px",height:"20px",cursor:"pointer",position:"absolute",left:0,top:0,display:"flex",justifyContent:"center",alignItems:"center",background:e.colors.ConstBGInverse2,borderRadius:"50%",overflow:"hidden"})),"label:DivCollapseBtn;"),Je=(0,u.Z)("div",{target:"e1kjggm815"})((({theme:e})=>({width:"20px",height:"20px",cursor:"pointer",background:e.colors.ConstBGInverse2,borderRadius:"50%",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",margin:"19px 8px"})),"label:DivExpandBtn;"),Xe=(0,u.Z)("div",{target:"e1kjggm816"})({position:"absolute",left:"0",top:"0",width:"100%",height:"100%",zIndex:-1},"label:DivVoiceAnimationWrapper;"),et=(0,u.Z)("div",{target:"e1kjggm817"})((({volume:e})=>({maxWidth:"44px",maxHeight:"44px",width:"100%",height:"100%",borderRadius:"50%",position:"absolute",left:0,top:0,border:"2px solid rgba(255, 255, 255, 0.5)",transformOrigin:"center center",animation:`${Re(e)} 2s infinite`})),"label:DivVoiceAnimationCircle;"),tt=(0,u.Z)("div",{target:"e1kjggm818"})((({volume:e})=>({width:"100%",height:"100%",maxWidth:"44px",maxHeight:"44px",borderRadius:"50%",border:"2px solid rgba(255, 255, 255, 0.5)",transformOrigin:"center center",animation:`${Re(e)} 4s infinite`,position:"absolute",left:0,top:0})),"label:DivVoiceAnimationCircle2;"),it=(0,u.Z)("div",{target:"e1kjggm819"})({position:"absolute",zIndex:1,top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:"44px",maxHeight:"44px"},"label:DivAvatarWrapper;"),ot=(0,u.Z)("div",{target:"e1kjggm820"})({position:"relative",maxWidth:"40px",maxHeight:"40px"},"label:DivCollapseAvatarWrapper;");var nt=i(31554);function lt(e){let t="",i="";const o=Number(e);if(isNaN(o))return"0";const{length:n}=o.toString();return n>6?(t="M",i=(o/Math.pow(10,6)).toFixed(1)):n>3?(t="K",i=(o/Math.pow(10,3)).toFixed(1)):i=o.toString(),i+t}var at=i(80096);const rt=(0,u.Z)("div",{target:"e1ozy39d0"})({backdropFilter:"blur(4.5px)",width:"100%",height:"100%",position:"absolute",zIndex:2,left:0,top:0},"label:DivBlurMask;"),st=(0,u.Z)("div",{target:"e1ozy39d1"})({width:"100%",height:"100%",position:"absolute",background:"rgba(22, 24, 35, 0.5)",zIndex:1,left:0,top:0},"label:DivGrayMask;"),dt=(0,u.Z)("div",{target:"e1ozy39d2"})({width:"100%",height:"100%",textAlign:"center",position:"absolute",zIndex:3,left:0,top:0},"label:DivPausedContainer;"),ct=(0,u.Z)("div",{target:"e1ozy39d3"})({width:"100%",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:1},"label:DivActicle;"),ut=(0,u.Z)("img",{target:"e1ozy39d6"})({maxWidth:"188px",margin:"0 auto"},"label:ImgPng;"),vt=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(dt,{children:(0,o.jsx)(ct,{children:(0,o.jsx)(ut,{style:{width:"100%"},src:at},void 0)},void 0)},void 0),(0,o.jsx)(rt,{},void 0),(0,o.jsx)(st,{},void 0)]},void 0);var ht=i(68459);const pt=({volume:e=0})=>(0,o.jsx)(o.Fragment,{children:e>25?(0,o.jsxs)(Xe,{children:[(0,o.jsx)(et,{volume:e},void 0),e>200&&(0,o.jsx)(tt,{volume:e},void 0)]},void 0):null},void 0),gt=({infoEnable:e=!1,type:t,hostInfo:i})=>{const n=2===Number(i.onlineStatus);return(0,o.jsxs)($e,Object.assign({type:t},{children:[n&&(0,o.jsx)(vt,{},void 0),i.avatarUrls?(0,o.jsx)(c.t,{style:{width:"140%",maxWidth:"140%",position:"absolute",transform:"translate(-50%, -50%)",left:"50%",top:"50%",zIndex:-1},src:i.avatarUrls},void 0):null,!n&&(0,o.jsx)(Ke,{},void 0),!n&&e&&(0,o.jsxs)(Fe,{children:[(0,o.jsxs)(Ue,{children:[(0,o.jsx)(We,{src:ht},void 0),(0,o.jsx)(Ne,{children:i.coins?lt(i.coins):0},void 0)]},void 0),i.muted?(0,o.jsx)(qe,{children:(0,o.jsx)(nt.Q,{},void 0)},void 0):null]},void 0),!n&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(it,{children:[(0,o.jsx)(Ge,{children:i.avatarUrls?(0,o.jsx)(c.t,{src:i.avatarUrls},void 0):null},void 0),i.muted?null:(0,o.jsx)(pt,{volume:i.volume},void 0)]},void 0),e&&(0,o.jsx)(Ye,{children:i.name},void 0)]},void 0)]}),i.id)},mt=e=>{const{type:t="horizontal",infoEnable:i,hostList:n,onCollapse:l}=e;return(0,o.jsxs)(Ae,Object.assign({type:t},{children:[n.map((e=>(0,o.jsx)(gt,{infoEnable:i,type:t,hostInfo:e},e.id))),"horizontal"===t&&i?(0,o.jsx)($e,Object.assign({type:"expand-btn"},{children:(0,o.jsx)(Qe,Object.assign({onClick:l},{children:(0,o.jsx)(Le,{},void 0)}),void 0)}),void 0):null]}),void 0)},ft={id:"expand-46b0eef7",use:"expand-46b0eef7-usage",viewBox:"0 0 14 15",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 15" id="expand-46b0eef7"><path fill="white" d="M4.028 3.21a.646.646 0 0 1 .795-.46l3.63.993a.646.646 0 0 1 .152 1.182L4.02 7.572a.646.646 0 0 1-.948-.724l.955-3.638Zm5.894 8.372a.646.646 0 0 1-.795.459l-3.629-.993a.646.646 0 0 1-.152-1.182L9.929 7.22a.646.646 0 0 1 .948.723l-.955 3.639Z" /></symbol>'};function bt(e){const t=(0,n.useContext)(ie.e);return(0,n.useLayoutEffect)((()=>(t.add(ft),()=>{t.remove("expand-46b0eef7")})),[]),(0,o.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,o.jsx)("use",{xlinkHref:"#expand-46b0eef7"},void 0)}),void 0)}const xt=e=>{const{hostList:t,infoEnable:i=!1,onExpand:n}=e;return(0,o.jsxs)(ze,{children:[t.map((e=>(0,o.jsxs)(Ve,{children:[(0,o.jsxs)(ot,{children:[(0,o.jsxs)(Ze,{children:[2===e.onlineStatus&&(0,o.jsx)(vt,{},void 0),e.avatarUrls?(0,o.jsx)(c.t,{src:e.avatarUrls,skeleton:"avatar"},void 0):null]},void 0),e.muted?null:(0,o.jsx)(pt,{volume:e.volume},void 0)]},void 0),2!==e.onlineStatus&&i&&e.muted?(0,o.jsx)(He,{children:(0,o.jsx)(nt.Q,{},void 0)},void 0):null]},e.id))),(0,o.jsx)(Je,Object.assign({onClick:n},{children:(0,o.jsx)(bt,{},void 0)}),void 0)]},void 0)},yt=e=>{const{type:t,collapse:i,onExpandClick:l}=e,[a,r]=(0,n.useState)(!0),s=(0,n.useCallback)((()=>{r(!0),null==l||l()}),[l]),d=(0,n.useCallback)((()=>{r(!1)}),[]);return(0,n.useEffect)((()=>{i&&"horizontal"===t&&r(!1)}),[t,i]),a?(0,o.jsx)(mt,Object.assign({},e,{onCollapse:d}),void 0):(0,o.jsx)(xt,Object.assign({},e,{onExpand:s}),void 0)};var wt=i(64047),kt=i(73566),jt=i(48185),_t=i(19630),Ct=i(53095),It=i(82346),Pt=i(68854),Mt=i(11348),St=i(60595),Ot=i(57244),Et=i(18645);let Tt=class{constructor(e){this.fetch=e}getListByType(e){return this.fetch.get("/webcast/linkmic_multi_guest/list_by_type/",{query:e,baseUrlType:4})}};Tt=(0,wt.__decorate)([(0,Ot.G)(),(0,wt.__metadata)("design:paramtypes",[Et.r])],Tt);let Lt=class extends kt.D{constructor(e){super(),this.service=e,this.defaultState={linkedUsers:[]}}updateFanTicket(e,t){var i;e.linkedUsers=null===(i=e.linkedUsers)||void 0===i?void 0:i.map((e=>{var i;return(null===(i=e.user)||void 0===i?void 0:i.id_str)===t.uid&&(e.fan_ticket=t.ticket),e}))}updateViewersList(e,t){e.linkedUsers=t}getMultiGuestListByType(e){return e.pipe((0,Ct.z)((e=>this.service.getListByType(e).pipe((0,Ct.z)((e=>0===e.status_code?(0,It.of)(this.getActions().updateViewersList(e.data.linked_users)):(0,It.of)())),(0,Pt.K)((()=>Mt.E))))))}};(0,wt.__decorate)([(0,jt.lF)(),(0,wt.__metadata)("design:type",Function),(0,wt.__metadata)("design:paramtypes",[Object,Object]),(0,wt.__metadata)("design:returntype",void 0)],Lt.prototype,"updateFanTicket",null),(0,wt.__decorate)([(0,jt.lF)(),(0,wt.__metadata)("design:type",Function),(0,wt.__metadata)("design:paramtypes",[Object,Object]),(0,wt.__metadata)("design:returntype",void 0)],Lt.prototype,"updateViewersList",null),(0,wt.__decorate)([(0,jt.Qm)(),(0,wt.__metadata)("design:type",Function),(0,wt.__metadata)("design:paramtypes",[St.y]),(0,wt.__metadata)("design:returntype",St.y)],Lt.prototype,"getMultiGuestListByType",null),Lt=(0,wt.__decorate)([(0,_t.Y)("BasicVoiceChatModule"),(0,wt.__metadata)("design:paramtypes",[Tt])],Lt);const Dt=(0,u.Z)("div",{target:"e8yuxcg0"})({width:"100%",position:"absolute",zIndex:7,transition:"bottom 300ms linear"},"label:DivVoiceChatPanelController;"),Bt=(0,n.memo)((e=>{const{playerContainerRef:t,anchorId:i,roomId:l,channelId:a,liveRoomMode:r=0,canvasWidth:s,canvasHeight:d,infoEnable:c,grids:u,bottom:v=16}=e,{hiddenInfoInPhoneSize:h,panelStyleType:p,controllerStyle:g}=(e=>{const[t,i]=(0,n.useState)(!1),{playerContainerRef:o,canvasWidth:l,canvasHeight:a,bottom:r}=e,s=(0,n.useMemo)((()=>l>a?"horizontal":"vertical"),[l,a]),[d,c]=(0,n.useState)(),u=(0,n.useCallback)((()=>{if(o.current&&"vertical"===s){const e=l/a,t=o.current.offsetHeight*e,n=o.current.offsetWidth,r=.28*t;c((e=>Object.assign(Object.assign({},e),{width:`${r}px`,right:(n-t+12)/(2*n)*100+"%",height:"75%",bottom:"12px"}))),i(r<=80)}}),[o,s,l,a]);return(0,Se.y)({callback:u,element:o}),(0,n.useEffect)((()=>{"horizontal"===s?c((e=>Object.assign(Object.assign({},e),{width:"100%",left:"16px",height:"100px",display:"flex",alignItems:"flex-end",bottom:r}))):u()}),[u,o,l,a,r,s]),{hiddenInfoInPhoneSize:t,panelStyleType:s,controllerStyle:d}})({playerContainerRef:t,canvasWidth:s,canvasHeight:d,bottom:v}),[m,f]=(0,n.useState)([]),b=(0,Oe.qj)(Lt),x=(0,Oe.mp)(Lt,{selector:e=>e.linkedUsers,dependencies:[]}),y=(0,n.useRef)(""),w=(0,n.useRef)({}),k=(0,n.useCallback)((()=>{var e;e={room_id:l,anchor_id:i,live_room_mode:r},Ee.W.event("livesdk_guest_detail_open_click",Object.assign(Object.assign({},e),{app_name:"webapp"}))}),[i,r,l]),j=(0,n.useCallback)((()=>{u.length>1?f((e=>(e.forEach((e=>{u.forEach((t=>{var i,o;if(t.uid_str&&e.linkMicId===t.uid_str){e.onlineStatus=null!==(i=t.online_user_state)&&void 0!==i?i:0,e.muted=1===(null==t?void 0:t.mute_a);const n=Number(t.talk_volume);e.volume=n>0?n:null!==(o=e.volume)&&void 0!==o?o:0,w.current[t.uid_str]={onlineStatus:e.onlineStatus,muted:e.muted,volume:e.volume}}}))})),[...e]))):f([])}),[u]);return(0,n.useEffect)((()=>{(null==u?void 0:u.length)<2||!l||!a||(e=>{let t="";return e.forEach(((e,i)=>{t+=`${e.uid_str}_${i}`})),y.current!==t&&(y.current=t,!0)})(u)&&b.getMultiGuestListByType({room_id:l,channel_id:a,anchor_id:i,need_list_type_set_json_str:JSON.stringify([1]),list_by_type_scene:0})}),[i,a,l,b,u]),(0,n.useEffect)((()=>{j()}),[j]),(0,n.useEffect)((()=>{var e;if(!(null==x?void 0:x.length)||!i)return;const t=null!==(e=x.filter((e=>{var t;return Boolean((null===(t=e.user)||void 0===t?void 0:t.id_str)!==i)})))&&void 0!==e?e:[];f(t.map((e=>{var t,i,o,n,l,a,r,s,d,c,u,v,h;const p=(null===(t=e.user)||void 0===t?void 0:t.id_str)?w.current[null===(i=e.user)||void 0===i?void 0:i.id_str]:null;return{id:null!==(n=null===(o=e.user)||void 0===o?void 0:o.id_str)&&void 0!==n?n:"",linkMicId:e.linkmic_id_str,avatarUrls:null!==(r=null===(a=null===(l=e.user)||void 0===l?void 0:l.avatar_thumb)||void 0===a?void 0:a.url_list)&&void 0!==r?r:[],name:null!==(d=null===(s=e.user)||void 0===s?void 0:s.nickname)&&void 0!==d?d:"",coins:Number(null!==(c=e.fan_ticket)&&void 0!==c?c:0),onlineStatus:null!==(u=null==p?void 0:p.onlineStatus)&&void 0!==u?u:0,volume:null!==(v=null==p?void 0:p.volume)&&void 0!==v?v:0,muted:null!==(h=null==p?void 0:p.muted)&&void 0!==h&&h}})))}),[x,i]),(0,n.useEffect)((()=>()=>{b.updateViewersList([]),y.current=""}),[b]),(0,o.jsx)(Dt,Object.assign({type:p,style:Object.assign({bottom:`${v}px`},g)},{children:Boolean(m.length)&&(0,o.jsx)(yt,{type:p,onExpandClick:k,infoEnable:c&&!h,hostList:m},void 0)}),void 0)}));var Rt=i(66147),Zt=i(16926),zt=i(35435);let Vt=class{constructor(e){this.fetch=e,this.checkRoomAlive=e=>this.fetch.get("/webcast/room/check_alive/",{query:e,baseUrlType:4})}};Vt=(0,wt.__decorate)([(0,Ot.G)(),(0,wt.__metadata)("design:paramtypes",[Et.r])],Vt);var At=i(43226),Ft=i.n(At);var Ut=i(90293),qt=i(21041),Ht=i(45313),Wt=i(1753);const Nt=(0,n.memo)((({requestId:e,liveInfo:t,isBrowserMode:i,active:l,loggerConfig:a,onPlayError:r,onLiveEndTimeoutStart:s,onLiveEndTimeoutEnd:c,volumeProps:u})=>{const v=(0,n.useRef)(null),{visible:h,handleVoiceChatPanelSeiParsed:p,voiceChannelControllerProps:g}=function(e){const{infoEnable:t,roomInfo:i,playerContainerRef:o}=e,[l,a]=(0,n.useState)(!1),{anchorId:r,roomId:s,liveRoomMode:d}=i,[c,u]=(0,n.useState)({anchorId:"",roomId:"",liveRoomMode:0,channelId:"",canvasWidth:0,canvasHeight:0,infoEnable:!1,grids:[],playerContainerRef:o}),v=(0,n.useCallback)((e=>{var i,n,l,c,v,h,p,g;if(20!==(null===(i=e.app_data)||void 0===i?void 0:i.ver))return;const m=null===(n=e.app_data)||void 0===n?void 0:n.grids,f=null!==(c=null===(l=e.app_data)||void 0===l?void 0:l.channel_id)&&void 0!==c?c:"",b=null!==(h=null===(v=e.app_data)||void 0===v?void 0:v.canvas.width)&&void 0!==h?h:0,x=null!==(g=null===(p=e.app_data)||void 0===p?void 0:p.canvas.height)&&void 0!==g?g:0;b&&x&&o.current&&(null==m?void 0:m.length)&&(null==m?void 0:m.length)>1&&r&&s&&f&&(u((e=>Object.assign(Object.assign({},e),{canvasWidth:b,canvasHeight:x,infoEnable:t,grids:m,roomId:s,anchorId:r,liveRoomMode:d,channelId:f,playerContainerRef:o}))),a(!0))}),[t,o,d,r,s]),h=(0,n.useCallback)((({bottom:e})=>{u((t=>Object.assign(Object.assign({},t),{bottom:e})))}),[]);return(0,n.useEffect)((()=>()=>{a(!1),u({anchorId:"",roomId:"",liveRoomMode:0,channelId:"",canvasWidth:0,canvasHeight:0,infoEnable:!1,grids:[],playerContainerRef:o})}),[o,r,s]),{visible:l,handleChangeVoiceChatPosition:h,handleVoiceChatPanelSeiParsed:v,voiceChannelControllerProps:c}}({infoEnable:!1,playerContainerRef:v,roomInfo:{anchorId:null==t?void 0:t.ownerInfo.id,roomId:null==t?void 0:t.roomID,liveRoomMode:null==t?void 0:t.mode}}),f=(0,n.useRef)(),b=(0,n.useMemo)((()=>(null==t?void 0:t.coverUrl)?[t.coverUrl]:[]),[null==t?void 0:t.coverUrl]),{handleOpenLive:y,handleEnterUserPage:w}=function({liveInfo:e,isBrowserMode:t}){const i=(0,qt.k6)();return{handleOpenLive:(0,n.useCallback)((()=>{if(null==e?void 0:e.ownerInfo.uniqueId){const i=(0,Ut.stringifyUrl)({url:(0,Ht.P4)({uniqueId:null==e?void 0:e.ownerInfo.uniqueId,secUid:null==e?void 0:e.ownerInfo.secUid}),query:{from_play_mode:t?"browser_mode":"one_column",enter_from_merge:"homepage_hot",enter_method:"live_cell"}});window.open(i,"tiktok_live_view_window")}}),[t,e]),handleEnterUserPage:(0,n.useCallback)((()=>{if(e){const t=`${(0,Ht.yl)({uniqueId:e.ownerInfo.uniqueId,secUid:e.ownerInfo.secUid})}`;i.push(t)}}),[i,e])}}({liveInfo:t}),{handleLeaveReport:k,handlePlayingReport:j,handlePauseReport:_,handlePlayReport:C}=function({active:e,isBrowserMode:t,liveInfo:i,requestId:o}){const l=(0,n.useRef)(0),a=(0,n.useRef)(!1),r=(0,n.useMemo)((()=>{var e;return{room_id:null==i?void 0:i.roomID,anchor_id:null===(e=null==i?void 0:i.ownerInfo)||void 0===e?void 0:e.id,follow_status:null==i?void 0:i.ownerInfo.relation,play_mode:t?"browser_mode":"one_column",request_id:o,live_room_mode:null==i?void 0:i.mode,enter_method:"live_cell"}}),[t,o,i]),s=(0,n.useCallback)((()=>{l.current=Date.now()}),[]),d=(0,n.useCallback)((()=>{if(a.current){const e=Date.now()-l.current;e>0&&(Rt.tB.handleLiveDuration(Object.assign({duration:e},r)),s())}}),[]),c=(0,n.useCallback)((()=>{s()}),[s]),u=(0,n.useCallback)((()=>{d()}),[d]),v=(0,n.useCallback)((()=>{d(),a.current=!1}),[d]),h=(0,n.useCallback)((()=>{a.current||(a.current=!0,Rt.tB.handleStartPlay(r),s())}),[r,s]);return(0,n.useEffect)((()=>{e&&Rt.tB.handleLiveShow(r)}),[e]),{handleLeaveReport:v,handlePlayReport:c,handlePauseReport:u,handlePlayingReport:h}}({active:l,isBrowserMode:i,requestId:e,liveInfo:t}),I=(0,n.useMemo)((()=>(null==t?void 0:t.streamData)?d({stream_data:t.streamData},{targetQuality:"ld",direction:"up"}):null),[t]),{isFatal:P,isEnd:M,handlePlayError:S,handleStreamEnd:O,handleRetry:E}=(({active:e,roomId:t,playerRef:i,handleParentPlayError:o})=>{const[l,a]=(0,n.useState)(!1),[r,s]=(0,n.useState)(!1),d=(0,Zt.fz)(Vt),c=(0,n.useCallback)((()=>{t&&(s(!1),d.checkRoomAlive({room_ids:t}).pipe((0,zt.w)((e=>{var o,n;return(null===(o=e.data)||void 0===o?void 0:o.find((e=>e.alive&&e.room_id_str===t)))?(a(!1),null===(n=i.current)||void 0===n||n.retry()):(s(!1),a(!0)),(0,It.of)()}))).subscribe())}),[d,t,i]),u=(0,n.useCallback)(((t,i)=>{null==o||o(t,i),e&&s(!0)}),[e,o]),v=(0,n.useCallback)((()=>{null==o||o(-1,"stream end"),e&&s(!0)}),[e,o]);return(0,n.useEffect)((()=>{e&&(s(!1),a(!1))}),[e,t]),{isFatal:r,isEnd:l,handleRetry:c,handlePlayError:u,handleStreamEnd:v}})({active:l,handleParentPlayError:r,roomId:null==t?void 0:t.roomID,playerRef:f}),{playing:T,defaultVolume:L,defaultMuted:D,showPlayControls:B,showVolumeIcon:R,handleMouseEnter:Z,handleMouseLeave:z,handlePlay:V,handlePause:A,handleClickPlay:F,handleClickPause:U,handleVolumeChange:q,handleMutedChange:H,handlePlaying:W}=function({active:e,isBrowserMode:t,isFatal:i,isEnd:o,handlePauseReport:l,handlePlayReport:a,handlePlayingReport:r,handleLeaveReport:s,volumeProps:d}){const{volume:c,mute:u,onGlobalVolumeChange:v,onGlobalMuteChange:h}=d,[p,g]=(0,n.useState)(100*c),[m,f]=(0,n.useState)(u),[b,x]=(0,n.useState)(!1),[y,w]=(0,n.useState)(null!=e&&e),k=(0,n.useRef)(y),[j,_]=(0,n.useState)(t),C=(0,n.useMemo)((()=>Boolean(b||j)||Boolean(t)),[j,t,b]),I=(0,n.useMemo)((()=>Boolean(b)),[b]),P=(0,n.useCallback)((()=>{x(!0),_(!1)}),[]),M=(0,n.useCallback)((()=>{i||o||w(!0)}),[o,i]),S=(0,n.useCallback)((()=>{i||o||w(!1)}),[o,i]),O=(0,n.useCallback)((()=>{a(),k.current=!0}),[a]),E=(0,n.useCallback)((()=>{l(),k.current=!1}),[l]),T=(0,n.useCallback)((()=>{console.log("handlePlaying"),r()}),[r]);(0,n.useEffect)((()=>{i||o||(e&&!k.current?w(!0):!e&&k.current&&(s(),w(!1)))}),[e,s,o,i]);const L=(0,n.useCallback)((()=>{u&&_(!0),x(!1)}),[u]),D=(0,n.useCallback)((e=>{f(e),_(e),null==h||h(e)}),[h]),B=(0,n.useCallback)((e=>{g(e),_(0===e),null==v||v(e/100)}),[v]);return(0,n.useEffect)((()=>{if(e){const e=function(e=Ft(),t=Ft()){let i,o;function n(){i&&document[i]?e():t()}return"hidden"in document?(i="hidden",o="visibilitychange"):"msHidden"in document?(i="msHidden",o="msvisibilitychange"):"webkitHidden"in document&&(i="webkitHidden",o="webkitvisibilitychange"),"addEventListener"in document&&i&&o?(document.addEventListener(o,n,!1),document.removeEventListener.bind(document,o,n,!1)):Ft()}((()=>{w(!1)}),(()=>{w(!0)}));return()=>{e()}}}),[e]),(0,n.useEffect)((()=>()=>{e&&k.current&&s()}),[e,s]),(0,n.useEffect)((()=>{e&&(g(100*c),f(u))}),[e,u]),{playing:y,defaultVolume:p,defaultMuted:m,showPlayControls:I,showVolumeIcon:C,handlePlay:O,handlePause:E,handleClickPlay:M,handleClickPause:S,handleMouseEnter:P,handleMouseLeave:L,handleMutedChange:D,handleVolumeChange:B,handlePlaying:T}}({handlePlayReport:C,handlePauseReport:_,handlePlayingReport:j,handleLeaveReport:k,volumeProps:u,isFatal:P,isEnd:M,isBrowserMode:i,active:l});return(0,o.jsxs)(Wt.ir,Object.assign({isBrowserMode:i,horizontal:1===(null==t?void 0:t.landscape),onMouseEnter:Z,onMouseLeave:z,ref:v},{children:[(null==t?void 0:t.coverUrl)&&(0,o.jsx)(m,{urls:b},void 0),(0,o.jsx)(Wt.ZR,Object.assign({isBrowserMode:i},{children:(0,o.jsx)(x,{},void 0)}),void 0),!P&&!M&&(0,o.jsx)(Q,Object.assign({isBrowserMode:i,ref:f,loggerConfig:a,defaultVolume:L,defaultMuted:D,showPlayControls:B,showVolumeIcon:R,showClickTips:!0,showPlayIcon:!0,showReplayIcon:!0,playing:T,autoMutedPlay:!0,autoplay:l,url:null==I?void 0:I.url.mainFLV,onControlsClick:y,onPlayError:S,onStreamEnd:O,onVolumeChange:q,onMutedChange:H,onClickPlay:F,onClickPause:U,onPlay:V,onPause:A,onSeiParsed:p,onPlaying:W},{children:h&&(0,o.jsx)(Bt,Object.assign({},g),void 0)}),void 0),P&&(0,o.jsx)(Wt.V3,{children:(0,o.jsx)(pe,{onRetryClick:E},void 0)},void 0),M&&(0,o.jsx)(Wt.V3,{children:(0,o.jsx)(xe,{isBrowserMode:i,onTimeoutStart:s,onTimeoutEnd:c,avatarList:b,onEnterUserPage:w},void 0)},void 0)]}),void 0)}))},1753:(e,t,i)=>{i.d(t,{Y:()=>l,ZR:()=>a,ir:()=>r,V3:()=>s});var o=i(68191),n=i(36488);const l=(0,o.Z)("div",{target:"eplq8xy0"})({width:"100%",height:"100%",zIndex:0,position:"relative"},"label:DivSearchPlayer;"),a=(0,o.Z)("div",{target:"eplq8xy1"})((({isBrowserMode:e,theme:t})=>Object.assign(Object.assign({position:"absolute",top:e?"31px":"16px"},"rtl"===t.direction?{right:e?"146px":"16px"}:{left:e?"146px":"16px"}),{zIndex:20})),"label:DivLiveTag;"),r=(0,o.Z)("div",{target:"eplq8xy2"})({position:"relative",boxSizing:"border-box",backgroundSize:"cover",cursor:"pointer",borderRadius:"8px",zIndex:1,width:0,overflow:"hidden"},(({theme:{direction:e}})=>[(0,n.YJ)({direction:e,marginEnd:"20px"})]),(({isBrowserMode:e,horizontal:t})=>[e?{width:"100%",height:"100%"}:{marginTop:"22px",width:t?520:337.5,height:t?292.5:600},!e&&(0,n.f1)({max:1919,style:{width:t?520:"calc((450px + (100vw - 768px) / 1152 * 100) * (9 / 16))",height:t?292.5:"calc(450px + (100vw - 768px) / 1152 * 100)"}},{max:767,style:{width:t?380:"calc((380px + (100vw - 480px) / 288 * 20) * (9 / 16))",height:t?213.75:"calc(380px + (100vw - 480px) / 288 * 20)"}},{max:479,style:{width:t?264:"calc(100vw - 32px - 60px)",height:t?148.5:"calc((100vw - 32px - 60px) / (9 / 16))"}})]),"label:DivRecommendLivePlayer;"),s=(0,o.Z)("div",{target:"eplq8xy3"})({width:"100%",height:"100%",zIndex:100,position:"absolute",left:0,top:0},"label:DivPlayerStatus;")},29980:(e,t,i)=>{i.d(t,{q:()=>r});var o=i(9236),n=i(91051),l=i(68852),a=i(3148);function r(){const[{mute:e,volume:t},i]=(0,o.b7)(l.x,{selector:e=>({mute:e.mute,volume:e.volume}),dependencies:[]}),r=(0,n.useCallback)((e=>{a.Bv.setItem("volume",e),i.setVolume(e)}),[i]),s=(0,n.useCallback)((e=>{a.Bv.setItem("muted",e),i.setMute(e)}),[i]);return(0,n.useMemo)((()=>({volume:t,mute:e,onGlobalVolumeChange:r,onGlobalMuteChange:s})),[s,r,e,t])}},1500:(e,t,i)=>{i.d(t,{Ek:()=>l});var o=i(91051),n=i(17133);function l(){var e;const{user:t,wid:i}=null!==(e=(0,n.Lh)((()=>["user","wid"]),[]))&&void 0!==e?e:{};return(0,o.useMemo)((()=>({open:!0,aid:"1988",project_key:"01da40f448edb427",app_name:"tiktok_web",uid:null==t?void 0:t.uid,device_id:i,channel:"va"})),[t,i])}},77330:(e,t,i)=>{i.d(t,{dq:()=>r});var o,n=i(16926),l=i(91051),a=i(11467);function r(){const e=(0,n.fz)(a.n),t=(0,l.useCallback)((()=>{e.emitEvent("live_player_browser_mode_init",{},{})}),[e]),i=(0,l.useCallback)(((t,i)=>{e.emitEvent("live_player_browser_mode_error",{code:t,message:i},{})}),[e]);return(0,l.useEffect)((()=>{t()}),[t]),{handlePlayErrorReport:i}}!function(e){e.FYP="live_player_fyp_init",e.FYPError="live_player_fyp_error",e.BrowserMode="live_player_browser_mode_init",e.BrowserModeError="live_player_browser_mode_error"}(o||(o={}))},1575:(e,t,i)=>{i.d(t,{t:()=>h});var o,n=i(11040),l=i(91051),a=i(68191),r=i(36488);function s({styleType:e,direction:t}){switch(e){case 0:case 1:return{flexDirection:"column"};case 2:return{flexDirection:"row","& + &":(0,r.YJ)({direction:t,marginStart:"20px"})}}return null}!function(e){e[e.OneColumn=0]="OneColumn",e[e.OneColumnShare=1]="OneColumnShare",e[e.BrowserMode=2]="BrowserMode"}(o||(o={}));const d=(0,a.Z)("button",{target:"e1hk3hf90"})((({styleType:e,theme:{direction:t,colors:i}})=>[r.Ph,{position:"relative",display:"flex",alignItems:"center",cursor:"pointer",":disabled":{cursor:"default",color:i.TextPrimary}},s({styleType:e,direction:t})]),"label:ButtonActionItem;");function c({styleType:e,direction:t}){switch(e){case 0:return[{marginTop:"8px",marginBottom:"6px"},(0,r.f1)({max:767,style:{width:"32px",height:"32px",padding:"6px",svg:{width:"20px",height:"20px"}}})];case 1:return[{padding:"0",marginTop:"8px",marginBottom:"6px"}];case 2:return[{padding:"6px"},(0,r.YJ)({direction:t,marginEnd:"6px"})]}return null}const u=(0,a.Z)("span",{target:"e1hk3hf91"})((({styleType:e,theme:{direction:t,colors:i}})=>[{display:"flex",justifyContent:"center",alignItems:"center",width:2===e?"32px":"48px",height:2===e?"32px":"48px",fontSize:"0px",borderRadius:"50%",transition:"all ease-in-out 200ms"},1!==e?{backgroundColor:i.BGInput,[`${d}:not(:disabled) &:hover`]:{backgroundColor:i.BGInput2},[`${d}:not(:disabled) &:active`]:{backgroundColor:"rgba(22, 24, 35, .14)"}}:null,c({styleType:e,direction:t})]),"label:SpanIconWrapper;"),v=(0,a.Z)("strong",{target:"e1hk3hf92"})((({theme:e})=>(0,r.GI)({theme:e,typography:"P4",color:"TextSecondary"})),{textAlign:"center"},"label:StrongText;"),h=(0,l.memo)((0,l.forwardRef)((function(e,t){const{text:i,Icon:o,styleType:a,disabled:r,children:s,e2eTag:c,style:h,ariaLabel:p,ariaPressed:g,ariaExpanded:m}=e,f=(0,l.useRef)(null),b=(0,l.useCallback)((()=>{var e,t;return null===(t=Array.from(null===(e=f.current)||void 0===e?void 0:e.querySelectorAll("*")))||void 0===t?void 0:t.includes(document.activeElement)}),[]),x=(0,l.useCallback)((()=>{var e;null===(e=f.current)||void 0===e||e.focus()}),[]);return(0,l.useImperativeHandle)(t,(()=>({hasFocusForChildren:b,setFocus:x}))),(0,n.jsxs)(d,Object.assign({styleType:a,type:"button",onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onKeyDown:e.onKeyDown,onBlur:e.onBlur,disabled:r,"aria-label":p,"aria-pressed":g,"aria-expanded":m,ref:f},{children:[(0,n.jsx)(u,Object.assign({style:null!=h?h:{},styleType:a,"data-e2e":`${c}-icon`},{children:o}),void 0),(0,n.jsx)(v,Object.assign({"data-e2e":`${c}-count`},{children:i}),void 0),s]}),void 0)})))},4245:(e,t,i)=>{i.d(t,{H:()=>r});var o=i(11040),n=i(91051),l=i(64176),a=i(32273);const r=e=>{const{visible:t=!1,duration:i=5e3,onHide:r,text:s,children:d,onShow:c,closeByActive:u}=e,v=(0,a.Q)(),[h,p]=(0,n.useState)(!1);(0,n.useEffect)((()=>{p(t)}),[t]),(0,n.useEffect)((()=>{!h&&r&&r(),h&&(null==c||c(),setTimeout((()=>{p(!1)}),i))}),[r,h,i,c]);const g=(0,n.useCallback)((()=>{u&&p(!1)}),[u]),m=(0,n.useMemo)((()=>({padding:"12px"})),[]),f=(0,n.useMemo)((()=>({keepParent:!0})),[]);return(0,o.jsx)(l.u,Object.assign({destroyTooltipOnHide:f,onClick:g,placement:"top",overlay:v(s),tooltipTheme:"blue",visible:h,overlayInnerStyle:m},{children:d}),void 0)}},34718:(e,t,i)=>{i.d(t,{Z:()=>n,j:()=>l});var o=i(3148);const n=e=>{var t;return-1!==(null!==(t=o.F3.getItem("has_use_seek_bar"))&&void 0!==t?t:[]).indexOf(e)},l=e=>{var t;const i=null!==(t=o.F3.getItem("has_use_seek_bar"))&&void 0!==t?t:[];-1===i.indexOf(e)&&i.push(e),o.F3.setItem("has_use_seek_bar",i)}},82479:(e,t,i)=>{i.d(t,{p:()=>m});var o=i(11040),n=i(74820),l=i(91051),a=i(59754),r=i(58718),s=i(73382),d=i(68191),c=i(36488);const u=(0,d.Z)("div",{target:"e7o5pyu0"})({display:"flex",alignItems:"start",justifyContent:"center",padding:"8px",backgroundColor:"rgba(0, 0, 0, 0.6)"},"label:DivContainer;"),v=(0,d.Z)("div",{target:"e7o5pyu1"})({flex:"0 0 22px",width:22,padding:"4px 0",fontSize:"16px"},"label:DivIconContainer;"),h=(0,d.Z)(v,{target:"e7o5pyu2"})((({theme:{direction:e}})=>({textAlign:(0,c.$K)(e,"start")})),"label:StyledWarningIconContainer;"),p=(0,d.Z)(v,{target:"e7o5pyu3"})((({theme:{direction:e}})=>({textAlign:(0,c.$K)(e,"start")})),"label:StyledArrowIconContainer;"),g=(0,d.Z)("div",{target:"e7o5pyu4"})((({theme:e})=>[(0,c.GI)({theme:e,fontWeight:"semiBold",color:"ConstTextInverse"}),{flex:"0 1 auto",fontSize:"16px",lineHeight:"24px",wordBreak:"break-word",verticalAlign:"text-top",textAlign:(0,c.$K)(e.direction,"start")}]),"label:DivWarnInfoContent;"),m=(0,l.memo)((function({info:{text:e,url:t},needExtraBottom:i=!1}){const{direction:d,colors:{ConstTextInverse:c}}=(0,n.u)(),v=(0,l.useMemo)((()=>"ltr"===d?(0,o.jsx)(a.Z,{fill:c},void 0):(0,o.jsx)(r.Z,{fill:c},void 0)),[c,d]),m=(0,l.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),t&&window.open(t,"_blank","noopener,noreferrer")}),[t]);return(0,o.jsxs)(u,Object.assign({onClick:m,style:{cursor:t?"pointer":"unset",paddingBottom:i?"44px":void 0}},{children:[(0,o.jsx)(h,{children:(0,o.jsx)(s.Z,{fill:c},void 0)},void 0),(0,o.jsx)(g,{children:e},void 0),t&&(0,o.jsx)(p,{children:v},void 0)]}),void 0)}))},76784:(e,t,i)=>{i.d(t,{o:()=>U});var o=i(11040),n=i(74820),l=i(9236),a=i(16926),r=i(91051),s=i(55758),d=i(86673),c=i(66833),u=i(2078),v=i(55198),h=i(79067);const p={id:"favorite-9adfc7c6",use:"favorite-9adfc7c6-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="favorite-9adfc7c6"><path fill="#FACE15" d="M4 4.5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v15.13a1 1 0 0 1-1.555.831l-6.167-4.12a.5.5 0 0 0-.556 0l-6.167 4.12A1 1 0 0 1 4 19.63V4.5Z" /><path fill="black" fill-opacity=".03" d="M4.032 4.144A1.894 1.894 0 0 0 4 4.5v15.13a1 1 0 0 0 1.555.831l6.167-4.12a.5.5 0 0 1 .41-.066l-.427-.198a1.489 1.489 0 0 0-1.377.063c-.581.339-1.45.85-2.25 1.339-.59.359-1.427.695-2.187.962-.929.325-1.86-.387-1.86-1.37V4.143Zm8.251 12.202 6.162 4.115A1 1 0 0 0 20 19.63V4.5a2 2 0 0 0-1.123-1.798c.21.254.334.58.33.936a117.008 117.008 0 0 1-.896 13.408c-.124.99-1.17 1.553-2.076 1.133l-3.952-1.833Z" /></symbol>'};var g=i(25772);const m={id:"uncollect-8a52664d",use:"uncollect-8a52664d-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="uncollect-8a52664d"><path fill="currentColor" d="M4 4.5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v15.13a1 1 0 0 1-1.555.831l-6.167-4.12a.5.5 0 0 0-.556 0l-6.167 4.12A1 1 0 0 1 4 19.63V4.5Z" /><path fill="currentColor" fill-opacity=".03" d="M4.032 4.144A1.894 1.894 0 0 0 4 4.5v15.13a1 1 0 0 0 1.555.831l6.167-4.12a.5.5 0 0 1 .41-.066l-.427-.198a1.489 1.489 0 0 0-1.377.063c-.581.339-1.45.85-2.25 1.339-.59.359-1.427.695-2.187.962-.929.325-1.86-.387-1.86-1.37V4.143Zm8.251 12.202 6.162 4.115A1 1 0 0 0 20 19.63V4.5a2 2 0 0 0-1.123-1.798c.21.254.334.58.33.936a117.008 117.008 0 0 1-.896 13.408c-.124.99-1.17 1.553-2.076 1.133l-3.952-1.833Z" /></symbol>'};function f(e){const t=(0,r.useContext)(h.e);return(0,r.useLayoutEffect)((()=>(t.add(m),()=>{t.remove("uncollect-8a52664d")})),[]),(0,o.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,o.jsx)("use",{xlinkHref:"#uncollect-8a52664d"},void 0)}),void 0)}var b=i(45313),x=i(32273),y=i(29025),w=i(32370),k=i(78772),j=i(33642),_=i(1575),C=i(50894),I=i(39696),P=i(48088),M=i(17133),S=i(4668),O=i(47251),E=i(91756),T=i(33794),L=i(55045),D=i(66599),B=i(38310),R=i(33966),Z=i(23745),z=i(69972);const V=20,A=(0,o.jsx)(s.Z,{width:V,height:V},void 0),F=(0,o.jsx)((function(e){const t=(0,r.useContext)(h.e);return(0,r.useLayoutEffect)((()=>(t.add(p),()=>{t.remove("favorite-9adfc7c6")})),[]),(0,o.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,o.jsx)("use",{xlinkHref:"#favorite-9adfc7c6"},void 0)}),void 0)}),{width:V,height:V},void 0),U=(0,r.memo)((function(e){var t,i,s,h;const p=(0,n.u)(),m="rtl"===p.direction,{isFavoriteV1:U}=(0,y.iS)(),q=(0,a.fz)(c.p),H=(0,x.Q)(),{itemId:W,hideComment:N=!1,teaParams:$,isTT4BAds:G=!1}=e,K=(0,O.gR)(W),[Y,Q]=(0,l.b7)(B.A,{selector:e=>e[W],dependencies:[W]}),J=(0,l.qj)(R.h),X=(0,l.mp)(D.z,{selector:e=>{var t;return e.users[null!==(t=null==Y?void 0:Y.author)&&void 0!==t?t:""]},dependencies:[null==Y?void 0:Y.author]}),[ee,te]=(0,r.useState)(!1),{stats:ie,digged:oe,id:ne="",collected:le}=null!=Y?Y:{},{uniqueId:ae="",secUid:re}=null!=X?X:{},se=(0,b.fH)({uniqueId:ae,secUid:re,videoId:ne}),[{activeTab:de},ce]=(0,l.b7)(Z.O),{showCreatorTab:ue}=(0,y.D8)(),{wid:ve=""}=null!==(t=(0,M.Lh)((()=>["wid"]),[]))&&void 0!==t?t:{},he=`https://www.tiktok.com${se}?is_from_webapp=1&sender_device=pc&web_id=${ve}`,pe=(0,r.useRef)(null),ge=(0,r.useMemo)((()=>e=>(0,E.IG)({platform:"copy",url:he,targetDOM:e})),[he]),me=(0,r.useCallback)((()=>{const e=pe.current;q.handleShare(Object.assign(Object.assign({},$),{platform:"copy",author_id:null==X?void 0:X.id,group_id:W,play_mode:"browser_mode",share_click_from:"short"})),ge(e)(),v.h.open({content:H("Copied"),duration:1.2,widthType:"half",getContainer:w.Z,getContainerPosition:"fixed"})}),[ge,W,q,H,null==X?void 0:X.id,$]),fe=(0,r.useCallback)((()=>{Q.postLikeVideo(Object.assign(Object.assign({},$),{id:W,isTT4BAds:G,enter_method:"click",play_mode:"browser_mode"}))}),[Q,G,W,$]),be=(0,C.X)({action:fe,modalConfig:{query:{enter_method:"click_like"}}}),xe=(0,r.useCallback)((()=>{le&&J.removeItemListById({key:"favorites",groupId:W}),Q.postCollectVideo({itemId:W})}),[le,Q,W,J]),ye=(0,C.X)({action:xe}),we=(0,r.useCallback)((e=>t=>{t.preventDefault(),de!==e&&ce.setActiveTab(e)}),[de,ce]),ke=(0,r.useMemo)((()=>(0,o.jsx)(g.Z,{fill:oe?p.colors.Primary:p.colors.Primary2,width:V,height:V},void 0)),[oe,p.colors.Primary,p.colors.Primary2]),je=(0,r.useMemo)((()=>le?F:(0,o.jsx)(f,{style:{color:p.colors.Primary2},width:V,height:V},void 0)),[le,p.colors.Primary2]),_e=(0,r.useMemo)((()=>Object.assign(Object.assign({},$),{author_id:null==X?void 0:X.id,group_id:W,play_mode:"browser_mode"})),[$,W,null==X?void 0:X.id]),{active:Ce,handleMouseEnter:Ie,handleMouseLeave:Pe}=(0,P.R)(200),{expanded:Me}=(0,T.c1)(),Se=(0,k.K$)(Y),Oe=(0,r.useCallback)((()=>{var e,t;q.handleSharePanelShow(Object.assign(Object.assign({},Se),{group_id:W,author_id:null==X?void 0:X.id,share_option_type:Me,poi_id:null===(e=null==Y?void 0:Y.poi)||void 0===e?void 0:e.id,playlist_id:null!==(t=null==Y?void 0:Y.playlistId)&&void 0!==t?t:"",popup_type:null==$?void 0:$.popup_type,is_sub_only_video:(null==Y?void 0:Y.subVideoMeta)?1:0,scene:"video_feed"})),Ie()}),[q,W,null==X?void 0:X.id,Me,null===(i=null==Y?void 0:Y.poi)||void 0===i?void 0:i.id,null==Y?void 0:Y.playlistId,null==Y?void 0:Y.subVideoMeta,null==$?void 0:$.popup_type,Se,Ie]),Ee=(0,T.JW)();(0,r.useEffect)((()=>{Ee()}),[Ee]);const Te=(0,r.useCallback)((()=>{te(!0)}),[te]),Le=(0,r.useCallback)((()=>{te(!1)}),[te]),De=(0,r.useCallback)((e=>{27===e.keyCode&&(e.stopPropagation(),e.preventDefault(),Le())}),[Le]),Be=(0,r.useRef)(null),Re=(0,r.useCallback)((e=>{var t;13===e.keyCode||32===e.keyCode?(e.stopPropagation(),e.preventDefault(),Oe()):27===e.keyCode&&(e.stopPropagation(),e.preventDefault(),null===(t=Be.current)||void 0===t||t.focus(),Pe())}),[Oe,Pe]),Ze=(0,r.useCallback)((()=>{window.setTimeout((()=>{var e,t;const i=null===(t=Array.from(null===(e=Be.current)||void 0===e?void 0:e.querySelectorAll("*")))||void 0===t?void 0:t.includes(document.activeElement);Ce&&!i&&Pe()}),300)}),[Pe,Ce]),ze=(0,k.kw)(Y),Ve=(null==X?void 0:X.isEmbedBanned)||ze,Ae=(0,r.useCallback)((()=>{u.vD.handleChannelGeneralClick("share_video","video_feed")}),[]);return(0,o.jsxs)(z.wu,Object.assign({ref:pe},{children:[(0,o.jsxs)(z.SD,{children:[(0,o.jsxs)(z.AZ,{children:[(0,o.jsx)(_.t,{styleType:2,text:(0,j.BT)(null==ie?void 0:ie.diggCount),Icon:ke,onClick:be,e2eTag:"browse-like",ariaLabel:`${(0,j.BT)(null==ie?void 0:ie.diggCount)} fixed_likes`,ariaPressed:oe},void 0),!N&&(0,o.jsx)(_.t,{styleType:2,text:(0,j.BT)(G?0:null==ie?void 0:ie.commentCount),Icon:A,disabled:!0,e2eTag:"browse-comment"},void 0),!G&&!U&&(0,o.jsx)(_.t,{styleType:2,text:(0,j.BT)(Number(null!==(s=null==ie?void 0:ie.collectCount)&&void 0!==s?s:0)),Icon:je,onClick:ye},void 0)]},void 0),!G&&(0,o.jsxs)(z.AZ,Object.assign({"data-e2e":"browse-share-group"},{children:[(0,o.jsx)(L.mB,{videoId:ne,uniqueId:ae,enabled:null==Y?void 0:Y.shareEnabled,mode:0,url:he,embedCode:K,isEmbedBanned:Ve,onEmbedModalVisibleChange:e.onEmbedModalVisibleChange,teaParams:_e,onSendMessagePanelOpen:Te,onClickShare:Ae},void 0),(0,o.jsxs)(z.no,Object.assign({"aria-expanded":Ce,"aria-label":`${H("webapp_share_btn")}`,onMouseEnter:Oe,onMouseLeave:Pe,onKeyDown:Re,onBlur:Ze,ref:Be},{children:[(0,o.jsx)(d.Z,{width:"16",height:"16"},void 0),(0,o.jsx)(I.G,Object.assign({placement:m?"bottomLeft":"bottomRight",active:Ce,margin:-12,arrowMargin:12,backgroundColor:p.colors.BGSecondary},{children:(0,o.jsx)(z.qf,{children:(0,o.jsx)(L.mB,{videoId:ne,uniqueId:ae,mode:1,url:he,enabled:null==Y?void 0:Y.shareEnabled,embedCode:K,isEmbedBanned:Ve,onEmbedModalVisibleChange:e.onEmbedModalVisibleChange,teaParams:_e,onSendMessagePanelOpen:Te,from:3},void 0)},void 0)}),void 0)]}),void 0)]}),void 0)]},void 0),!G&&(0,o.jsxs)(z.cl,{children:[(0,o.jsx)(z.ky,{children:he},void 0),(0,o.jsx)(z.z5,Object.assign({onClick:me},{children:H("copy_link")}),void 0)]},void 0),!G&&ue&&(0,o.jsxs)(z.DF,{children:[(0,o.jsx)(z.aE,Object.assign({isSelected:0===de},{children:(0,o.jsx)(z.Tn,Object.assign({isSelected:0===de,onClick:we(0)},{children:`Comments (${null===(h=null==Y?void 0:Y.stats)||void 0===h?void 0:h.commentCount})`}),void 0)}),void 0),(0,o.jsx)(z.aE,Object.assign({isSelected:1===de},{children:(0,o.jsx)(z.Tn,Object.assign({isSelected:1===de,onClick:we(1)},{children:"From this creator"}),void 0)}),void 0)]},void 0),ee&&(0,o.jsx)(S.J,{visible:ee,videoId:ne,onClose:Le,onKeyDown:De},void 0)]}),void 0)}))},99056:(e,t,i)=>{i.d(t,{d7:()=>z});var o=i(11040),n=i(74820),l=i(9236),a=i(91051),r=i(2606),s=i(66020),d=i(40013),c=i(2078),u=i(44663),v=i(87930),h=i(87458),p=i(83236),g=i(50894),m=i(9472),f=i(83014),b=i(63954),x=i(26641),y=i(35199),w=i(66599),k=i(88683),j=i(38310),_=i(8826),C=i(68191),I=i(36488),P=i(41928),M=i(15679),S=i(58590);const O=(0,C.Z)("div",{target:"evv7pft0"})({display:"flex",flexDirection:"row",alignItems:"center",padding:"22px 32px 0px",marginBottom:"15px",position:"relative",flex:"0 0 82px"},"label:DivInfoContainer;"),E=(0,C.Z)("span",{target:"evv7pft1"})((({theme:e})=>(0,I.GI)({theme:e,typography:"P1",fontWeight:"bold",fontFamily:"Sofia"})),"label:SpanUniqueId;");E.defaultProps=Object.assign(Object.assign({},E.defaultProps),{"data-e2e":"browse-username"});const T=(0,C.Z)("span",{target:"evv7pft2"})(Object.assign(Object.assign({},(0,I.FC)(1)),{display:"inline"}),"label:SpanEllipsis;"),L=(0,C.Z)("span",{target:"evv7pft3"})((({theme:e})=>(0,I.GI)({theme:e,typography:"P3",fontFamily:"Proxima"})),{display:"flex",alignItems:"center"},"label:SpanOtherInfos;");L.defaultProps=Object.assign(Object.assign({},L.defaultProps),{"data-e2e":"browser-nickname"});const D=(0,C.Z)(M.D,{target:"evv7pft4"})(I.wj,I.gi,{flex:"1 1 auto",":hover":{[`${E}`]:{textDecoration:"underline"}}},(({theme:{direction:e}})=>(0,I.YJ)({direction:e,marginEnd:"12px"})),"label:StyledLink;"),B=({theme:{direction:e}})=>[{flex:"0 0 40px",":hover":{[`~ ${D} ${E}`]:{textDecoration:"underline"}}},(0,I.YJ)({direction:e,marginEnd:"12px"})],R=(0,C.Z)(P.W,{target:"evv7pft7"})({justifySelf:"flex-end","& > svg":{marginRight:"6px"}},"label:StyledFollowButton;");R.defaultProps=Object.assign(Object.assign({},R.defaultProps),{"data-e2e":"browse-follow"});var Z=i(80298);const z=(0,a.memo)((function(e){const{uniqueId:t,nicknameEllipsis:i=!1,videoId:d,theme:g="line",buttonStyle:x,teaParams:k,isTT4BAds:_=!1,target:I="_self"}=e,P=(0,l.mp)(w.z,{selector:e=>e.users[t],dependencies:[t]}),{t:R,timeTranslator:Z}=(0,h.e)(),z=(0,l.mp)(j.A,{selector:e=>null==e?void 0:e[d],dependencies:[d]}),{secret:A,forFriend:F,createTime:U,adAuthorization:q}=null!=z?z:{},{showing:H,handleCardEnter:W,handleCardLeave:N,handleItemEnter:$,handleItemLeave:G}=(0,f.V)(),K=(0,y.zW)(P),{isShowLive:Y}=K;(0,y.TB)({isShowLive:Y,reportTrigger:Y,user:P,enterMethod:Y?"video_head_browser":"creator",autoReport:!0,reportValidator:()=>void 0!==(null==P?void 0:P.relation),once:!0});const Q=(0,a.useCallback)((()=>{c.vD.handleChannelGeneralClick("user","video_feed")}),[]),J=(0,y.CN)(Object.assign({user:P,enterMethod:Y?"video_head_browser":"creator"},k)),X=(0,a.useCallback)((e=>_?{adsClickSection:e,playMode:"browser_mode"}:{}),[_]),ee=(0,a.useMemo)((()=>Object.assign(Object.assign(Object.assign({},J),{author_id:J.to_user_id,group_id:d}),X("profile_image"))),[X,J,d]),te=(0,a.useMemo)((()=>{if(P)return Object.assign(Object.assign(Object.assign({},J),{author_id:P.id,to_user_id:P.id,group_id:d,enterMethod:"creator"}),X("user_name"))}),[P,J,d,X]),ie=(0,a.useMemo)((()=>({margin:"-11px 0 6px 83px"})),[]),{colors:oe}=(0,n.u)();if(!P)return(0,v.G)(["authorInfo"]);const{nickname:ne,secUid:le,verified:ae,stateControlledMedia:re}=P,se=function(e){return e?(0,C.Z)(S.G,{target:"evv7pft5"})(B):(0,C.Z)(M.D,{target:"evv7pft6"})(B)}(Y),de=_?R("pcad_sponsored"):ne,ce={isTT4BAds:_,uniqueId:t,secUid:le,onMouseEnter:_?void 0:$,onMouseLeave:_?void 0:G,isInBrowserMode:!0,onClick:e.onClick,onLinkClick:e.onLinkClick};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(O,Object.assign({onClick:Q},{children:[(0,o.jsx)(se,Object.assign({rel:"opener",target:I,teaParams:ee,"data-e2e":"browse-user-avatar"},ce,{children:(0,o.jsx)(p.k,Object.assign({needAnimation:!0,liveTheme:2,size:40},K),void 0)}),void 0),(0,o.jsxs)(D,Object.assign({target:I,rel:"opener",teaParams:te},ce,{children:[(0,o.jsxs)(E,{children:[i?(0,o.jsx)(T,{children:t},void 0):t,(ae||_)&&(0,o.jsx)(u.Q,{width:14,height:14,"data-e2e":"browse-bluev"},void 0)]},void 0),(0,o.jsx)("br",{},void 0),(0,o.jsxs)(L,{children:[i?(0,o.jsx)(T,{children:de},void 0):de,(0,o.jsx)("span",Object.assign({style:{margin:"0 4px"}},{children:"  "}),void 0),(0,o.jsx)("span",{children:Z(1e3*Number(U))},void 0),A&&!q&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",Object.assign({style:{margin:"0 4px"}},{children:"  "}),void 0),(0,o.jsx)(r.Z,{width:16,height:16,style:{fill:oe.TextPrimary,opacity:.5,margin:"0 4px"}},void 0),(0,o.jsx)("span",{children:R("video_label_private")},void 0)]},void 0),F&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{children:"  "},void 0),(0,o.jsx)(s.Z,{style:{margin:"0 4px"},width:20,height:20},void 0),(0,o.jsx)("span",Object.assign({className:"friend"},{children:R("Friends only")}),void 0)]},void 0)]},void 0)]}),void 0),!_&&(0,o.jsx)(V,{author:P,buttonStyle:x,video:z,theme:g,videoReportParams:k},void 0),H&&(0,o.jsx)(m.C,{top:30,fixedLeft:32,onMouseEnter:W,onMouseLeave:N,uniqueId:t},void 0)]}),void 0),(0,o.jsx)(b.i,{style:ie,stateControlledMedia:re,labelType:0},void 0)]},void 0)})),V=function({author:e,video:t,theme:i="line",buttonStyle:n,videoReportParams:a}){var r;const s=(0,l.mp)(x.G,{selector:t=>{var i,o;return(null===(o=null===(i=t.appContext)||void 0===i?void 0:i.user)||void 0===o?void 0:o.uniqueId)===e.uniqueId},dependencies:[e.uniqueId]}),c=(0,g.Q)({query:{enter_method:"click_follow"}}),{text:u,handleFollow:v,isFollowing:h,relation:p}=(0,k.w)({uniqueId:e.uniqueId,onNeedLogin:c,teaParams:Object.assign(Object.assign({},a),{group_id:null==t?void 0:t.id})});if(null==t?void 0:t.scheduleTime)return(0,o.jsx)(_.Q,{video:t},void 0);if(s)return(0,o.jsx)(Z.C,{videoId:null!==(r=null==t?void 0:t.id)&&void 0!==r?r:""},void 0);const m=h?"default":i;return(0,o.jsxs)(R,Object.assign({style:n,size:"small",buttonTheme:m,onClick:v},{children:[2===p?(0,o.jsx)(d.Z,{},void 0):null,u]}),void 0)}},89806:(e,t,i)=>{i.d(t,{S:()=>f});var o=i(11040),n=i(91051),l=i(21041),a=i(32273),r=i(32370),s=i(85640),d=i(68191),c=i(36488);const u=(0,d.Z)("div",{target:"e19twy0g0"})((({theme:{colors:e}})=>({position:"relative",width:310,height:218,boxSizing:"content-box",borderRadius:8,backgroundColor:e.BGPrimary,textAlign:"center"})),"label:DivLeaveModalContainer;"),v=(0,d.Z)("div",{target:"e19twy0g1"})((({theme:e})=>[(0,c.GI)({theme:e,color:"TextPrimary",typography:"H5"}),{position:"absolute",top:22,left:20,right:20}]),"label:DivTitle;"),h=(0,d.Z)("div",{target:"e19twy0g2"})((({theme:e})=>[(0,c.GI)({theme:e,color:"TextSecondary",typography:"H6"}),{position:"absolute",top:60,left:20,right:20}]),"label:DivSubTitle;"),p=(0,d.Z)("div",{target:"e19twy0g3"})({position:"absolute",top:118,left:20,right:20,height:100},"label:DivButtonContainer;"),g=(0,d.Z)("div",{target:"e19twy0g4"})((({theme:e})=>[(0,c.GI)({theme:e,color:"ConstTextInverse",typography:"H6"}),{height:48,lineHeight:"48px",borderRadius:2,backgroundColor:e.colors.Primary,cursor:"pointer"}]),"label:DivConfirmButton;"),m=(0,d.Z)("div",{target:"e19twy0g5"})((({theme:e})=>[(0,c.GI)({theme:e,color:"TextTertiary",typography:"H6"}),{height:48,lineHeight:"48px",cursor:"pointer",marginTop:2}]),"label:DivCancelButton;"),f=(0,n.memo)((function({needLeaveCheck:e,visible:t,onConfirmLeave:i,onCancelLeave:d}){const c=(0,a.Q)(),f=(0,l.k6)(),b=(0,n.useRef)(null),[x,y]=(0,n.useState)(!1),[w,k]=(0,n.useState)(!1),j=(0,n.useCallback)((()=>{y(!1),k(!0),i()}),[i]),_=(0,n.useCallback)((()=>{y(!1),b.current=null,d()}),[d]),C=(0,n.useCallback)((t=>!(!w&&e&&(y(!0),b.current=t,1))),[w,e]);(0,n.useEffect)((()=>{const e=b.current;w&&e&&f.push(e)}),[w,f]);const I=(0,r.Z)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.NL,{when:e,message:C},void 0),(0,o.jsx)(s.u_,Object.assign({parentRef:I,visible:t||x,maskCloseable:!1},{children:(0,o.jsxs)(u,{children:[(0,o.jsx)(v,{children:c("comment_tray_exit_title")},void 0),(0,o.jsx)(h,{children:c("comment_tray_exit_des")},void 0),(0,o.jsxs)(p,{children:[(0,o.jsx)(g,Object.assign({onClick:j},{children:c("comment_tray_exit_leave")}),void 0),(0,o.jsx)(m,Object.assign({onClick:_},{children:c("comment_tray_exit_stay")}),void 0)]},void 0)]},void 0)}),void 0)]},void 0)}))},13240:(e,t,i)=>{i.d(t,{r:()=>Bt});var o=i(11040),n=i(9236),l=i(91051),a=i(48319),r=i(21041),s=i(9343),d=i(17133),c=i(99297),u=i(11171),v=i(43348),h=i(32273),p=i(45949),g=i(33642),m=i(42531),f=i(40112),b=i(33966),x=i(270),y=i(5887),w=i(90293),k=i(41928),j=i(45313),_=i(69988),C=i(94215),I=i(68191),P=i(49907),M=i(36488),S=i(15261);const O=(0,I.Z)("div",{target:"e1ebu80n0"})((({theme:e})=>({width:"34px",height:"18px",display:"block",position:"absolute",bottom:-4,left:4,background:e.colors.BGPrimary,borderRadius:4,zIndex:0})),"label:DivLiveTagWhiteBlank;"),E=(0,I.Z)("div",{target:"e1ebu80n1"})({position:"absolute",bottom:-2,left:6,zIndex:1,width:30,height:14,lineHeight:15,backgroundImage:"linear-gradient(131.17deg, #FF1764 0%, #ED3495 94.15%)",borderRadius:"2px",color:"rgba(255, 255, 255, 1)",fontWeight:600,display:"flex",justifyContent:"center",alignItems:"center",fontSize:12},"label:DivLiveTag;"),T=(0,I.Z)("div",{target:"e1ebu80n2"})({position:"relative",zIndex:0},"label:DivProfileAvatar;"),L=(0,I.Z)("div",{target:"e1ebu80n3"})((({theme:e})=>({position:"absolute",left:"rtl"===e.direction?"9px":"-3px",top:"-3px",width:46,height:46,border:"2px solid #ED3495",borderRadius:"50%",zIndex:1})),"label:DivLiveCircle;"),D=(0,I.Z)("div",{target:"e1ebu80n4"})({display:"flex",justifyContent:"flex-start",alignItems:"center",height:38,cursor:"pointer"},"label:DivUserProfile;"),B=(0,I.Z)("div",{target:"e1ebu80n5"})({flex:1},"label:DivProfileInfo;"),R=(0,I.Z)(P.rU,{target:"e1ebu80n6"})({display:"block",textDecoration:"none","&:hover":{textDecoration:"none"}},"label:StyledProfileLink;"),Z=(0,I.Z)(S.t,{target:"e1ebu80n7"})((({theme:e})=>[(0,M.YJ)({direction:e.direction,marginEnd:12}),{width:40,height:40,borderRadius:"50%",position:"relative"}]),"label:StyledProfileAvatar;"),z=(0,I.Z)("div",{target:"e1ebu80n8"})((({theme:e})=>({fontSize:16,lineHeight:"22px",color:e.colors.TextPrimary,fontWeight:"bold",fontFamily:e.fontFamilies.Sofia,display:"inline-flex",alignItems:"center",justifyContent:"center",textDecoration:"none"})),"label:DivUniqueId;"),V=(0,I.Z)("h2",{target:"e1ebu80n9"})((({theme:e})=>[(0,M.GI)({theme:e,typography:"P2",fontWeight:"bold",fontFamily:"Proxima",color:"TextPrimary"}),{lineHeight:"26px",fontSize:"18px",display:"block",overflow:"hidden",textOverflow:"ellipsis"}]),"label:H2UniqueId;"),A=(0,I.Z)("h3",{target:"e1ebu80n10"})((({theme:e})=>[(0,M.GI)({theme:e,typography:"P3",fontWeight:"normal",fontFamily:"Proxima",color:"TextSecondary"}),{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}]),"label:H3Nickname;"),F=(0,I.Z)("div",{target:"e1ebu80n11"})({display:"flex",alignItems:"center"},"label:DivExtraContainer;"),U=(0,l.memo)((e=>{const t=(0,h.Q)(),{avatarUri:i,uniqueId:n,nickname:l,verified:a,href:r="",avatarCircle:s=!1,loading:d,onMouseEnter:c,onMouseLeave:u}=e,v=(0,o.jsxs)(D,{children:[(0,o.jsx)(Z,{src:"",size:48,skeleton:"avatar"},void 0),(0,o.jsxs)(B,{children:[(0,o.jsx)(z,{children:(0,o.jsx)(C.Od.Title,{style:{width:140,height:24}},void 0)},void 0),(0,o.jsx)(F,{children:(0,o.jsx)(C.Od.Title,{style:{width:160,height:15}},void 0)},void 0)]},void 0)]},void 0),p=(0,o.jsx)(R,Object.assign({to:r,target:"tiktok_live_view_window",rel:"noreferrer noopener"},{children:(0,o.jsxs)(D,Object.assign({onMouseEnter:c,onMouseLeave:u},{children:[s?(0,o.jsxs)(T,{children:[(0,o.jsxs)(L,{children:[(0,o.jsx)(E,{children:t("LIVE")},void 0),(0,o.jsx)(O,{},void 0)]},void 0),(0,o.jsx)(Z,{src:i,size:48,skeleton:"avatar"},void 0)]},void 0):(0,o.jsx)(Z,{src:i,size:48,skeleton:"avatar"},void 0),(0,o.jsxs)(B,{children:[(0,o.jsxs)(z,{children:[(0,o.jsx)(V,{children:n},void 0),a&&(0,o.jsx)(_.Z,{width:14,height:14,style:{margin:"0 4px"}},void 0)]},void 0),(0,o.jsx)(F,{children:(0,o.jsx)(A,{children:l},void 0)},void 0)]},void 0)]}),void 0)}),void 0);return d?v:p}));var q=i(66147);const H=(0,I.Z)("div",{target:"e4h3q9j0"})({flex:"0 0 544px",width:"544px",display:"flex",flexDirection:"column",padding:"32px 30px"},"label:DivLiveRoomDescriptionPanel;"),W=(0,I.Z)("div",{target:"e4h3q9j1"})({margin:"16px 0",fontStyle:"normal",fontWeight:400,fontSize:16,lineHeight:"24px"},"label:DivLiveRoomDescriptionContent;"),N=(0,l.memo)((({isEnd:e=!1,liveInfo:t,requestId:i})=>{const{commonLiveParams:n}=function({liveInfo:e,isEnd:t,requestId:i}){const o=(0,l.useMemo)((()=>{var t;return{room_id:null==e?void 0:e.roomID,anchor_id:null===(t=null==e?void 0:e.ownerInfo)||void 0===t?void 0:t.id,play_mode:"browser_mode",request_id:i,enter_from_merge:"homepage_hot",live_room_mode:null==e?void 0:e.mode}}),[i,e]);return(0,l.useEffect)((()=>{t||(q.tB.handleLiveShow(Object.assign(Object.assign({},o),{enter_method:"live_head"})),q.tB.handleLiveShow(Object.assign(Object.assign({},o),{enter_method:"live_btn"})))}),[t]),{commonLiveParams:o}}({requestId:i,liveInfo:t,isEnd:e}),a=(0,l.useCallback)((e=>(0,w.stringifyUrl)({url:(0,j.P4)({uniqueId:null==t?void 0:t.ownerInfo.uniqueId,secUid:null==t?void 0:t.ownerInfo.secUid}),query:{enter_from_merge:n.enter_from_merge,from_play_mode:n.play_mode,enter_method:e?"live_btn":"live_head"}})),[t,n]),r=(0,l.useCallback)((()=>{(null==t?void 0:t.ownerInfo.uniqueId)&&window.open(a(!0),"tiktok_live_view_window")}),[a,t]),s=(0,h.Q)(),d=(0,l.useMemo)((()=>e?(0,j.yl)({uniqueId:null==t?void 0:t.ownerInfo.uniqueId,secUid:null==t?void 0:t.ownerInfo.secUid}):a(!1)),[e,null==t?void 0:t.ownerInfo.uniqueId,null==t?void 0:t.ownerInfo.secUid,a]);return(0,o.jsxs)(H,{children:[(0,o.jsx)(U,{avatarUri:t.ownerInfo.avatarThumb,uniqueId:t.ownerInfo.uniqueId,nickname:t.ownerInfo.nickname,href:d,avatarCircle:!e,verified:t.ownerInfo.verified},void 0),(0,o.jsx)(W,{children:t.title},void 0),!e&&(0,o.jsx)(k.W,Object.assign({buttonTheme:"primary",size:"largeNew",onClick:r},{children:s("pm_web_fullpage_entry")}),void 0)]},void 0)}));var $=i(29980),G=i(1500),K=i(77330),Y=i(68457),Q=i(68852),J=i(3148),X=i(17353);const ee=(0,I.Z)("div",{target:"e1g3y02w0"})((({theme:{colors:e}})=>({position:"fixed",left:0,top:0,right:0,bottom:0,background:e.BGPrimary,zIndex:1e3,display:"flex",flexDirection:"row"})),"label:DivBrowserModeContainer;"),te=(0,I.Z)("div",{target:"e1g3y02w1"})({position:"absolute",width:"10%",height:"10%",filter:"blur(2px)",left:"50%",top:"50%",transform:"scale(11)",opacity:"0.3",background:"center no-repeat",backgroundSize:"cover"},"label:DivBlurBackground;"),ie=(0,I.Z)("svg",{target:"e1g3y02w2"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"},"label:SvgPlayIcon;");ie.defaultProps=Object.assign(Object.assign({},ie.defaultProps),{"data-e2e":"browse-video-play"});const oe=(0,I.Z)("button",{target:"e1g3y02w3"})((({theme:{colors:e}})=>({position:"absolute",zIndex:1,display:"flex",justifyContent:"center",alignItems:"center",width:"40px",height:"40px",background:e.ConstLineInverse,borderRadius:"50%",cursor:"pointer",border:"none",outline:"none",fontsize:0})),(({theme:e,isUiOptimise:t})=>(0,M.ZD)({theme:e,isUiOptimise:t})),"label:ButtonBasicButtonContainer;"),ne=(0,I.Z)(oe,{target:"e1g3y02w4"})((({theme:e,isUiOptimise:t})=>({top:"20px",transition:"opacity .3s",backgroundColor:t?"":e.colors.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5}})),(({theme:{direction:e}})=>(0,M.YJ)({direction:e,start:"20px"})),"label:StyledCloseIconContainer;");ne.defaultProps=Object.assign(Object.assign({},ne.defaultProps),{"data-e2e":"browse-close"});const le=(0,I.Z)(X.Z,{target:"e1g3y02w5"})({position:"absolute",zIndex:1,top:"20px",borderRadius:"100px",fill:"black"},(({theme:{direction:e}})=>(0,M.YJ)({direction:e,start:"84px"})),"label:StyledLogo;");le.defaultProps=Object.assign(Object.assign({},le.defaultProps),{"data-e2e":"browse-logo"});const ae=(0,I.Z)("div",{target:"e1g3y02w6"})((({theme:{colors:e}})=>({flex:"1 0 600px",background:e.ConstBGInverse,position:"relative",overflow:"hidden"})),"label:DivPlayerContainer;"),re=(0,l.memo)((function({itemListKey:e,currentIndex:t,onCloseBrowserMode:i,onNextVideo:a,onPrevVideo:r,zIndex:d=1e3}){const{handlePlayErrorReport:c}=(0,K.dq)(),k=(0,$.q)(),{currentId:_="",listLength:C}=(0,g.m7)((0,m.pe)({itemListKey:e,currentIndex:t})),[I,P]=(0,l.useState)(!1),[M,S]=(0,l.useState)(!1),[O,E]=(0,l.useState)(!1),T=t<C-1,L=(0,h.Q)();(0,f.$v)(2);const D=(0,l.useCallback)((()=>{E(!0)}),[]),B=(0,l.useCallback)((()=>{P(!I)}),[I]),R=(0,l.useCallback)((()=>{a()}),[a]),Z=(0,l.useCallback)((()=>{r()}),[r]),z=(0,l.useCallback)((()=>{i()}),[i]),V=(0,m.om)({handleNext:R,handlePrev:Z,hasNext:T,currentIndex:t,itemListKey:e}),{liveRoomInfo:A,requestId:F}=(0,m.Y3)({itemListKey:e,currentIndex:t}),U=(0,n.qj)(b.h);!function({liveRoomInfo:e,onCloseBrowserMode:t}){(0,l.useEffect)((()=>{if(!e)return;const t=(0,w.stringifyUrl)({url:(0,j.P4)({uniqueId:e.ownerInfo.uniqueId}),query:{live_room_mode:null==e?void 0:e.mode,play_mode:"browser_mode",enter_from_merge:"homepage_hot",enter_method:"live_cell"}});window.history.replaceState(window.history.state,"live-card",t)}),[e]),(0,l.useEffect)((()=>{const e=()=>{t({fromPopState:!0})};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}}),[])}({liveRoomInfo:A,onCloseBrowserMode:i}),function({currentId:e,togglePlay:t,handleNext:i,handlePrev:o,handleClose:a}){const r=(0,l.useRef)(!0),[{mute:d},c]=(0,n.b7)(Q.x,{selector:e=>({mute:e.mute}),dependencies:[]}),u=(0,l.useRef)(-1),v=(0,n.mp)(s.r,{selector:e=>e.isOpen,dependencies:[]}),h=(0,l.useCallback)((()=>{J.Bv.setItem("muted",!d),c.setMute(!d)}),[c,d]),p=(0,l.useCallback)((e=>{if(v)return;const n=new Map([[27,()=>{a()}],[40,()=>{i()}],[32,()=>{t()}],[38,()=>{o()}],[77,()=>{h()}]]);if(n.has(e.keyCode)){e.preventDefault(),e.stopPropagation();const t=n.get(e.keyCode);return null==t||t(),!1}}),[v,a,o,t,i,h]),g=(0,l.useRef)(p);g.current=p,(0,l.useEffect)((()=>{const e=e=>g.current(e);return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[]);const m=(0,Y.fB)((e=>{e.stopPropagation(),u.current&&clearTimeout(u.current),u.current=window.setTimeout((()=>{if(r.current)return;const t=-e.deltaY||-e.detail;Math.max(-1,Math.min(1,t))<0?i():o(),r.current=!1}),100)}),[e,i,o],20);(0,l.useEffect)((()=>(document.addEventListener("wheel",m),()=>{document.removeEventListener("wheel",m)})),[m]),(0,l.useEffect)((()=>{setTimeout((()=>{r.current=!1}),2e3)}),[])}({currentId:_,togglePlay:B,handleNext:R,handlePrev:Z,handleClose:z});const{showModal:q,hideModal:H}=(0,x.J)();(0,l.useEffect)((()=>(q(!0),P(!0),()=>{H(),P(!1)})),[H,q]);const W=(0,l.useCallback)((()=>{S(!0)}),[]),X=(0,l.useCallback)((()=>{D()}),[D]);(0,l.useEffect)((()=>{O&&_&&U.deleteLiveItem(_)}),[O,_,U]),(0,l.useEffect)((()=>{A||i()}),[A,i]);const ie=(0,G.Ek)();return(0,o.jsx)(u.ZP,Object.assign({returnFocus:!0},{children:(0,o.jsxs)(ee,Object.assign({style:{zIndex:d}},{children:[(0,o.jsxs)(ae,{children:[(0,o.jsx)(te,{style:{backgroundImage:`url(${null==A?void 0:A.coverUrl})`}},void 0),(0,o.jsx)(y.l,{liveInfo:A,requestId:F,loggerConfig:ie,onLiveEndTimeoutStart:W,onLiveEndTimeoutEnd:X,onPlayError:c,isBrowserMode:!0,active:I,volumeProps:k},void 0),(0,o.jsx)(ne,Object.assign({role:"button","aria-label":L("Close"),onClick:z,onMouseDown:p.UW},{children:(0,o.jsx)(v.Z,{width:18,height:18,fill:"#fff"},void 0)}),void 0),(0,o.jsx)(le,{width:40,height:40},void 0),V]},void 0),A&&(0,o.jsx)(N,{requestId:F,isEnd:M,liveInfo:A},void 0)]}),void 0)}),void 0)}));var se=i(87342),de=i(23745),ce=i(16926),ue=i(79089),ve=i(7772),he=i(48391),pe=i(63553),ge=i(98224),me=i(66833),fe=i(4180),be=i(80416),xe=i(55198),ye=i(40340),we=i(74577),ke=i(87930),je=i(20149),_e=i(25596),Ce=i(34579),Ie=i(8838),Pe=i(29025),Me=i(78772),Se=i(28478),Oe=i(50894),Ee=i(22143),Te=i(3995),Le=i(82261),De=i(82479),Be=i(67301),Re=i(41140),Ze=i(20393),ze=i(4668),Ve=i(88683),Ae=i(8996),Fe=i(38554),Ue=i(51985),qe=i(54649),He=i(43929),We=i(38310),Ne=i(89806),$e=i(38863),Ge=i(64157),Ke=i(19488),Ye=i(32144),Qe=i(21269),Je=i(23479),Xe=i(39043),et=i(76784),tt=i(99056),it=i(87812),ot=i(19294),nt=i(74891);const lt=(0,l.memo)((function(e){var t;const{item:i,prefetchId1:a="",prefetchId2:r="",teaParams:s,videoReportParams:c,isTT4BAds:u=!1}=e,v=(0,h.Q)(),{user:p}=null!==(t=(0,d.Lh)((()=>["user"]),[]))&&void 0!==t?t:{},f=Boolean(p),{id:b,author:x="",scheduleTime:y,poi:w,imagePost:k,capcutAnchors:j,music:_}=i,C=(0,Ve.p)(null==i?void 0:i.author),{nickname:I=""}=null!=C?C:{},{activeTab:P}=(0,n.mp)(de.O),{showCreatorTab:M}=(0,Pe.D8)(),S=(0,l.useMemo)((()=>3===(null==i?void 0:i.itemCommentStatus)||3===(null==C?void 0:C.commentSetting)||u),[null==C?void 0:C.commentSetting,null==i?void 0:i.itemCommentStatus,u]),O=(0,l.useMemo)((()=>(0,g.sA)(C,null==p?void 0:p.uid)),[C,null==p?void 0:p.uid]),E=(0,m.Ui)({id:b,needDispose:!1}),T=(0,l.useMemo)((()=>({author_id:x,group_id:b})),[x,b]),L=(0,l.useMemo)((()=>{var e;return{author_id:x,group_id:b,music_id:null!==(e=null==_?void 0:_.id)&&void 0!==e?e:""}}),[x,b,null==_?void 0:_.id]),D=(0,l.useRef)(b);(0,l.useEffect)((()=>{D.current!==b&&E&&E.current&&(E.current.scrollTop=0),D.current=b}),[b,E]);const B=(0,Oe.Q)({query:{enter_method:"click_comment"}}),R={isTT4BAds:u},{isOpenNewTab:Z}=(0,Pe.EA)(),z=Z?"_blank":"_self",V=(0,o.jsx)(tt.d7,Object.assign({target:z,onLinkClick:e.onLinkClick,uniqueId:x,videoId:b,teaParams:s},R),void 0),{prefixText:A,loginText:F,endText:U}=(0,m.Oi)(),q=(0,o.jsx)($e.p,Object.assign({onlyKey:b,lineClamp:4,overflowLineNum:8},{children:(0,o.jsx)(Ge.Q,{target:z,onLinkClick:e.onLinkClick,item:i,e2eTag:"browse-video-desc",reportParams:s},void 0)}),void 0);if(y)return(0,o.jsxs)(nt.EN,{children:[V,(0,o.jsxs)(nt.OH,{children:[q,(0,o.jsx)(nt.Gg,{scheduledTime:Number(y),height:22,fontSize:16,iconSize:20,iconMargin:4},void 0)]},void 0),(0,o.jsx)(nt.hh,{},void 0),(0,o.jsx)(nt.TK,{children:(0,o.jsx)(nt.Is,{children:v("scheduled_video_comment_unavailable")},void 0)},void 0)]},void 0);const H=`${A}${F}${U}`;return(0,o.jsxs)(nt.EN,{children:[V,(0,o.jsxs)(nt.OH,{children:[(null==k?void 0:k.title)&&(0,o.jsx)(nt.i3,{children:null==k?void 0:k.title},void 0),q,(0,o.jsxs)(nt.ij,{children:[(0,o.jsx)(Xe.C,{target:z,item:i},void 0),(0,o.jsx)(Ke.v,{item:i},void 0)]},void 0),(0,o.jsx)(Ye.L,{target:z,info:w,playMode:2,teaParams:T,onLinkClick:e.onLinkClick},void 0),(0,o.jsx)(Qe.G,{info:j,playMode:2,teaParams:L},void 0),(0,o.jsx)(Je._,{onLinkClick:e.onLinkClick,styleType:1,item:i,target:z,e2eTag:"browse-music",teaParams:s},void 0),(0,o.jsx)(et.o,Object.assign({itemId:b,onEmbedModalVisibleChange:e.onEmbedVisibleChange,teaParams:s},R),void 0)]},void 0),(0===P||!M)&&(0,o.jsxs)(o.Fragment,{children:[S?(0,o.jsx)(nt.Is,Object.assign({"data-e2e":"comment-turned-off"},{children:v("comment_off")}),void 0):(0,o.jsx)(it.$,{itemId:b,onClose:e.onClose,prefetchId1:a,prefetchId2:r,disableReply:O,ref:E,teaParams:s},void 0),f&&!S&&(0,o.jsx)(nt.TK,{children:O?(0,o.jsx)("div",{children:v("comment_disable_notfollow").replace("%@",I)},void 0):(0,o.jsx)(ot._,{itemId:b,teaParams:c},void 0)},void 0),!f&&(0,o.jsx)(nt.TK,Object.assign({onClick:B},{children:(0,o.jsx)(nt.Vk,{children:H},void 0)}),void 0)]},void 0),1===P&&M&&(0,o.jsx)(o.Fragment,{children:" creator tab placeholder text"},void 0)]},void 0)}));var at=i(38997),rt=i(30967),st=i(79067);const dt={id:"tt4b-ads-tiktok-1ebeae93",use:"tt4b-ads-tiktok-1ebeae93-usage",viewBox:"0 0 72 72",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 72" id="tt4b-ads-tiktok-1ebeae93"><g clip-path="url(#tt4b-ads-tiktok-1ebeae93_a)"><rect width="72" height="72" fill="black" rx="4" /><rect width="72" height="72" fill="black" rx="4" /><path fill="#27F3EE" d="M23 57a6 6 0 0 1 12 0v53.256H23V57ZM7 64a6 6 0 0 1 12 0v53.256H7V64Z" /><path fill="#FD2D55" d="M55 36a6 6 0 0 1 12 0v53.256H55V36Z" /><path fill="black" d="M64 35.313a1.687 1.687 0 0 1-1.688-1.688h-1.124v4.594a1.031 1.031 0 1 1-.75-.993v-1.145a2.156 2.156 0 1 0 1.875 2.138v-2.344a2.8 2.8 0 0 0 1.687.563v-1.126Z" /><path fill="#27F3EE" d="M39 49a6 6 0 0 1 12 0v53.256H39V49Z" /><path fill="#27F3EE" fill-rule="evenodd" d="M52 10a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 1 1-4 0v-3.546l-14.671 13.04a2 2 0 0 1-2.389.202l-15-9.375-16.968 9.427a2 2 0 0 1-1.943-3.496l18-10a2 2 0 0 1 2.031.052l14.73 9.206L56.74 12H54a2 2 0 0 1-2-2Z" clip-rule="evenodd" /></g><defs><clipPath id="tt4b-ads-tiktok-1ebeae93_a"><rect width="72" height="72" fill="white" rx="4" /></clipPath></defs></symbol>'};function ct(e){const t=(0,l.useContext)(st.e);return(0,l.useLayoutEffect)((()=>(t.add(dt),()=>{t.remove("tt4b-ads-tiktok-1ebeae93")})),[]),(0,o.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,o.jsx)("use",{xlinkHref:"#tt4b-ads-tiktok-1ebeae93"},void 0)}),void 0)}var ut=i(90525),vt=i(28972);const ht=(0,I.Z)("div",{target:"e1jfh5010"})((({theme:{direction:e}})=>[{position:"absolute",bottom:"24px",width:"473px",height:"107px",background:"white",display:"flex",alignItems:"center",boxShadow:"0px 2px 12px rgb(0 0 0 / 12%)",borderRadius:"4px",zIndex:1},(0,M.YJ)({direction:e,start:"24px"})]),"label:DivStyledPopupAds;"),pt=(0,I.Z)(k.W,{target:"e1jfh5011"})((({theme:{direction:e}})=>[{height:"36px"},(0,M.YJ)({direction:e,marginEnd:"15px"})]),"label:StyledStartButton;"),gt=(0,I.Z)("div",{target:"e1jfh5012"})((({theme:{direction:e}})=>[{alignItems:"center",display:"flex"},(0,M.YJ)({direction:e,marginStart:"16px"})]),"label:DivAdsIconContainer;"),mt=(0,I.Z)("div",{target:"e1jfh5013"})((({theme:{direction:e}})=>[{display:"flex",flexDirection:"column"},(0,M.YJ)({direction:e,marginStart:"12px"})]),"label:DivAdsTextContainer;"),ft=(0,I.Z)("div",{target:"e1jfh5014"})((({theme:{direction:e}})=>[{color:"#161823",fontWeight:"700",fontSize:"18px",width:"214px",height:"26px"},(0,M.YJ)({direction:e,start:"0px"})]),"label:DivAdsTitle;"),bt=(0,I.Z)("div",{target:"e1jfh5015"})((({theme:{direction:e}})=>[{width:"202px",height:"44px",color:"#161823",fontWeight:"400",fontSize:"16px"},(0,M.YJ)({direction:e,start:"0px"})]),"label:DivAdsDescription;"),xt=(0,I.Z)(vt.Z,{target:"e1jfh5016"})((({theme:{direction:e}})=>[{width:"16px",height:"16px",color:"rgba(22, 24, 35, 0.34)",cursor:"pointer"},(0,M.YJ)({direction:e,start:"0px"})]),"label:StyledCloseButton;"),yt=(0,l.memo)((function(e){const{openAdsHandler:t}=(0,ut.m)(4,"sign_up_button","browser_mode"),{onClick:i,itemId:a}=e,r=(0,h.Q)(),s=(0,n.qj)(We.A),d=(0,l.useCallback)((()=>{s.closeTT4BAdsPopup(a)}),[s,a]);return(0,o.jsxs)(ht,Object.assign({onClick:i},{children:[(0,o.jsx)(gt,Object.assign({"data-e2e":"tt4b-ads-popup-img"},{children:(0,o.jsx)(ct,{width:71,height:71,fill:"white"},void 0)}),void 0),(0,o.jsxs)(mt,{children:[(0,o.jsx)(ft,Object.assign({"data-e2e":"tt4b-ads-popup-title"},{children:r("pcad_tt4b_header2")}),void 0),(0,o.jsx)(bt,Object.assign({"data-e2e":"tt4b-ads-popup-description"},{children:r("pcad_small_body")}),void 0)]},void 0),(0,o.jsx)(pt,Object.assign({size:"small",buttonTheme:"primary",onClick:t,"data-e2e":"tt4b-ads-popup-start"},{children:r("pcad_get_started_btn1")}),void 0),(0,o.jsx)("div",Object.assign({onClick:d,"data-e2e":"tt4b-ads-popup-close"},{children:(0,o.jsx)(xt,{},void 0)}),void 0)]}),void 0)}));var wt=i(74820),kt=i(54006),jt=i(96082),_t=i(4245),Ct=i(34718),It=i(50829);const Pt=(0,l.memo)((function(e){var t,i;const n=(0,l.useRef)(null),a=(0,l.useRef)(null),r=(0,l.useRef)(null),s=(0,l.useRef)(null),[c,u]=(0,l.useState)(!1),[v,h]=(0,l.useState)(!0),{direction:g}=(0,wt.u)(),m=(0,l.useRef)("0"),{user:f}=null!==(t=(0,d.Lh)((()=>["user"]),[]))&&void 0!==t?t:{},{vid:b,seek:x,videoRef:y,progressReportCallback:w,extraBottomSpace:k=!1,isXgPlayer:j,isBrowserMode:_}=e;(0,l.useEffect)((()=>{m.current=b}),[b]);const{bindDrag:C,seek:I,seekByDelta:P,videoPercent:M,duration:S,currentTime:O}=(0,kt.z)({direction:g,progressRef:a,circleRef:r,videoId:e.vid,barRef:s,initialPercent:0,draggingStateCb:u,draggingPercentCb:x,progressReportCallback:w}),E=(0,l.useCallback)((()=>{(0,Ct.j)(`${null==f?void 0:f.uid}`)}),[null==f?void 0:f.uid]),T=(0,l.useCallback)((()=>{(0,Ct.Z)(`${null==f?void 0:f.uid}`)||E(),v||h(!0)}),[null==f?void 0:f.uid,E,v]),L=(0,l.useCallback)(((e,t)=>i=>{if(9===i.keyCode)return;i.preventDefault(),i.stopPropagation();const o=Ie.xN/(e||100);38===i.keyCode||39===i.keyCode?P(o,!0,t):40===i.keyCode||37===i.keyCode?P(-1*o,!0,t):36===i.keyCode?P(-1,!1,t):35===i.keyCode&&P(1,!1,t)}),[P]);if(0===O||!(null===(i=null==y?void 0:y.current)||void 0===i?void 0:i.currentCanPlay)&&j&&_)return null;const D="ltr"===g?{left:`calc(${100*M}%)`}:{right:`calc(${100*M}%)`};return(0,o.jsx)(_t.H,Object.assign({visible:!v,text:"webapp_seekbar_tooltip",onShow:E},{children:(0,o.jsxs)(It.ov,Object.assign({show:c,extraBottomSpace:k,onMouseDown:p.UW,onClick:T,isDisplayForAnyWidth:!0},{children:[(0,o.jsxs)(It.yx,Object.assign({ref:n},{children:[(0,o.jsx)(It.MT,{ref:a,onClick:I,onMouseDown:C,tabIndex:0,role:"slider","aria-label":"progress bar","aria-valuenow":M,"aria-valuetext":(0,jt.xo)(O),onKeyDown:L(S,M)},void 0),(0,o.jsx)(It.FL,{ref:r,style:D,onMouseDown:C},void 0),(0,o.jsx)(It.$_,{ref:s,style:{transform:`scaleX(${M}) translateY(-50%)`},onClick:I,onMouseDown:C},void 0)]}),void 0),(0,o.jsx)(It.F7,{children:"ltr"===g?`${(0,jt.xo)(O)}/${(0,jt.xo)(S)}`:`${(0,jt.xo)(S)}/${(0,jt.xo)(O)}`},void 0)]}),void 0)}),void 0)}));var Mt=i(26258);const St=(0,I.Z)("div",{target:"e1exqkaz0"})({width:"28px",height:"96px",margin:"8px 6px",display:"block",position:"relative",background:"rgba(255, 255, 255, 0.12)",borderRadius:"32px"},(({theme:e})=>(0,M.ZD)({theme:e,isUiOptimise:!0})),"label:DivVolumeControlContainer;"),Ot=(0,I.Z)("div",{target:"e1exqkaz1"})((({theme:{colors:e}})=>({width:"4px",height:"80px",backgroundColor:e.ConstTextInverse5,position:"absolute",left:"12px",top:"8px",bottom:"8px",cursor:"pointer"})),"label:DivVolumeControlProgress;"),Et=(0,I.Z)("div",{target:"e1exqkaz2"})((({theme:{colors:e}})=>({width:"4px",height:"80px",backgroundColor:e.ConstTextInverse,position:"absolute",left:"12px",bottom:"8px",cursor:"pointer",transform:"scaleY(0)",transformOrigin:"bottom"})),"label:DivVolumeControlBar;"),Tt=(0,I.Z)("div",{target:"e1exqkaz3"})({width:"16px",height:"16px",backgroundColor:"#ffffff",borderRadius:"16px",position:"absolute",left:"6px",bottom:"0",cursor:"pointer",zIndex:1},"label:DivVolumeControlCircle;"),Lt=(0,l.memo)((0,l.forwardRef)((function({teaParams:e,setVolumeDragging:t},i){const n=(0,l.useRef)(null),a=(0,l.useRef)(null),r=(0,l.useRef)(null),s=(0,l.useRef)(!0),{mute:d,volume:c,setVolume:u}=(0,f.DZ)(),v=(0,l.useCallback)(((t,i)=>{Mt.$.handleSwitchSound(Object.assign(Object.assign({},e),{playMode:2,volume_from:t,volume_to:i})),Mt.$.handleVolumeChange({volume_to:c,click_mute:!0})}),[c,e]),h=(0,l.useRef)(d);(0,l.useEffect)((()=>{h.current=d}),[d]);const{percent:g,bindDrag:m,seek:b,seekByDelta:x,update:y}=(0,kt.x)({direction:"vertical",progressRef:n,circleRef:a,barRef:r,initialPercent:c,draggingStateCb:t,progressReportCallback:v}),w=(0,Y.fB)((e=>{s.current?s.current=!1:u(e,h.current)}),[u],160);(0,l.useEffect)((()=>w(g)),[g]),(0,l.useEffect)((()=>{d||c!==Ie.G2||y(Ie.G2)}),[d,c,y]);const k=d?0:g,j=0===k?8:72*k;return(0,l.useImperativeHandle)(i,(()=>({seekByDelta:x}))),(0,o.jsxs)(St,Object.assign({onClick:p.UW},{children:[(0,o.jsx)(Ot,{ref:n,onClick:b,onMouseDown:m},void 0),(0,o.jsx)(Tt,{ref:a,style:{transform:`translateY(-${j}px)`},onMouseDown:m},void 0),(0,o.jsx)(Et,{ref:r,style:{transform:`scaleY(${k})`},onClick:b,onMouseDown:m},void 0)]}),void 0)}))),Dt=(0,l.memo)((function({itemListKey:e,currentIndex:t,needUrlDelegate:i=!0,onCloseBrowserMode:a,onNextVideo:r,onPrevVideo:s,teaParams:b,onJumpSamePage:y,isUiOptimise:w,zIndex:k=1e3,openFocusLock:j=!0,disableUpdate:_=!1}){var C,I,P,M,S;const O=(0,h.Q)(),{user:E,language:T,abTestVersion:L}=null!==(C=(0,d.Lh)((()=>["user","language","abTestVersion"]),[]))&&void 0!==C?C:{},[D,B]=(0,l.useState)(!1),[R,Z]=(0,l.useState)(!0),z=(0,l.useRef)(!1),V=(0,l.useRef)(null),A=(0,l.useRef)(!1),F=(0,l.useRef)(null),U=(0,l.useRef)(!1),q=(0,l.useRef)(null),{mute:H,setMute:W}=(0,f.s_)(2),N=(0,l.useCallback)((e=>{var t,i,o,n;9!==e.keyCode&&(e.preventDefault(),e.stopPropagation(),13===e.keyCode||32===e.keyCode?W(!H):38===e.keyCode||39===e.keyCode?null===(t=q.current)||void 0===t||t.seekByDelta(Ie.$B,!1):40===e.keyCode||37===e.keyCode?null===(i=q.current)||void 0===i||i.seekByDelta(-1*Ie.$B,!1):36===e.keyCode?null===(o=q.current)||void 0===o||o.seekByDelta(1,!1):35===e.keyCode&&(null===(n=q.current)||void 0===n||n.seekByDelta(-1,!1)))}),[H,W]),{isUseNativePlayer:$}=(0,Pe.It)(),{currentId:G="",prefetchId1:K="",prefetchId2:Q="",listLength:J=0}=(0,g.m7)((0,m.pe)({itemListKey:e,currentIndex:t})),[X,ee]=(0,n.b7)(We.A,{selector:e=>e[G],dependencies:[G]}),{shouldUseAds:te}=(0,Pe.Ny)(),{withNewStyle:ie}=(0,_e.C)(),oe=(0,c.Sf)("is_ads_debug"),{isTT4BAds:ne=!1,isTT4BAdsPopupClosed:le=!1}=(0,l.useMemo)((()=>null!=X?X:{isTT4BAds:!1,isTT4BAdsPopupClosed:!1}),[X]),ae=oe||te&&ne,re=null!==(I=null==X?void 0:X.id)&&void 0!==I?I:"",se=(0,Ve.p)(null==X?void 0:X.author),de=null!==(P=null==X?void 0:X.downloadSetting)&&void 0!==P?P:0,$e=null!==(M=null==X?void 0:X.authorPrivate)&&void 0!==M&&M;(0,m.xf)({author:se,item:X,currentIndex:t,itemListKey:e,needUrlDelegate:i,onCloseBrowserMode:a,isTT4BAds:ae,disableUpdate:_});const Ge=t<J-1,Ke=(0,l.useMemo)((()=>({isTT4BAds:ae,play_mode:"browser_mode"})),[ae]),Ye=(0,l.useCallback)(((e="click",t)=>{ee.postLikeVideo(Object.assign({id:re,enter_method:e,media_type:t},b))}),[ee,re,b]),Qe=(0,Oe.X)({action:Ye,modalConfig:{query:{enter_method:"click_like"}}}),Je=(0,n.mp)(Ce.bg,{selector:e=>e.blockedVideos||[],dependencies:[]}),[Xe,et]=(0,l.useState)(!1),[tt,it]=(0,l.useState)(!1),[ot,nt]=(0,l.useState)(!1),[st,dt]=(0,l.useState)(!1),ct=(0,l.useCallback)((()=>{nt(!0)}),[]),ut=(0,l.useCallback)((()=>{nt(!1)}),[]),vt=(0,l.useCallback)((()=>{it(!0)}),[]),ht=(0,l.useCallback)((()=>{it(!1)}),[]);(0,l.useEffect)((()=>{et(!0)}),[]);const{showVideoMask:pt,maskType:gt,videoMaskTitle:mt,videoMaskDesc:ft,icon:bt,videoMaskFirstButtonText:xt,videoMaskSecondButtonText:wt}=(0,Ae.g)({playMode:2,item:null!=X?X:{},isLogin:Boolean(E)}),[{photoSensitiveVideosSetting:kt,hideMaskTempVideoId:jt},_t]=(0,n.b7)(Fe.P),Ct=pt&&jt!==re,Mt=(0,l.useRef)(null),St=(0,Me.kw)(X),Ot=(0,Me.K$)(X),Et=(0,l.useCallback)(((e,t="click")=>{e.preventDefault(),e.stopPropagation(),W(!H,t,Ot)}),[H,Ot,W]),{handleLinkClick:Tt,handleClose:Dt,handleNext:Bt,handlePrev:Rt,preventDefault:Zt,videoPlayerRef:zt,togglePlay:Vt,isInputEmpty:At,showLeaveModal:Ft,handleConfirmLeave:Ut,handleCancelLeave:qt}=(0,m.q5)({onCloseBrowserMode:a,onNextVideo:r,onPrevVideo:s,pause:D,shouldPause:Ct,setPause:e=>{B(e),z.current=e},embedVisibleRef:A,group_id:re,handleLikeClick:Qe,author_id:null==X?void 0:X.authorId,itemListKey:e,onJumpSamePage:y,isPhotoMode:St,photoVideoRef:Mt,photoTeaParams:Ot,setIsShowPhoto:e=>{Z(e)}}),Ht=(0,l.useCallback)((()=>{B(!0),z.current=!0}),[]),Wt=(0,l.useRef)(!1),Nt=(0,l.useCallback)((e=>{var t,i;null===(i=null===(t=zt.current)||void 0===t?void 0:t.seek)||void 0===i||i.call(t,e)}),[zt]),$t=(0,l.useCallback)((()=>{Wt.current=!0,setTimeout((()=>{Wt.current=!1}),500)}),[]),Gt=(0,l.useCallback)((()=>{Wt.current&&(Vt("click_pause"),Wt.current=!1)}),[Vt]);(0,m._0)({showLeaveModal:Ft,group_id:re});const Kt=(0,Oe.X)({action:(0,l.useCallback)((e=>{if(!Wt.current)return;const{clientX:t,clientY:i}=e;new Ee.B(t,i).emit(),ee.postLikeVideo(Object.assign(Object.assign(Object.assign({id:re,forceLike:!0},b),Ke),{enter_method:"double_tap"})),Wt.current=!1}),[re,ee,b,Ke]),modalConfig:{query:{enter_method:"click_like"}}}),Yt=(0,we.D)((()=>({onClick:Gt,onDoubleClick:Kt})),[Kt,Gt]),Qt=(0,He.Q)({item:X,onShow:p.NS}),Jt=(0,l.useCallback)((e=>{A.current=e}),[]),Xt=H?ue.Z:ve.Z,ei=(0,m.om)({handleNext:Bt,handlePrev:Rt,hasNext:Ge,currentIndex:t,itemListKey:e,isUiOptimise:w});(0,f.$v)(2);const{showModal:ti,hideModal:ii}=(0,x.J)();(0,l.useEffect)((()=>(ti(!0),()=>{ii()})),[ii,ti]),(0,l.useEffect)((()=>{var e,t,i,o,n,l,a,r;X&&Je.includes(X.id)&&(St?(null===(i=null===(t=null===(e=Mt.current)||void 0===e?void 0:e.audio)||void 0===t?void 0:t.pause)||void 0===i||i.call(t),null===(l=null===(n=null===(o=Mt.current)||void 0===o?void 0:o.swiper)||void 0===n?void 0:n.pause)||void 0===l||l.call(n,"other"),B(!D)):null===(r=null===(a=zt.current)||void 0===a?void 0:a.pause)||void 0===r||r.call(a))}),[Je,St,X,D,zt]),(0,l.useEffect)((()=>{var e;(null==X?void 0:X.video)||a({fromPopState:_,playProgress:null===(e=zt.current)||void 0===e?void 0:e.currentTime})}),[X,a,zt,_]);const{showAnalyticsButton:oi}=(0,m.zX)(X),ni=(0,l.useMemo)((()=>{const{video:{bitrate:e=-1,encodedType:t="",format:i="",videoQuality:o="",encodeUserTag:n="",codecType:l="",definition:a=""}={},authorId:r="",id:s="",scheduleTime:d,adLabelVersion:c,poi:u,subVideoMeta:v}=null!=X?X:{},h=Object.assign(Object.assign({},b),{author_id:r,group_id:s,is_scheduled:Boolean(d),bitrate:Number(e),encodedType:t,format:i,videoQuality:o,encodeUserTag:n,codecType:l,definition:a,isPaidPartnership:2===c,poi_id:null==u?void 0:u.id,is_sub_only_video:v?1:0});return V.current=h,h}),[X,b]),li=(0,l.useMemo)((()=>{var e;return Object.assign(Object.assign(Object.assign({},b),Ot),{poi_id:null===(e=null==X?void 0:X.poi)||void 0===e?void 0:e.id,is_sub_only_video:(null==X?void 0:X.subVideoMeta)?1:0})}),[b,X,Ot]),ai=(0,l.useCallback)(((e,t)=>{var i,o;pe.Z.handleSeekBarClick(Object.assign({fromPercent:e,toPercent:t,video_length:null!==(o=null===(i=zt.current)||void 0===i?void 0:i.duration)&&void 0!==o?o:0,is_pause:z.current,play_mode:"browser_mode"},V.current))}),[zt]),ri=(0,n.qj)(Re.M),si=(0,l.useCallback)((e=>{var t,i,o;const n=null===(t=zt.current)||void 0===t?void 0:t.duration;ri.setVideoInfo({videoId:re,videoPercent:e,currentTime:null!==(o=null===(i=zt.current)||void 0===i?void 0:i.currentTime)&&void 0!==o?o:0,duration:n})}),[re,ri,zt]),di=(0,l.useRef)(-1),ci=(0,l.useRef)(void 0),ui=(0,l.useRef)(-1),vi=(0,l.useRef)(0),hi=(0,l.useCallback)((()=>{clearTimeout(ui.current),vi.current=0}),[]),[pi,gi]=(0,n.b7)(ye.f,{selector:e=>{var t;return Number(null===(t=e.currentVideo)||void 0===t?void 0:t.index)},dependencies:[]}),mi=(0,l.useRef)(!1);(0,l.useEffect)((()=>{var e,i,o,n,l,a;Ct||(gi.updateVideo({currentVideo:{id:re,index:t,mode:2},playProgress:null!==(i=null===(e=zt.current)||void 0===e?void 0:e.currentTime)&&void 0!==i?i:0}),null===(n=null===(o=zt.current)||void 0===o?void 0:o.play)||void 0===n||n.call(o),hi()),t!==di.current&&(-1!==di.current&&(_t.setHideMaskTempVideoId(""),Xe&&et(!1),mi.current=!1),hi(),void 0===kt&&"photo_sensitive"===ci.current&&_t.setSkipPhotoSensitive({skip:!1,hasLogin:Boolean(E)}),pt?("photo_sensitive_denied"===gt?ge.W.handleShowPhotosensitiveRemoved({group_id:re}):ge.W.handleShowMaskLayer({scenario:"general_sensitive"===gt?"general":"photosensitive",group_id:re}),ui.current=window.setInterval((()=>{var e,t,i;vi.current++>100&&hi(),(null===(e=zt.current)||void 0===e?void 0:e.currentCanPlay)&&(null===(i=(t=zt.current).pause)||void 0===i||i.call(t),hi())}),50)):null===(a=null===(l=zt.current)||void 0===l?void 0:l.play)||void 0===a||a.call(l),di.current=t,ci.current=gt)}),[pt,Ct,zt,t,gt,_t,kt,hi,Xe,jt,re,gi,E]);const fi=(0,l.useCallback)((e=>{Dt(e),hi()}),[Dt,hi]),bi=(0,l.useCallback)((e=>{if((0,p.NS)(e),"general_sensitive"===gt){if(mi.current)return;Ge?Bt(e):J>1?Rt(e):Dt(e),ge.W.handleMaskLayerClickSkip({scenario:"general",group_id:re}),xe.h.open({content:O("photosensitive_skepped_toast"),duration:3,widthType:"half"}),mi.current=!0}else _t.setSkipPhotoSensitive({skip:!1,hasLogin:Boolean(E)}),hi(),ge.W.handleMaskLayerClickWatch({scenario:"photosensitive",group_id:re})}),[gt,Ge,J,O,Bt,Rt,Dt,_t,hi,re,E]),xi=(0,l.useCallback)((e=>{if((0,p.NS)(e),"general_sensitive"===gt)_t.setHideMaskTempVideoId(re),hi(),ge.W.handleMaskLayerClickWatch({scenario:"general",group_id:re});else{if(mi.current)return;Ge?Bt(e):1===J?(null==E?void 0:E.uid)===(null==X?void 0:X.authorId)&&Dt(e):Rt(e),_t.setSkipPhotoSensitive({skip:!0,hasLogin:Boolean(E)}),ge.W.handleMaskLayerClickSkip({scenario:"photosensitive",group_id:re}),xe.h.open({content:O("photosensitive_skepped_toast"),duration:3,widthType:"half"}),mi.current=!0}}),[gt,_t,re,hi,Ge,O,Bt,J,null==X?void 0:X.authorId,Dt,Rt,E]),yi=(0,l.useRef)(null),wi=(0,l.useRef)(0),ki=(0,l.useRef)(-1),ji=(0,l.useRef)((new Date).getTime()),_i=(0,l.useRef)(""),Ci=(0,Y.fB)((e=>{if(_i.current===G)return;e.stopPropagation(),ki.current&&clearTimeout(ki.current),ki.current=window.setTimeout((()=>{wi.current=0}),100);const t=(new Date).getTime(),i=e.wheelDelta||-e.deltaY||-e.detail,o=Math.max(-1,Math.min(1,i)),n=t-ji.current;wi.current=wi.current+1,ji.current=t,n>100&&1===wi.current&&(o<0?Bt(e,"scroll"):Rt(e,"scroll"),_i.current=G)}),[G,Bt,Rt],20),Ii=(0,l.useCallback)((e=>{13!==e.keyCode&&32!==e.keyCode||Qt(e)}),[]),{video:Pi,id:Mi,itemMute:Si,warnInfo:Oi,scheduleTime:Ei,subVideoMeta:Ti}=(0,g.m7)(X),{cover:Li,playAddr:Di="",width:Bi=1,height:Ri=1,duration:Zi,bitrateInfo:zi,zoomCover:Vi,bitrate:Ai,volumeInfo:Fi}=(0,g.m7)(Pi),Ui=(null==Vi?void 0:Vi[720])||Li,qi=(Bi/Ri||1)>=1,Hi=Boolean(null==Oi?void 0:Oi[0])||Boolean(Ei),[{contextMenuOpen:Wi},{openContextMenu:Ni}]=(0,n.b7)(Ze.vI),$i=St?"photo":"video",Gi=(0,ce.fz)(me.p),[Ki,Yi]=(0,l.useState)(!1),Qi=(0,l.useCallback)((()=>{Gi.handleClickShare({author_id:null==se?void 0:se.id,group_id:Mi,enter_method:"click_context_menu",media_type:$i,is_sub_only_video:Ti?1:0}),Yi(!0)}),[null==se?void 0:se.id,Mi,$i,Gi,Ti]),Ji=(0,Oe.X)({action:Qi,modalConfig:{query:{enter_method:"click_share"}}}),Xi=(0,l.useCallback)((()=>{Yi(!1)}),[Yi]),eo=(0,l.useCallback)((e=>{var t,i;e.preventDefault();const o=["link"];St?o.push("photo"):(o.push("details"),$e||0!==de||Ti||o.push("download"),document.pictureInPictureEnabled&&o.push("pip")),E&&!(null==E?void 0:E.hasIMPermission)||o.push("share"),(0,Se.b)("custom_right_click_menu",!1).should_show_additional_options&&o.push("like","user"),fe.s.handleContextMenu({media_type:$i}),Ni({location:{x:e.clientX,y:e.clientY},videoInfo:{downloadAddr:null!==(t=null==X?void 0:X.video.downloadAddr)&&void 0!==t?t:"",videoId:re,author:null!==(i=null==se?void 0:se.uniqueId)&&void 0!==i?i:"",videoElement:e.target,videoLikeHandler:()=>Qe("click_context_menu",$i),videoShareHandler:Ji,mediaType:$i},menuOptions:o})}),[se,re,X]),to=(0,l.useCallback)((e=>{var t;U.current||9!==e.keyCode||(null===(t=F.current)||void 0===t||t.setAttribute("tabindex","-1"),U.current=!0)}),[]),io=(0,l.useCallback)((e=>{Wi||Yt(e)}),[Wi,Yt]),oo="BR"===(null==E?void 0:E.storeRegion),no=null!==(S=(0,c.N8)(L,"creator_center_connect"))&&void 0!==S?S:"v1",lo=oo&&"v1"!==no?`/creator-center/analytics/video/posted/${Mi}`:`/analytics/video/posted/${Mi}?lang=${T}`,ao=oo&&"v2"===no?"_self":"_blank",ro=(0,m.QO)(e),so=(0,l.useMemo)((()=>!j||!ro),[ro,j]),co=(0,l.useCallback)((()=>{var e;so||null===(e=document.querySelector(`#${ro}-${t}`))||void 0===e||e.focus()}),[t,ro,so]),uo=(0,l.useCallback)((()=>be.F.handleClickAnalyticsVideoCover(re)),[re]);return(null==X?void 0:X.video)?(0,o.jsx)(u.ZP,Object.assign({disabled:so,onDeactivation:co},{children:(0,o.jsxs)(rt.E9,Object.assign({tabIndex:0,ref:F,onKeyDown:to,role:"dialog","aria-modal":!0,style:{zIndex:k}},{children:[(0,o.jsxs)(rt.ik,Object.assign({isUiOptimise:w,onWheel:Ci,ref:yi,onClick:io,onMouseDown:$t},{children:[ie&&(0,o.jsx)(rt.iT,{children:(0,o.jsx)(je.o,{onBrowserModeClose:Dt},void 0)},void 0),(0,o.jsx)(rt.lI,{style:{backgroundImage:`url(${Ui})`}},void 0),(0,o.jsxs)(rt.L7,Object.assign({isUiOptimise:w,onContextMenu:eo},{children:[St?R&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Te.C,{ref:Mt,mode:2,playModeForTea:2,item:X,teaParams:ni,index:t,onTimeUpdate:si},void 0),(0,o.jsx)(at.h,{photoVideoRef:Mt,item:X},void 0)]},void 0):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(qe.S,{poster:Ui,horizontal:qi,mode:2,ref:zt,desc:X.desc,id:Mi,playUrl:Di,index:t,itemMute:Boolean(Si),duration:Zi,bitrateInfo:zi,bitrate:Number(Ai),teaParams:ni,onVideoError:Ht,onTimeUpdate:si,e2eTag:"browse-video",volumeInfo:Fi},Mi),(0,o.jsx)(Pt,{seek:Nt,videoRef:zt,vid:Mi,progressReportCallback:ai,extraBottomSpace:Hi,isXgPlayer:!$,isBrowserMode:!0},void 0)]},void 0),(0,o.jsx)(It.Am,{onMouseDown:p.UW},void 0),(0,o.jsx)(It.Gb,{onMouseDown:p.UW},void 0),Je.includes(X.id||"")?(0,o.jsx)(Le.C,{item:X,zIndex:1,styleContainer:rt.MY,styleMaskTitle:rt.fz,styleMaskDetail:rt.IK},void 0):null,Ct&&(0,o.jsx)(Ue.a,{playMode:2,icon:bt,title:mt,desc:ft,firstButtonText:xt,secondButtonText:wt,onClickFirstButton:bi,onClickSecondButton:xi},void 0)]}),void 0),D&&!St&&(0,o.jsx)(rt.P_,{width:70,height:70,fill:"#fff"},void 0),ae&&!le&&(0,o.jsx)(yt,{onClick:Zt,itemId:Mi},void 0),(0,o.jsx)(rt.Sf,Object.assign({onClick:fi,onMouseDown:p.UW,isUiOptimise:w,role:"button","aria-label":O("Close")},{children:(0,o.jsx)(v.Z,{width:18,height:18,fill:"#fff"},void 0)}),void 0),(0,o.jsx)(rt.ps,{width:40,height:40,onClick:Zt},void 0),(0,o.jsxs)(rt.oT,Object.assign({widerBottom:Hi,onMouseEnter:vt,onMouseLeave:ht,onMouseDown:p.UW},{children:[tt||st||ot?(0,o.jsx)(Lt,{teaParams:Ot,setVolumeDragging:dt,ref:q},void 0):null,(0,o.jsx)(rt.sL,Object.assign({onClick:Et,onKeyDown:N,onFocus:ct,onBlur:ut,widerBottom:Hi,isUiOptimise:w,tabIndex:0,role:"button","aria-label":O("pc_web_volume_btn")},{children:(0,o.jsx)(Xt,{width:40,height:40,fill:"none"},void 0)}),void 0)]}),void 0),ei,!ae&&(0,o.jsxs)(rt.Q9,Object.assign({onClick:Qt,isUiOptimise:w,role:"button","aria-label":O("pc_web_report_btn"),tabIndex:0,onKeyDown:Ii},{children:[(0,o.jsx)(rt.OY,{width:16,height:15},void 0),O("Report")]}),void 0),oi&&!Ei&&(0,o.jsxs)(rt.wh,Object.assign({href:lo,target:ao,onClick:uo},{children:[(0,o.jsx)(he.Z,{width:20,height:20,fill:"#fff",style:{marginInlineEnd:"6px"}},void 0),O("view_analytics")]}),void 0),(null==Oi?void 0:Oi[0])&&(0,o.jsx)(rt.zo,{children:(0,o.jsx)(De.p,{info:Oi[0]},void 0)},void 0),Boolean(Ei)&&(0,o.jsx)(rt.zo,{children:(0,o.jsx)(Be.W,{isTextAlignStart:!0,scheduledTime:Number(Ei),height:56,fontSize:14,iconSize:18.33,iconMargin:4.83},void 0)},void 0)]}),void 0),(0,o.jsx)(lt,{item:X,prefetchId1:K,prefetchId2:Q,teaParams:li,onLinkClick:Tt,onEmbedVisibleChange:Jt,videoReportParams:ni,isTT4BAds:ae,onClose:Dt},void 0),(0,o.jsx)(Ne.S,{visible:Ft,needLeaveCheck:!At,onConfirmLeave:Ut,onCancelLeave:qt},void 0),Ki&&(0,o.jsx)(ze.J,{visible:Ki,videoId:Mi,onClose:Xi},void 0)]}),void 0)}),void 0):(0,ke.G)(["item.video"])}));function Bt(e,t=!0,i=1e3){return function(u){const v=a=>{var v,h;const{itemListKey:p,currentIndex:g,closeBrowserMode:m,isLiveBrowserShowing:f,isBrowserModeShowing:b,disableUpdate:x,showBrowserMode:y,teaParams:w,enterFrom:k}=(0,se.J)(),j=(0,n.qj)(de.O),_=(0,n.qj)(s.r),C=(0,d.Lh)((()=>["abTestVersion"]),[]),I=null!==(v=(0,c.N8)(null==C?void 0:C.abTestVersion,"search_video"))&&void 0!==v?v:"v1",{user:P}=null!==(h=(0,d.Lh)((()=>["user"]),[]))&&void 0!==h?h:{},M=Boolean(P),S=("general_search"===k||"search_video"===k)&&!M,O=(0,l.useCallback)((({playProgress:e,fromPopState:i,shouldPause:o}={})=>{m({playProgress:e,shouldPause:o}),!i&&t&&window.history.back()}),[m]),E=(0,l.useCallback)((()=>{j.clickSamePage()}),[j]);!function(e){const t=(0,l.useRef)(),i=(0,r.k6)();(0,l.useEffect)((()=>{var o,n;const l=null!==(n=null===(o=null==i?void 0:i.location)||void 0===o?void 0:o.pathname)&&void 0!==n?n:"";l&&t.current!==l&&(null==e||e(t.current),t.current=l)}),[i,e])}((()=>{b&&m(void 0)})),(0,l.useEffect)((()=>{j.setItemListKey(e)}),[j]);const T=(0,l.useMemo)((()=>({closeBrowserMode:m,showBrowserMode:y,isBrowserModeShowing:b,isLiveBrowserShowing:f})),[m,b,f,y]),L=(0,l.useCallback)((()=>{5!==g||!S||"v3"!==I&&"v4"!==I?j.handleNextVideo():_.openModal({isSignup:!1,query:{redirect_url:window.location.href,enter_method:"click_top_bar",enter_from:k,type:"loginsearchmore"}})}),[j,g,_,I,k,S]);return(0,o.jsxs)(se._.Provider,Object.assign({value:T},{children:[(0,o.jsx)(u,Object.assign({},a),void 0),f?(0,o.jsx)(re,{itemListKey:p,currentIndex:g,zIndex:i,onCloseBrowserMode:O,onNextVideo:L,onPrevVideo:j.handlePrevVideo},void 0):Boolean(b)&&(0,o.jsx)(Dt,{isUiOptimise:!0,disableUpdate:x,itemListKey:p,currentIndex:g,onNextVideo:L,onPrevVideo:j.handlePrevVideo,needUrlDelegate:t,zIndex:i,onCloseBrowserMode:O,teaParams:w,onJumpSamePage:E},void 0)]}),void 0)};return v.displayName=`WithBrowserMode(${(0,a.i)(u)})`,v}}},80096:(e,t,i)=>{e.exports=i.p+"9d131fa34514b735d277.png"},68459:(e,t,i)=>{e.exports=i.p+"557e30ee20e65d22151f.png"}}]);